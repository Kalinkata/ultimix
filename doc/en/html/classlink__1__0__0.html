<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ultimix: link_1_0_0 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>link_1_0_0 Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="link_1_0_0" -->
<p><a href="classlink__1__0__0-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a095c5d389db211932136b53f25f39685">__construct</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#af26ecfec5774a0f6be80a79263e10407">get_type_from_cache</a> ($Object1Type, $Object2Type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a1d9a89a8012ae245f1438787bcec253a">fill_cache</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a92a7913984cc8361f0334e68fb2319a2">get_type_from_db</a> ($Object1Type, $Object2Type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a2318bd82a1991bb16350b01e0584a45a">create_link_type</a> ($Object1Type, $Object2Type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a4f865d3fc401219538a03cb37bfe456e">get_link_type</a> ($Object1Type, $Object2Type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a2bc662ee8f897d955f98b93ec144cc06">get_link_literal_type</a> (&amp;$Type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#aadd34bab3e726d2a6b604302c5849036">create_link_object</a> ($Object1Id, $Object2Id, $Object1Type, $Object2Type, $SingleLinkOnly=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a906fcc7cce1e117abda4b6f2a1b0d148">create_link</a> ($Object1Id, $Object2Id, $Object1Type, $Object2Type, $SingleLinkOnly=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a3b5dd6bcea2f615da8d56ec2d583dddc">compile_select_condition</a> ($ObjectId, $FieldName, $Conditions)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a54d1b92c871251dfc8d67267d39a2d2d">prepare_conditions</a> ($Object1Id, $Object2Id, $Object1Type, $Object2Type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a5ca4f857941b3fa94b5b2d43fefbe971">get_links</a> ($Object1Id, $Object2Id, $Object1Type, $Object2Type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#ac42c7ff85dd46f95f4d6195791cbeaf2">delete_link</a> ($Object1Id, $Object2Id, $Object1Type, $Object2Type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#aa33a757333e3d8a86d5cb7d2641ebb04">get_sub_records</a> ($Object1Type, $Object2Type, &amp;$Records, $FieldName1, $JoiningTableName, $FieldName2, $Fields= '*')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a0ae1c5b2f57ff14421d2ccdaccbaef0f">get_joining_records</a> (&amp;$Records, $FieldName1, $FieldName2, $JoiningTableName, $ExtendingFields, $Condition= '1=1')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a842dba87ce2b60dca619fec31ad5d487">join_data</a> (&amp;$Records, $Object1Type, $Object2Type, $FieldName1, $FieldName2, $JoiningTableName, $JoinName, $Fields= '*')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#ac31196318f0f7ee392a821841ba77a0c">join_single_to_single_data</a> (&amp;$Records, $FieldName1, $FieldName2, $JoiningTableName, $JoinName, $Fields= '*', $Condition= '1=1')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a1ba5d308f00cf28cca7b3a4d7b940578">join_single_to_many_data</a> (&amp;$Records, $FieldName1, $FieldName2, $JoiningTableName, $JoinName, $Fields= '*', $Condition= '1=1')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a63a7480c9c2bb5aa3ae6f4c6e489d656">extend_records</a> (&amp;$Records, $FieldName1, $FieldName2, $JoiningTableName, $ExtendingFields, $Condition= '1=1')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#ad7186b1eaa4d25253c6ccdb39cdec0bc">get_links_count</a> ($Object1Id, $Object2Id, $Object1Type, $Object2Type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a0fd9a05d071a49e87c275e2d90386dd3">link_exists</a> ($Object1Id, $Object2Id, $Object1Type, $Object2Type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#afa3525f4dbe6df26b617b5aec4708bfa">update_link</a> ($Object1Id, $OldObject2Id, $NewObject2Id, $Object1Type, $Object2Type)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#afae1e5da4e0a35964c9b826d60f13e28">$LinkTypesDictionary</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#ae10cc045c1502f148d1aa728183898e7">$Database</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#aaae5f70ebc2b60f22e8159944cd2d518">$Security</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a541f49d5b9cf7bae2f91f639abcf3458">$String</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlink__1__0__0.html#ad3377fd103ea8c6d35b0ee60e4e9c46d">$UserAlgorithms</a> = false</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class allows to create many-to-many links.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00026">26</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a095c5d389db211932136b53f25f39685"></a><!-- doxytag: member="link_1_0_0::__construct" ref="a095c5d389db211932136b53f25f39685" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor.</p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00070">70</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $this-&gt;Database = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;database&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        $this-&gt;Security = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;security&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        $this-&gt;String = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;string&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        $this-&gt;UserAlgorithms = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;user::user_algorithms&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3b5dd6bcea2f615da8d56ec2d583dddc"></a><!-- doxytag: member="link_1_0_0::compile_select_condition" ref="a3b5dd6bcea2f615da8d56ec2d583dddc" args="($ObjectId, $FieldName, $Conditions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">compile_select_condition </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ObjectId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Conditions</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function creates conditions for query.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$ObjectId</em>&nbsp;</td><td>- Object's id.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName</em>&nbsp;</td><td>- Field name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Conditions</em>&nbsp;</td><td>- Conditions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>New conditions.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00528">528</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( $ObjectId !== <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">if</span>( is_array( $ObjectId ) )
                              {
                                    $ObjectId = implode( <span class="charliteral">&#39;,&#39;</span> , $ObjectId );
                              }

                              $ObjectId = $this-&gt;Security-&gt;get( $ObjectId , <span class="stringliteral">&#39;integer_list&#39;</span> );
                              
                              $Conditions [] = <span class="stringliteral">&quot;$FieldName IN ( $ObjectId )&quot;</span>;
                        }
                        
                        <span class="keywordflow">return</span>( $Conditions );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a906fcc7cce1e117abda4b6f2a1b0d148"></a><!-- doxytag: member="link_1_0_0::create_link" ref="a906fcc7cce1e117abda4b6f2a1b0d148" args="($Object1Id, $Object2Id, $Object1Type, $Object2Type, $SingleLinkOnly=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_link </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>SingleLinkOnly</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function creates link.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Id</em>&nbsp;</td><td>- Id of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Id</em>&nbsp;</td><td>- Id of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$SingleLinkOnly</em>&nbsp;</td><td>- Only one link allowed.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00466">466</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( is_array( $Object1Id ) )
                        {
                              <span class="keywordflow">foreach</span>( $Object1Id as $k =&gt; $o1id )
                              {
                                    $this-&gt;<a class="code" href="classlink__1__0__0.html#a906fcc7cce1e117abda4b6f2a1b0d148">create_link</a>( $o1id , $Object2Id , $Object1Type , $Object2Type , $SingleLinkOnly );
                              }
                        }
                        elseif( is_array( $Object2Id ) )
                        {
                              <span class="keywordflow">foreach</span>( $Object2Id as $k =&gt; $o2id )
                              {
                                    $this-&gt;<a class="code" href="classlink__1__0__0.html#a906fcc7cce1e117abda4b6f2a1b0d148">create_link</a>( $Object1Id , $o2id , $Object1Type , $Object2Type , $SingleLinkOnly );
                              }
                        }
                        <span class="keywordflow">else</span>
                        {
                              $this-&gt;<a class="code" href="classlink__1__0__0.html#aadd34bab3e726d2a6b604302c5849036">create_link_object</a>( 
                                    $Object1Id , $Object2Id , $Object1Type , $Object2Type , $SingleLinkOnly
                              );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aadd34bab3e726d2a6b604302c5849036"></a><!-- doxytag: member="link_1_0_0::create_link_object" ref="aadd34bab3e726d2a6b604302c5849036" args="($Object1Id, $Object2Id, $Object1Type, $Object2Type, $SingleLinkOnly=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_link_object </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>SingleLinkOnly</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function creates link object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Id</em>&nbsp;</td><td>- Id of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Id</em>&nbsp;</td><td>- Id of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$SingleLinkOnly</em>&nbsp;</td><td>- Only one link allowed.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00405">405</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( $SingleLinkOnly &amp;&amp; $this-&gt;<a class="code" href="classlink__1__0__0.html#a0fd9a05d071a49e87c275e2d90386dd3">link_exists</a>( $Object1Id , $Object2Id , $Object1Type , $Object2Type ) )
                        {
                              <span class="comment">/* \~russian возможно создание только одной ссылки между объектами</span>
<span class="comment">                                 \~english only one link allowed */</span>
                              <span class="keywordflow">return</span>;
                        }
                        
                        $Object1Id = $this-&gt;Security-&gt;get( $Object1Id , <span class="stringliteral">&#39;integer&#39;</span> );
                        $Object2Id = $this-&gt;Security-&gt;get( $Object2Id , <span class="stringliteral">&#39;integer&#39;</span> );
                        
                        $LinkType = $this-&gt;<a class="code" href="classlink__1__0__0.html#a4f865d3fc401219538a03cb37bfe456e">get_link_type</a>( $Object1Type , $Object2Type );
                        
                        $this-&gt;Database-&gt;insert( <span class="stringliteral">&#39;umx_link&#39;</span> , <span class="stringliteral">&#39;object1_id , object2_id , type&#39;</span> , 
                                                             <span class="stringliteral">&quot;$Object1Id , $Object2Id , $LinkType&quot;</span> );
                        $this-&gt;Database-&gt;commit();
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2318bd82a1991bb16350b01e0584a45a"></a><!-- doxytag: member="link_1_0_0::create_link_type" ref="a2318bd82a1991bb16350b01e0584a45a" args="($Object1Type, $Object2Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_link_type </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function creates new link type.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00235">235</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Object1Type = $this-&gt;Security-&gt;get( $Object1Type , <span class="stringliteral">&#39;string&#39;</span> );
                        $Object2Type = $this-&gt;Security-&gt;get( $Object2Type , <span class="stringliteral">&#39;string&#39;</span> );
                        
                        $this-&gt;Database-&gt;lock( array( <span class="stringliteral">&#39;umx_link_dictionary&#39;</span> ) , array( <span class="stringliteral">&#39;WRITE&#39;</span> ) );
                        $this-&gt;Database-&gt;insert( <span class="stringliteral">&#39;umx_link_dictionary&#39;</span> , <span class="stringliteral">&#39;object1_type , object2_type&#39;</span> , 
                                                             <span class="stringliteral">&quot;&#39;$Object1Type&#39; , &#39;$Object2Type&#39;&quot;</span> );
                        $this-&gt;Database-&gt;commit();
                        $this-&gt;Database-&gt;unlock();
                        
                        $this-&gt;LinkTypesDictionary = <span class="keyword">false</span>;
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac42c7ff85dd46f95f4d6195791cbeaf2"></a><!-- doxytag: member="link_1_0_0::delete_link" ref="ac42c7ff85dd46f95f4d6195791cbeaf2" args="($Object1Id, $Object2Id, $Object1Type, $Object2Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete_link </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function deletes link.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Id</em>&nbsp;</td><td>- Id of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Id</em>&nbsp;</td><td>- Id of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00692">692</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( $Object1Type === <span class="keyword">false</span> &amp;&amp; $Object2Type === <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&quot;At least one type must be set&quot;</span> ) );
                        }
                        
                        $Conditions = $this-&gt;<a class="code" href="classlink__1__0__0.html#a54d1b92c871251dfc8d67267d39a2d2d">prepare_conditions</a>( $Object1Id , $Object2Id , $Object1Type , $Object2Type );
                        
                        $this-&gt;Database-&gt;delete( <span class="stringliteral">&#39;umx_link&#39;</span> , $Conditions );
                        $this-&gt;Database-&gt;commit();
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a63a7480c9c2bb5aa3ae6f4c6e489d656"></a><!-- doxytag: member="link_1_0_0::extend_records" ref="a63a7480c9c2bb5aa3ae6f4c6e489d656" args="(&amp;$Records, $FieldName1, $FieldName2, $JoiningTableName, $ExtendingFields, $Condition= '1=1')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">extend_records </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>JoiningTableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ExtendingFields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Condition</em> = <code>'1&nbsp;=&nbsp;1'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function joins data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Records</em>&nbsp;</td><td>- Array of records to be extended.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName1</em>&nbsp;</td><td>- First field name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName2</em>&nbsp;</td><td>- Second field name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$JoiningTableName</em>&nbsp;</td><td>- Joining table.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$ExtendingFields</em>&nbsp;</td><td>- Fields to add.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Condition</em>&nbsp;</td><td>- Additional conditions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>List of records.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l01128">1128</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $SubRecords = $this-&gt;<a class="code" href="classlink__1__0__0.html#a0ae1c5b2f57ff14421d2ccdaccbaef0f">get_joining_records</a>( 
                              $Records , $FieldName1 , $FieldName2 , $JoiningTableName , 
                              implode( <span class="stringliteral">&#39; , &#39;</span> , $ExtendingFields ) , $Condition
                        );
                        
                        <span class="keywordflow">foreach</span>( $Records as $k1 =&gt; $v1 )
                        {
                              <span class="keywordflow">foreach</span>( $SubRecords as $k2 =&gt; $v2 )
                              {
                                    <span class="keywordflow">if</span>( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $v1 , $FieldName1 ) == <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $v2 , <span class="stringliteral">&#39;_joining_field&#39;</span> ) )
                                    {
                                          <a class="code" href="functional__programming_8php.html#a27c87dd75ef4f5927750fe65c5e2a1a4">extend</a>( $Records[ $k1 ] , <a class="code" href="functional__programming_8php.html#a38d0a128fc76a5d70988674952cce5bc">remove_fields</a>( $v2 , <span class="stringliteral">&#39;_joining_field&#39;</span> ) );
                                    }
                              }
                        }

                        <span class="keywordflow">return</span>( $Records );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1d9a89a8012ae245f1438787bcec253a"></a><!-- doxytag: member="link_1_0_0::fill_cache" ref="a1d9a89a8012ae245f1438787bcec253a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fill_cache </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function filles cache.</p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00157">157</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( $this-&gt;LinkTypesDictionary === <span class="keyword">false</span> )
                        {
                              $this-&gt;Database-&gt;query_as( <a class="code" href="database_8php.html#acaeb4240927648affc96a96788ea2b26">DB_OBJECT</a> );
                              $this-&gt;LinkTypesDictionary = $this-&gt;Database-&gt;select( <span class="charliteral">&#39;*&#39;</span> , <span class="stringliteral">&#39;umx_link_dictionary&#39;</span> , <span class="stringliteral">&quot;1 = 1&quot;</span> );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0ae1c5b2f57ff14421d2ccdaccbaef0f"></a><!-- doxytag: member="link_1_0_0::get_joining_records" ref="a0ae1c5b2f57ff14421d2ccdaccbaef0f" args="(&amp;$Records, $FieldName1, $FieldName2, $JoiningTableName, $ExtendingFields, $Condition= '1=1')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_joining_records </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>JoiningTableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ExtendingFields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Condition</em> = <code>'1&nbsp;=&nbsp;1'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function fetches additional data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Records</em>&nbsp;</td><td>- Array of records to be extended.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName1</em>&nbsp;</td><td>- First field name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName2</em>&nbsp;</td><td>- Second field name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$JoiningTableName</em>&nbsp;</td><td>- Joining table.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$ExtendingFields</em>&nbsp;</td><td>- Fields to add.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Condition</em>&nbsp;</td><td>- Additional conditions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>List of records.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00828">828</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( isset( $Records[ 0 ] ) )
                        {
                              $Values = implode( <span class="stringliteral">&#39; , &#39;</span> , array_unique( <a class="code" href="functional__programming_8php.html#a9c56c5cb857578644fdd5deaba4cd63f">get_field_ex</a>( $Records , $FieldName1 ) ) );
                              
                              $SubRecords = $this-&gt;Database-&gt;select( 
                                    <span class="stringliteral">&quot;$FieldName2 AS _joining_field , $ExtendingFields&quot;</span> , <span class="stringliteral">&quot;$JoiningTableName&quot;</span> , 
                                    <span class="stringliteral">&quot;$FieldName2 IN ( $Values ) AND ( $Condition )&quot;</span>
                              );
                              
                              <span class="keywordflow">return</span>( $SubRecords );
                        }
                        
                        <span class="keywordflow">return</span>( array() );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2bc662ee8f897d955f98b93ec144cc06"></a><!-- doxytag: member="link_1_0_0::get_link_literal_type" ref="a2bc662ee8f897d955f98b93ec144cc06" args="(&amp;$Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_link_literal_type </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Getting link's type.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Literal type of the link.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00340">340</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Type = is_array( $Type ) === <span class="keyword">true</span> ? $Type : array( $Type );
                        $this-&gt;<a class="code" href="classlink__1__0__0.html#a1d9a89a8012ae245f1438787bcec253a">fill_cache</a>();
                        $Types = array();
                        <span class="keywordflow">foreach</span>( $this-&gt;LinkTypesDictionary as $k =&gt; $v )
                        {
                              <span class="keywordflow">foreach</span>( $Type as $i =&gt; $t )
                              {
                                    <span class="keywordflow">if</span>( $v-&gt;id == $t )
                                    {
                                          $Types [] = array( 
                                                <span class="stringliteral">&#39;object1_type&#39;</span> =&gt; $v-&gt;object1_type , <span class="stringliteral">&#39;object2_type&#39;</span> =&gt; $v-&gt;object2_type
                                          );
                                    }
                              }
                        }
                        <span class="keywordflow">if</span>( isset( $Types[ 0 ] ) === <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;Literal type of the link was not found&#39;</span> ) );
                        }
                        <span class="keywordflow">return</span>( $Types );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4f865d3fc401219538a03cb37bfe456e"></a><!-- doxytag: member="link_1_0_0::get_link_type" ref="a4f865d3fc401219538a03cb37bfe456e" args="($Object1Type, $Object2Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_link_type </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Getting link's type.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Numeric type of the link.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00282">282</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $LinkType = $this-&gt;<a class="code" href="classlink__1__0__0.html#a92a7913984cc8361f0334e68fb2319a2">get_type_from_db</a>( $Object1Type , $Object2Type );
                        
                        <span class="keywordflow">if</span>( $LinkType === <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">if</span>( $Object1Type === <span class="keyword">false</span> || $Object2Type === <span class="keyword">false</span> )
                              {
                                    <span class="comment">/* type with this parameters was not found */</span>
                                    <span class="keywordflow">return</span>( 0 );
                              }
                              <span class="keywordflow">else</span>
                              {
                                    <span class="comment">/* both types defined so we can create new link type */</span>
                                    $this-&gt;<a class="code" href="classlink__1__0__0.html#a2318bd82a1991bb16350b01e0584a45a">create_link_type</a>( $Object1Type , $Object2Type );
                                    
                                    <span class="keywordflow">return</span>( $this-&gt;<a class="code" href="classlink__1__0__0.html#a4f865d3fc401219538a03cb37bfe456e">get_link_type</a>( $Object1Type , $Object2Type ) );
                              }
                        }
                        <span class="keywordflow">else</span>
                        {
                              <span class="keywordflow">return</span>( $LinkType );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5ca4f857941b3fa94b5b2d43fefbe971"></a><!-- doxytag: member="link_1_0_0::get_links" ref="a5ca4f857941b3fa94b5b2d43fefbe971" args="($Object1Id, $Object2Id, $Object1Type, $Object2Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_links </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns all links for the object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Id</em>&nbsp;</td><td>- Id of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Id</em>&nbsp;</td><td>- Id of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Array of links.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00643">643</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Conditions = $this-&gt;<a class="code" href="classlink__1__0__0.html#a54d1b92c871251dfc8d67267d39a2d2d">prepare_conditions</a>( $Object1Id , $Object2Id , $Object1Type , $Object2Type );

                        <span class="keywordflow">return</span>( 
                              $this-&gt;Database-&gt;select( 
                                    <span class="stringliteral">&#39;umx_link.* , umx_link_dictionary.object1_type , umx_link_dictionary.object2_type&#39;</span> , 
                                    <span class="stringliteral">&#39;umx_link , umx_link_dictionary&#39;</span> , <span class="stringliteral">&quot;umx_link.type = umx_link_dictionary.id AND $Conditions&quot;</span> 
                              )
                        );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad7186b1eaa4d25253c6ccdb39cdec0bc"></a><!-- doxytag: member="link_1_0_0::get_links_count" ref="ad7186b1eaa4d25253c6ccdb39cdec0bc" args="($Object1Id, $Object2Id, $Object1Type, $Object2Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_links_count </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns count of links for the object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Id</em>&nbsp;</td><td>- Id of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Id</em>&nbsp;</td><td>- Id of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Array of links.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l01191">1191</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Conditions = $this-&gt;<a class="code" href="classlink__1__0__0.html#a54d1b92c871251dfc8d67267d39a2d2d">prepare_conditions</a>( $Object1Id , $Object2Id , $Object1Type , $Object2Type );

                        $Records = $this-&gt;Database-&gt;select( <span class="stringliteral">&#39;COUNT( * ) AS links_count&#39;</span> , <span class="stringliteral">&#39;umx_link&#39;</span> , $Conditions );
                        
                        <span class="keywordflow">if</span>( isset( $Records[ 0 ] ) === <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">return</span>( 0 );
                        }
                        <span class="keywordflow">else</span>
                        {
                              <span class="keywordflow">return</span>( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Records[ 0 ] , <span class="stringliteral">&#39;links_count&#39;</span> ) );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa33a757333e3d8a86d5cb7d2641ebb04"></a><!-- doxytag: member="link_1_0_0::get_sub_records" ref="aa33a757333e3d8a86d5cb7d2641ebb04" args="($Object1Type, $Object2Type, &amp;$Records, $FieldName1, $JoiningTableName, $FieldName2, $Fields= '*')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_sub_records </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>JoiningTableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Fields</em> = <code>'*'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns joind data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Records</em>&nbsp;</td><td>- Array of records.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName1</em>&nbsp;</td><td>- Field's name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$JoiningTableName</em>&nbsp;</td><td>- Joining table name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName2</em>&nbsp;</td><td>- Field's name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Fields</em>&nbsp;</td><td>- List of the joining fields.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true List of records.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00758">758</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( isset( $Records[ 0 ] ) )
                        {
                              $LinkType = $this-&gt;<a class="code" href="classlink__1__0__0.html#a4f865d3fc401219538a03cb37bfe456e">get_link_type</a>( $Object1Type , $Object2Type );
                              $Ids = <a class="code" href="functional__programming_8php.html#a1214d3a2cfe95621fb50a088cc734b9b">implode_ex</a>( <span class="charliteral">&#39;,&#39;</span> , $Records , $FieldName1 );
                              
                              $Fields = <span class="stringliteral">&quot;$Fields , umx_link.object1_id AS _record_original_id&quot;</span>;
                              $Tables = <span class="stringliteral">&quot;$JoiningTableName , umx_link&quot;</span>;
                              $JoinConditions = <span class="stringliteral">&quot;umx_link.type $LinkType AND umx_link.object1_id IN ( $Ids ) AND </span>
<span class="stringliteral">                                    umx_link.object2_id = $JoiningTableName&quot;</span>.<span class="stringliteral">&quot;.$FieldName2&quot;</span>;
                              
                              <span class="keywordflow">return</span>( $this-&gt;Database-&gt;select( $Fields , $Tables , $JoinConditions ) );
                        }
                        <span class="keywordflow">else</span>
                        {
                              <span class="keywordflow">return</span>( array() );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af26ecfec5774a0f6be80a79263e10407"></a><!-- doxytag: member="link_1_0_0::get_type_from_cache" ref="af26ecfec5774a0f6be80a79263e10407" args="($Object1Type, $Object2Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_type_from_cache </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Getting link's type from the cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Numeric type of the link or false if any error occured</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00111">111</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Types = array();
                        <span class="keywordflow">foreach</span>( $this-&gt;LinkTypesDictionary as $k =&gt; $v )
                        {
                              <span class="keywordflow">if</span>( $Object1Type !== <span class="keyword">false</span> &amp;&amp; $v-&gt;object1_type != $Object1Type )
                              {
                                    <span class="keywordflow">continue</span>;
                              }
                              <span class="keywordflow">if</span>( $Object2Type !== <span class="keyword">false</span> &amp;&amp; $v-&gt;object2_type != $Object2Type )
                              {
                                    <span class="keywordflow">continue</span>;
                              }
                              
                              $Types [] = $v-&gt;id;
                        }
                        
                        <span class="keywordflow">if</span>( isset( $Types[ 0 ] ) )
                        {
                              <span class="keywordflow">return</span>( implode( <span class="charliteral">&#39;,&#39;</span> , $Types ) );
                        }
                        
                        <span class="keywordflow">return</span>( <span class="keyword">false</span> );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a92a7913984cc8361f0334e68fb2319a2"></a><!-- doxytag: member="link_1_0_0::get_type_from_db" ref="a92a7913984cc8361f0334e68fb2319a2" args="($Object1Type, $Object2Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_type_from_db </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Getting link's type.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Numeric type of the link or false if any error occured.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00199">199</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $this-&gt;<a class="code" href="classlink__1__0__0.html#a1d9a89a8012ae245f1438787bcec253a">fill_cache</a>();

                        <span class="keywordflow">return</span>( $this-&gt;<a class="code" href="classlink__1__0__0.html#af26ecfec5774a0f6be80a79263e10407">get_type_from_cache</a>( $Object1Type , $Object2Type ) );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a842dba87ce2b60dca619fec31ad5d487"></a><!-- doxytag: member="link_1_0_0::join_data" ref="a842dba87ce2b60dca619fec31ad5d487" args="(&amp;$Records, $Object1Type, $Object2Type, $FieldName1, $FieldName2, $JoiningTableName, $JoinName, $Fields= '*')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">join_data </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>JoiningTableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>JoinName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Fields</em> = <code>'*'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function joins data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Records</em>&nbsp;</td><td>- Array of records.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName1</em>&nbsp;</td><td>- Field's name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName2</em>&nbsp;</td><td>- Field's name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$JoiningTableName</em>&nbsp;</td><td>- Joining table name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$JoinName</em>&nbsp;</td><td>- Name of he join.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Fields</em>&nbsp;</td><td>- List of the joining fields.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>List of records.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00903">903</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $SubRecords = $this-&gt;<a class="code" href="classlink__1__0__0.html#aa33a757333e3d8a86d5cb7d2641ebb04">get_sub_records</a>( $Object1Type , $Object2Type , $Records , $FieldName1 , 
                                                         $JoiningTableName , $FieldName2 );
                                                         
                        <span class="keywordflow">foreach</span>( $Records as $k1 =&gt; $v1 )
                        {
                              <a class="code" href="functional__programming_8php.html#aeb504a5f142413c2643d5e8f315978e5">set_field</a>( $Records[ $k1 ] , $JoinName , array() );
                              
                              <span class="keywordflow">foreach</span>( $SubRecords as $k2 =&gt; $v2 )
                              {
                                    <span class="keywordflow">if</span>( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $v1 , $FieldName1 ) == <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $v2 , $FieldName2 ) )
                                    {
                                          <a class="code" href="functional__programming_8php.html#aa785f5b026522387cab22ccc163c8e46">append_to_field</a>( $Records[ $k1 ] , $JoinName , $v2 );
                                    }
                              }
                        }
                        
                        <span class="keywordflow">return</span>( $Records );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1ba5d308f00cf28cca7b3a4d7b940578"></a><!-- doxytag: member="link_1_0_0::join_single_to_many_data" ref="a1ba5d308f00cf28cca7b3a4d7b940578" args="(&amp;$Records, $FieldName1, $FieldName2, $JoiningTableName, $JoinName, $Fields= '*', $Condition= '1=1')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">join_single_to_many_data </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>JoiningTableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>JoinName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Fields</em> = <code>'*'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Condition</em> = <code>'1&nbsp;=&nbsp;1'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function joins data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Records</em>&nbsp;</td><td>- Array of records to be extended.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName1</em>&nbsp;</td><td>- First field name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName2</em>&nbsp;</td><td>- Second field name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$JoiningTableName</em>&nbsp;</td><td>- Joining table.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$JoinName</em>&nbsp;</td><td>- Name of he join.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Fields</em>&nbsp;</td><td>- List of the joining fields.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Condition</em>&nbsp;</td><td>- Additional conditions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>List of records.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l01057">1057</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $SubRecords = $this-&gt;<a class="code" href="classlink__1__0__0.html#a0ae1c5b2f57ff14421d2ccdaccbaef0f">get_joining_records</a>( 
                              $Records , $FieldName1 , $FieldName2 , $JoiningTableName , $Fields , $Condition
                        );
                        
                        <span class="keywordflow">foreach</span>( $Records as $k1 =&gt; $v1 )
                        {
                              <a class="code" href="functional__programming_8php.html#aeb504a5f142413c2643d5e8f315978e5">set_field</a>( $Records[ $k1 ] , $JoinName , array() );
                              <span class="keywordflow">foreach</span>( $SubRecords as $k2 =&gt; $v2 )
                              {
                                    <span class="keywordflow">if</span>( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $v1 , $FieldName1 ) == <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $v2 , <span class="stringliteral">&#39;_joining_field&#39;</span> ) )
                                    {
                                          <a class="code" href="functional__programming_8php.html#aa785f5b026522387cab22ccc163c8e46">append_to_field</a>( $Records[ $k1 ] , $JoinName , <a class="code" href="functional__programming_8php.html#a38d0a128fc76a5d70988674952cce5bc">remove_fields</a>( $v2 , <span class="stringliteral">&#39;_joining_field&#39;</span> ) );
                                    }
                              }
                        }
                        
                        <span class="keywordflow">return</span>( $Records );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac31196318f0f7ee392a821841ba77a0c"></a><!-- doxytag: member="link_1_0_0::join_single_to_single_data" ref="ac31196318f0f7ee392a821841ba77a0c" args="(&amp;$Records, $FieldName1, $FieldName2, $JoiningTableName, $JoinName, $Fields= '*', $Condition= '1=1')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">join_single_to_single_data </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>FieldName2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>JoiningTableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>JoinName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Fields</em> = <code>'*'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Condition</em> = <code>'1&nbsp;=&nbsp;1'</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function joins data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Records</em>&nbsp;</td><td>- Array of records to be extended.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName1</em>&nbsp;</td><td>- First field name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$FieldName2</em>&nbsp;</td><td>- Second field name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$JoiningTableName</em>&nbsp;</td><td>- Joining table.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$JoinName</em>&nbsp;</td><td>- Name of he join.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Fields</em>&nbsp;</td><td>- List of the joining fields.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Condition</em>&nbsp;</td><td>- Additional conditions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>List of records.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00978">978</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $SubRecords = $this-&gt;<a class="code" href="classlink__1__0__0.html#a0ae1c5b2f57ff14421d2ccdaccbaef0f">get_joining_records</a>( 
                              $Records , $FieldName1 , $FieldName2 , $JoiningTableName , $Fields , $Condition
                        );
                        <span class="keywordflow">foreach</span>( $Records as $k1 =&gt; $v1 )
                        {
                              <span class="keywordflow">foreach</span>( $SubRecords as $k2 =&gt; $v2 )
                              {
                                    <span class="keywordflow">if</span>( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $v1 , $FieldName1 ) == <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $v2 , <span class="stringliteral">&#39;_joining_field&#39;</span> ) )
                                    {
                                          <span class="keywordflow">if</span>( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Records[ $k1 ] , $JoinName , <span class="keyword">false</span> ) !== <span class="keyword">false</span> )
                                          {
                                                <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&quot;The field \&quot;$JoinName\&quot; was already set&quot;</span> ) );
                                          }
                                          <span class="keywordflow">else</span>
                                          {
                                                <a class="code" href="functional__programming_8php.html#aeb504a5f142413c2643d5e8f315978e5">set_field</a>( $Records[ $k1 ] , $JoinName , <a class="code" href="functional__programming_8php.html#a38d0a128fc76a5d70988674952cce5bc">remove_fields</a>( $v2 , <span class="stringliteral">&#39;_joining_field&#39;</span> ) );
                                          }
                                    }
                              }
                        }
                        <span class="keywordflow">return</span>( $Records );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0fd9a05d071a49e87c275e2d90386dd3"></a><!-- doxytag: member="link_1_0_0::link_exists" ref="a0fd9a05d071a49e87c275e2d90386dd3" args="($Object1Id, $Object2Id, $Object1Type, $Object2Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">link_exists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function validates if the link exists.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Id</em>&nbsp;</td><td>- Id of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Id</em>&nbsp;</td><td>- Id of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the link exists.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l01248">1248</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">return</span>( $this-&gt;<a class="code" href="classlink__1__0__0.html#ad7186b1eaa4d25253c6ccdb39cdec0bc">get_links_count</a>( $Object1Id , $Object2Id , $Object1Type , $Object2Type ) &gt; 0 );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a54d1b92c871251dfc8d67267d39a2d2d"></a><!-- doxytag: member="link_1_0_0::prepare_conditions" ref="a54d1b92c871251dfc8d67267d39a2d2d" args="($Object1Id, $Object2Id, $Object1Type, $Object2Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">prepare_conditions </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function prepares records fetching conditions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Id</em>&nbsp;</td><td>- Id of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Id</em>&nbsp;</td><td>- Id of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Fetching condition.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00586">586</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Conditions = array();
                        
                        $Conditions = $this-&gt;<a class="code" href="classlink__1__0__0.html#a3b5dd6bcea2f615da8d56ec2d583dddc">compile_select_condition</a>( $Object1Id , <span class="stringliteral">&#39;object1_id&#39;</span> , $Conditions );
                        
                        $Conditions = $this-&gt;<a class="code" href="classlink__1__0__0.html#a3b5dd6bcea2f615da8d56ec2d583dddc">compile_select_condition</a>( $Object2Id , <span class="stringliteral">&#39;object2_id&#39;</span> , $Conditions );
                        
                        <span class="keywordflow">if</span>( $Object1Type !== <span class="keyword">false</span> || $Object2Type != <span class="keyword">false</span> )
                        {
                              $Conditions [] = <span class="stringliteral">&#39;type IN ( &#39;</span>.$this-&gt;get_link_type( $Object1Type , $Object2Type ).<span class="stringliteral">&#39; )&#39;</span>;
                        }

                        <span class="keywordflow">return</span>( implode( <span class="stringliteral">&#39; AND &#39;</span> , $Conditions ) );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afa3525f4dbe6df26b617b5aec4708bfa"></a><!-- doxytag: member="link_1_0_0::update_link" ref="afa3525f4dbe6df26b617b5aec4708bfa" args="($Object1Id, $OldObject2Id, $NewObject2Id, $Object1Type, $Object2Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update_link </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>OldObject2Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>NewObject2Id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object1Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Object2Type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function updates object's links.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Object1Id</em>&nbsp;</td><td>- Id of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$OldObject2Id</em>&nbsp;</td><td>- Id of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$NewObject2Id</em>&nbsp;</td><td>- New id of the second object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object1Type</em>&nbsp;</td><td>- Type of the first object.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Object2Type</em>&nbsp;</td><td>- Type of the second object.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l01294">1294</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( strpos( $Object1Id , <span class="charliteral">&#39;,&#39;</span> ) === <span class="keyword">true</span> )
                        {
                              $Object1Id = explode( <span class="charliteral">&#39;,&#39;</span> , $Object1Id );
                        }
                        <span class="keywordflow">else</span>
                        {
                              $Object1Id = array( $Object1Id );
                        }
                        
                        <span class="keywordflow">foreach</span>( $Object1Id as $k =&gt; $id )
                        {
                              $this-&gt;<a class="code" href="classlink__1__0__0.html#ac42c7ff85dd46f95f4d6195791cbeaf2">delete_link</a>( $id , $OldObject2Id , $Object1Type , $Object2Type );
                              
                              $this-&gt;<a class="code" href="classlink__1__0__0.html#a906fcc7cce1e117abda4b6f2a1b0d148">create_link</a>( $id , $NewObject2Id , $Object1Type , $Object2Type );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae10cc045c1502f148d1aa728183898e7"></a><!-- doxytag: member="link_1_0_0::$Database" ref="ae10cc045c1502f148d1aa728183898e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Database = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cached objects.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00050">50</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

</div>
</div>
<a class="anchor" id="afae1e5da4e0a35964c9b826d60f13e28"></a><!-- doxytag: member="link_1_0_0::$LinkTypesDictionary" ref="afae1e5da4e0a35964c9b826d60f13e28" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$LinkTypesDictionary = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Dictionary with link types.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="link_8php_source.html#l00038">38</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

</div>
</div>
<a class="anchor" id="aaae5f70ebc2b60f22e8159944cd2d518"></a><!-- doxytag: member="link_1_0_0::$Security" ref="aaae5f70ebc2b60f22e8159944cd2d518" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Security = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="link_8php_source.html#l00051">51</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2c1da60c6cd872abbb042bcd58b7c10d"></a><!-- doxytag: member="link_1_0_0::$Settings" ref="a2c1da60c6cd872abbb042bcd58b7c10d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Settings = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="link_8php_source.html#l00053">53</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

</div>
</div>
<a class="anchor" id="a541f49d5b9cf7bae2f91f639abcf3458"></a><!-- doxytag: member="link_1_0_0::$String" ref="a541f49d5b9cf7bae2f91f639abcf3458" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$String = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="link_8php_source.html#l00052">52</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad3377fd103ea8c6d35b0ee60e4e9c46d"></a><!-- doxytag: member="link_1_0_0::$UserAlgorithms" ref="ad3377fd103ea8c6d35b0ee60e4e9c46d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$UserAlgorithms = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="link_8php_source.html#l00054">54</a> of file <a class="el" href="link_8php_source.html">link.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>G:/projects/webdev/wwwroot/ultimix/packages/link/<a class="el" href="link_8php_source.html">link.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 3 2011 14:50:22 for ultimix by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
