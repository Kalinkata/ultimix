<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ultimix: string_1_0_0 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>string_1_0_0 Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="string_1_0_0" -->
<p><a href="classstring__1__0__0-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a095c5d389db211932136b53f25f39685">__construct</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a319620ee44460a5ac19b317e9126dedf">explode_into_words</a> ($String, $MaxWordLength=80)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#adbbf0018ccfafc2d203891fd640fda51">get_as_http_cmd_line</a> ($Params)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#ab8b5e9ab351d699752ad8a38acfab380">process_foreach</a> ($Template, &amp;$Record)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#af3ef295966faa46024b6e825f2987b0f">print_record</a> ($Template, &amp;$Record)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a6e43c2b24ac8d85514bac601c555e24e">block_exists</a> ($StringData, $BlockStart, $BlockEnd=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a6dbe6f1a214870b83ee59eb261d6b64f">get_macro_parameters</a> (&amp;$StringData, $MacroName, $RegExValidators=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a035e2b998db813711e1fad4a8fbc7a24">get_block_data</a> ($StringData, $BlockStart, $BlockEnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a025872e47789f87691ad2fe2d243ed19">hide_anonimous_blocks</a> ($StringData, $BlockType, &amp;$Changed)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#ab6d1a435cb21f5afa400f359e17b074e">get_all_block_positions</a> ($StringData, $BlockStart, $BlockEnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a25eef2e09155b45945dfe4a10c10443b">get_possible_block_positions</a> (&amp;$Positions)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#ad9fb810dc00b4da7871100d4425ac1ca">get_block_positions</a> ($StringData, $BlockStart, $BlockEnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#ade6cc3f592d9171bae4cb62112a39c97">hide_block</a> ($StringData, $BlockStart, $BlockEnd, &amp;$Changed)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#abc6fe32cea0139f4c01522eec018315b">show_block</a> ($StringData, $BlockStart, $BlockEnd, &amp;$Changed)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a5e06c7dba7845c563d5a13db960568f1">iconv</a> ($InCharset, $OutCharset, $Data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a9883bc41f2c0fd69f4d4edbb5de984ed">compile_phpbb_tags</a> ($Str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a623583548e56100c3cce1d610d16ee55">hide_safe_macro</a> ($Str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a300a2a7b478fd185dcc6e53897baa60f">show_safe_macro</a> ($Str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a9353e745be8fb1f212306d6f48b4d903">compile_ultimix_tags</a> ($Str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a725dd3edefef0dbef276e6720180a48a">replace_block</a> ($Str, $BlockStart, $BlockEnd, $Data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a208f0b2670f6924e5efcac313d4120ef">remove_bom</a> ($Str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#af08c9c8d1832307054a706cd1ab0bf69">common_prefix</a> (&amp;$Strings)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#addf3b75fb1a3770993746740f86e3bfd">trim_common_prefix</a> (&amp;$Strings, $CommonPrefix=false)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> = false</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>String utilities.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00028">28</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a095c5d389db211932136b53f25f39685"></a><!-- doxytag: member="string_1_0_0::__construct" ref="a095c5d389db211932136b53f25f39685" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00052">52</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $this-&gt;Settings = <a class="code" href="core__public__api_8php.html#a7dbfff8b452767e03ec52155dff6bdd3">get_package_object</a>( <span class="stringliteral">&#39;settings::settings&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6e43c2b24ac8d85514bac601c555e24e"></a><!-- doxytag: member="string_1_0_0::block_exists" ref="a6e43c2b24ac8d85514bac601c555e24e" args="($StringData, $BlockStart, $BlockEnd=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">block_exists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockEnd</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function validates block's existance.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$StringData</em>&nbsp;</td><td>Processing data.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockStart</em>&nbsp;</td><td>- Marker of the block's begin.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockEnd</em>&nbsp;</td><td>- Marker of the block's end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- true if the block exists, false otherwise.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00306">306</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $StartPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span>.$BlockStart.<span class="charliteral">&#39;}&#39;</span> );
                        <span class="keywordflow">if</span>( $StartPos == <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">return</span>( <span class="keyword">false</span> );
                        }
                        
                        <span class="keywordflow">if</span>( $BlockEnd !== <span class="keyword">false</span> )
                        {
                              $EndPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span>.$BlockEnd.<span class="charliteral">&#39;}&#39;</span> );
                              <span class="keywordflow">if</span>( $EndPos == <span class="keyword">false</span> )
                              {
                                    <span class="keywordflow">return</span>( <span class="keyword">false</span> );
                              }
                        }
                        
                        <span class="keywordflow">return</span>( <span class="keyword">true</span> );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af08c9c8d1832307054a706cd1ab0bf69"></a><!-- doxytag: member="string_1_0_0::common_prefix" ref="af08c9c8d1832307054a706cd1ab0bf69" args="(&amp;$Strings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">common_prefix </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Strings</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function removes BOM .</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Strings</em>&nbsp;</td><td>- Strings to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Common prefix.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l01245">1245</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( isset( $Strings[ 0 ] ) === <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">return</span>( <span class="stringliteral">&#39;&#39;</span> );
                        }
                        
                        $CommonPrefix = <span class="stringliteral">&#39;&#39;</span>;
                        $MaxLength = strlen( $Strings[ 0 ] );
                        <span class="keywordflow">for</span>( $i = 0 ; $i &lt; $MaxLength ; $i++ )
                        {
                              <span class="keywordflow">foreach</span>( $Strings as $j =&gt; $String )
                              {
                                    <span class="keywordflow">if</span>( $Strings[ 0 ][ $i ] != $String[ $i ] )
                                    {
                                          <span class="keywordflow">return</span>( $CommonPrefix );
                                    }
                              }
                              $CommonPrefix .= $Strings[ 0 ][ $i ];
                        }
                        
                        <span class="keywordflow">return</span>( $CommonPrefix );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9883bc41f2c0fd69f4d4edbb5de984ed"></a><!-- doxytag: member="string_1_0_0::compile_phpbb_tags" ref="a9883bc41f2c0fd69f4d4edbb5de984ed" args="($Str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">compile_phpbb_tags </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Str</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function decodes phpbb tags.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Str</em>&nbsp;</td><td>- String to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- Decoded data.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00965">965</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[b\](.*)\[\/b\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;b&gt;\\1&lt;/b&gt;&quot;</span> , $Str );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[u\](.*)\[\/u\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;u&gt;\\1&lt;/u&gt;&quot;</span> , $Str );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[i\](.*)\[\/i\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;i&gt;\\1&lt;/i&gt;&quot;</span> , $Str );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[s\](.*)\[\/s\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;s&gt;\\1&lt;/s&gt;&quot;</span> , $Str );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[img=(.*)\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;img src=\&quot;\\1\&quot;&gt;&quot;</span> , $Str );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[code\](.*)\[\/code\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;pre&gt;\\1&lt;/pre&gt;&quot;</span> , $Str );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[email\](\w*)\[\/email\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;&quot;</span>.<span class="stringliteral">&quot;a href=\&quot;mailto:\\1\&quot;&gt;\\1&lt;/a&gt;&quot;</span> , $Str );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[url=(.*)\](.*)\[\/url\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;&quot;</span>.<span class="stringliteral">&quot;a href=\&quot;\\1\&quot;&gt;\\2&lt;/a&gt;&quot;</span> , $Str );
                        $Str = preg_replace( 
                              <span class="stringliteral">&quot;/\[size=(\d*)\](.*)\[\/size\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;span style=\&quot;font-size:\\1px;\&quot;&gt;\\2&lt;/span&gt;&quot;</span> , $Str
                        );
                        $Str = preg_replace( 
                              <span class="stringliteral">&quot;/\[color=(\d*)\](.*)\[\/color\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;span style=\&quot;color:\\1px;\&quot;&gt;\\2&lt;/span&gt;&quot;</span> , $Str
                        );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[quote\](.*)\[\/qoute\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;span class=\&quot;quote\&quot;&gt;\\1&lt;/span&gt;&quot;</span> , $Str );
                        $Str = preg_replace( 
                              <span class="stringliteral">&quot;/\[align=(\w*)\](.*)\[\/align\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;span style=\&quot;text-align:\\1px;\&quot;&gt;\\2&lt;/span&gt;&quot;</span> , $Str
                        );
                        $Str = preg_replace( 
                              <span class="stringliteral">&quot;/\[spoiler\](.*)\[\/spoiler\]/U&quot;</span> , 
                              <span class="stringliteral">&quot;&lt;span id=\&quot;spoiler\&quot;&gt;&lt;span id=\&quot;spoiler_header\&quot;&gt;{lang:hidden_text}&lt;/span&gt;\\2&lt;/span&gt;&quot;</span> , $Str
                        );
                        $Str = preg_replace( 
                              <span class="stringliteral">&quot;/\[spoiler=(.*)\](.*)\[\/spoiler\]/U&quot;</span> , 
                              <span class="stringliteral">&quot;&lt;span id=\&quot;spoiler\&quot;&gt;&lt;span id=\&quot;spoiler_header\&quot;&gt;\\1&lt;/span&gt;\\2&lt;/span&gt;&quot;</span> , $Str
                        );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[hr\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;hr&gt;&quot;</span> , $Str );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[hr=(\d+)\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;hr width=\&quot;\\1%\&quot;&gt;&quot;</span> , $Str );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[name=(.+)\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;&quot;</span>.<span class="stringliteral">&quot;a name=\&quot;\\1\&quot;&gt;&quot;</span> , $Str );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[list\](.*)\[\/list\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;ul&gt;\\1&lt;/ul&gt;&quot;</span> , $Str );
                        $Str = preg_replace( 
                              <span class="stringliteral">&quot;/\[list=1\](.*)\[\/list\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;ol style=\&quot;list-style-type: decimal;\&quot;&gt;\\1&lt;/ol&gt;&quot;</span> , $Str
                        );
                        $Str = preg_replace( 
                              <span class="stringliteral">&quot;/\[list=a\](.*)\[\/list\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;ol style=\&quot;list-style-type: lower-alpha;\&quot;&gt;\\1&lt;/ol&gt;&quot;</span> , $Str
                        );
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[\*\]/U&quot;</span> , <span class="stringliteral">&quot;&lt;li&gt;&quot;</span> , $Str );
                        
                        <span class="keywordflow">return</span>( $Str );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9353e745be8fb1f212306d6f48b4d903"></a><!-- doxytag: member="string_1_0_0::compile_ultimix_tags" ref="a9353e745be8fb1f212306d6f48b4d903" args="($Str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">compile_ultimix_tags </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Str</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function decodes ultimix tags.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Str</em>&nbsp;</td><td>- String to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- Decoded data.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l01111">1111</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Placeholders = array( <span class="stringliteral">&#39;{lfb}&#39;</span> , <span class="stringliteral">&#39;{rfb}&#39;</span> , <span class="stringliteral">&#39;{eq}&#39;</span> , <span class="stringliteral">&#39;[dot_comma]&#39;</span> , <span class="stringliteral">&#39;[dot_dot]&#39;</span> , 
                                                         <span class="stringliteral">&#39;[nbsp]&#39;</span> , <span class="stringliteral">&#39;{sysdate}&#39;</span> , <span class="stringliteral">&#39;{D}&#39;</span> , <span class="stringliteral">&#39;{l}&#39;</span> , <span class="stringliteral">&#39;{F}&#39;</span> , <span class="stringliteral">&#39;{m}&#39;</span> , <span class="stringliteral">&#39;{M}&#39;</span> , <span class="stringliteral">&#39;{n}&#39;</span> , <span class="stringliteral">&#39;{Y}&#39;</span> , 
                                                         <span class="stringliteral">&#39;[eq]&#39;</span> , <span class="stringliteral">&#39;{http_host}&#39;</span> , <span class="stringliteral">&#39;{server_name}&#39;</span> , <span class="stringliteral">&#39;{systime}&#39;</span> );
                        $Replacers = array( <span class="charliteral">&#39;{&#39;</span> , <span class="charliteral">&#39;}&#39;</span> , <span class="charliteral">&#39;=&#39;</span> , <span class="charliteral">&#39;;&#39;</span> , <span class="charliteral">&#39;:&#39;</span> , <span class="stringliteral">&#39;&amp;nbsp;&#39;</span> , date( <span class="stringliteral">&#39;Y-m-d&#39;</span> ) , 
                                                      date( <span class="charliteral">&#39;D&#39;</span> ) , date( <span class="charliteral">&#39;l&#39;</span> ) , date( <span class="charliteral">&#39;F&#39;</span> ) , date( <span class="charliteral">&#39;m&#39;</span> ) , date( <span class="charliteral">&#39;M&#39;</span> ) , 
                                                      date( <span class="charliteral">&#39;n&#39;</span> ) , date( <span class="charliteral">&#39;Y&#39;</span> ) , <span class="charliteral">&#39;=&#39;</span> , @HTTP_HOST , $_SERVER[ <span class="stringliteral">&#39;SERVER_NAME&#39;</span> ] , 
                                                      date( <span class="stringliteral">&#39;H:i:s&#39;</span> ) );
                        
                        <span class="keywordflow">return</span>( str_replace( $Placeholders , $Replacers , $Str ) );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a319620ee44460a5ac19b317e9126dedf"></a><!-- doxytag: member="string_1_0_0::explode_into_words" ref="a319620ee44460a5ac19b317e9126dedf" args="($String, $MaxWordLength=80)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">explode_into_words </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>String</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>MaxWordLength</em> = <code>80</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function formats $String so the word's length won't be bigger than $MaxWordLength symbols.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$String</em>&nbsp;</td><td>- Processing string.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$MaxWordLength</em>&nbsp;</td><td>- Maximum count of the letters in the word.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Formatted data.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00090">90</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $RawWords = strip_tags( $this-&gt;<a class="code" href="classstring__1__0__0.html#a9883bc41f2c0fd69f4d4edbb5de984ed">compile_phpbb_tags</a>( $String ) );
                        $RawWords = str_replace( <span class="stringliteral">&quot;\r&quot;</span> , <span class="charliteral">&#39; &#39;</span> , $RawWords );
                        $RawWords = str_replace( <span class="stringliteral">&quot;\n&quot;</span> , <span class="charliteral">&#39; &#39;</span> , $RawWords );
                        $RawWords = explode( <span class="charliteral">&#39; &#39;</span> , $RawWords );
                        
                        <span class="keywordflow">foreach</span>( $RawWords as $Key =&gt; $Value )
                        {
                              <span class="keywordflow">if</span>( strlen( $Value ) &gt; $MaxWordLength )
                              {
                                    $Parts = chunk_split( $Value , $MaxWordLength , <span class="stringliteral">&#39;&lt;br&gt;&#39;</span> );
                                    $String = str_replace( $Value , $Parts , $String );
                              }
                        }
                        
                        <span class="keywordflow">return</span>( $String );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab6d1a435cb21f5afa400f359e17b074e"></a><!-- doxytag: member="string_1_0_0::get_all_block_positions" ref="ab6d1a435cb21f5afa400f359e17b074e" args="($StringData, $BlockStart, $BlockEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_all_block_positions </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockEnd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns positions of all blocks'es ends and beginnings.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$StringData</em>&nbsp;</td><td>- Processing data.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockStart</em>&nbsp;</td><td>- Marker of the block's begin.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockEnd</em>&nbsp;</td><td>- Marker of the block's end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Beginnings and ends of the block.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00614">614</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Positions = array();
                              
                        $StartPos = -1;
                        $EndPos = -1;
                        
                        <span class="keywordflow">for</span>( ; $StartPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span>.$BlockStart.<span class="charliteral">&#39;}&#39;</span> , $StartPos + 1 ) ; )
                        {
                              $Positions [ $StartPos ] = <span class="charliteral">&#39;s&#39;</span>;
                        }
                        <span class="keywordflow">for</span>( ; $EndPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span>.$BlockEnd.<span class="charliteral">&#39;}&#39;</span> , $EndPos + 1 ) ; )
                        {
                              $Positions [ $EndPos ] = <span class="charliteral">&#39;e&#39;</span>;
                        }
                        ksort( $Positions );
                        
                        <span class="keywordflow">return</span>( $Positions );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adbbf0018ccfafc2d203891fd640fda51"></a><!-- doxytag: member="string_1_0_0::get_as_http_cmd_line" ref="adbbf0018ccfafc2d203891fd640fda51" args="($Params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_as_http_cmd_line </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Params</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Functionmakes a formatted output for record $Params.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Params</em>&nbsp;</td><td>- Paramaters for formatting.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Formatted data.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00138">138</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {     
                        $Counter = 0;
                        $RetCmdLine = <span class="stringliteral">&#39;&#39;</span>;
                        <span class="keywordflow">foreach</span>( $Params as $Key =&gt; $Value )
                        {
                              $RetCmdLine .= <span class="stringliteral">&quot;$Key=$Value&quot;</span>;
                              $Counter++;
                              <span class="keywordflow">if</span>( $Counter !== count( $Params ) )
                              {
                                    $RetCmdLine .= <span class="charliteral">&#39;&amp;&#39;</span>;
                              }
                        }
                        <span class="keywordflow">return</span>( $RetCmdLine );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a035e2b998db813711e1fad4a8fbc7a24"></a><!-- doxytag: member="string_1_0_0::get_block_data" ref="a035e2b998db813711e1fad4a8fbc7a24" args="($StringData, $BlockStart, $BlockEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_block_data </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockEnd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function validates block's existance.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$StringData</em>&nbsp;</td><td>- Processing data.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockStart</em>&nbsp;</td><td>- Marker of the block's begin.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockEnd</em>&nbsp;</td><td>- Marker of the block's end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- true if the block exists, false otherwise.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00496">496</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        list( $StartPos , $EndPos ) = $this-&gt;<a class="code" href="classstring__1__0__0.html#ad9fb810dc00b4da7871100d4425ac1ca">get_block_positions</a>( $StringData , $BlockStart , $BlockEnd );
                              
                        <span class="keywordflow">if</span>( $StartPos !== <span class="keyword">false</span> )
                        {
                              $BlockData = substr( 
                                    $StringData , 
                                    $StartPos + strlen( <span class="charliteral">&#39;{&#39;</span>.$BlockStart.<span class="charliteral">&#39;}&#39;</span> ) , 
                                    $EndPos - $StartPos - strlen( <span class="charliteral">&#39;{&#39;</span>.$BlockStart.<span class="charliteral">&#39;}&#39;</span> )
                              );
                              
                              <span class="keywordflow">return</span>( $BlockData );
                        }
                        <span class="keywordflow">else</span>
                        {
                              <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;An error occured while getting block data&#39;</span> ) );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad9fb810dc00b4da7871100d4425ac1ca"></a><!-- doxytag: member="string_1_0_0::get_block_positions" ref="ad9fb810dc00b4da7871100d4425ac1ca" args="($StringData, $BlockStart, $BlockEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_block_positions </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockEnd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns positions of the block's end and beginning.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$StringData</em>&nbsp;</td><td>- Processing data.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockStart</em>&nbsp;</td><td>- Marker of the block's begin.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockEnd</em>&nbsp;</td><td>- Marker of the block's end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Begin and end of the block.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00732">732</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Positions = $this-&gt;<a class="code" href="classstring__1__0__0.html#ab6d1a435cb21f5afa400f359e17b074e">get_all_block_positions</a>( $StringData , $BlockStart , $BlockEnd );
                        
                        list( $StartPos , $EndPos ) = $this-&gt;<a class="code" href="classstring__1__0__0.html#a25eef2e09155b45945dfe4a10c10443b">get_possible_block_positions</a>( $Positions );
                        
                        <span class="keywordflow">if</span>( $StartPos === <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">return</span>( array( <span class="keyword">false</span> , <span class="keyword">false</span> ) );
                        }
                        <span class="keywordflow">if</span>( $EndPos === <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;Block end was not found&#39;</span> ) );
                        }
                        
                        <span class="keywordflow">return</span>( array( $StartPos , $EndPos ) );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6dbe6f1a214870b83ee59eb261d6b64f"></a><!-- doxytag: member="string_1_0_0::get_macro_parameters" ref="a6dbe6f1a214870b83ee59eb261d6b64f" args="(&amp;$StringData, $MacroName, $RegExValidators=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_macro_parameters </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>MacroName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>RegExValidators</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns macro's parameters.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$StringData</em>&nbsp;</td><td>- Data to be parsed.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$MacroName</em>&nbsp;</td><td>- Macro's parameters.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$RegExValidators</em>&nbsp;</td><td>- Regular expressions for parameters validation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Macro's name. If the macro was not found then false will be returned.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00363">363</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {                       
                        $StartPos = -1;
                        
                        <span class="keywordflow">for</span>( ; ( $TmpStartPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span>.$MacroName.<span class="charliteral">&#39;:&#39;</span> , $StartPos + 1 ) ) !== <span class="keyword">false</span> ; )
                        {
                              $Counter = 1;
                              $StartPos = $TmpStartPos;
                              
                              $MacroStartPos = $StartPos;
                              $ParamStartPos = $MacroStartPos + strlen( <span class="charliteral">&#39;{&#39;</span>.$MacroName.<span class="charliteral">&#39;:&#39;</span> );
                              
                              <span class="keywordflow">do</span>
                              {
                                    $TmpStartPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span> , $StartPos + 1 );
                                    $TmpEndPos = strpos( $StringData , <span class="charliteral">&#39;}&#39;</span> , $StartPos + 1 );
                                    
                                    <span class="keywordflow">if</span>( $TmpStartPos !== <span class="keyword">false</span> &amp;&amp; $TmpEndPos !== <span class="keyword">false</span> )
                                    {
                                          <span class="keywordflow">if</span>( $TmpStartPos &lt; $TmpEndPos )
                                          {
                                                $StartPos = $TmpEndPos;
                                          }
                                          <span class="keywordflow">if</span>( $TmpEndPos &lt; $TmpStartPos )
                                          {
                                                $Counter--;
                                                <span class="keywordflow">if</span>( $Counter )$Counter++;
                                                $StartPos = $TmpStartPos;
                                          }
                                    }
                                    
                                    <span class="keywordflow">if</span>( $TmpStartPos !== <span class="keyword">false</span> &amp;&amp; $TmpEndPos === <span class="keyword">false</span> )
                                    {
                                          $Counter++;
                                          $StartPos = $TmpStartPos;
                                    }
                                    
                                    <span class="keywordflow">if</span>( $TmpStartPos === <span class="keyword">false</span> &amp;&amp; $TmpEndPos !== <span class="keyword">false</span> )
                                    {
                                          $Counter--;
                                          $StartPos = $TmpEndPos;
                                    }
                                    
                                    <span class="keywordflow">if</span>( $TmpStartPos === <span class="keyword">false</span> &amp;&amp; $TmpEndPos === <span class="keyword">false</span> )
                                    {
                                          <span class="comment">/* ничего не найдено, поэтому внешний цикл закончен, да и внутренний тоже</span>
<span class="comment">                                             $StartPos = strlen( $StringData ); */</span>
                                          $StartPos = $MacroStartPos;
                                    }
                                    
                                    <span class="keywordflow">if</span>( $Counter == 0 )
                                    {
                                          <span class="comment">/* нашли закрывающую скобку для макроса... */</span>
                                          $Params = substr( $StringData , $ParamStartPos , $TmpEndPos - $ParamStartPos );
                                          
                                          $Valid = <span class="keyword">true</span>;
                                          
                                          <span class="comment">/* проверяем валидность параметров... */</span>
                                          <span class="comment">/* ... если надо */</span>
                                          <span class="keywordflow">if</span>( count( $RegExValidators ) )
                                          {
                                                $ParamsList = explode( <span class="charliteral">&#39;;&#39;</span> , $Params );
                                                
                                                <span class="keywordflow">foreach</span>( $ParamsList as $key1 =&gt; $p )
                                                {
                                                      $p = explode( <span class="charliteral">&#39;=&#39;</span> , $p );
                                                      <span class="keywordflow">foreach</span>( $RegExValidators as $key2 =&gt; $rev )
                                                      {
                                                            <span class="keywordflow">if</span>( $key2 == $p[ 0 ] )
                                                            {
                                                                  $Matches = array();
                                                                  $Result = preg_match( $rev , $p[ 1 ] , $Matches );
                                                                  $Valid = count( $Matches ) == 0 ? <span class="keyword">false</span> : $Valid;
                                                                  <span class="keywordflow">break</span>;
                                                            }
                                                      }
                                                }
                                          }
                                          
                                          <span class="keywordflow">if</span>( $Valid )
                                          {
                                                <span class="comment">/* валидные параметры */</span>
                                                <span class="keywordflow">return</span>( $Params );
                                          }
                                          
                                          <span class="comment">/* поэтому вываливаемся из внутреннего цикла */</span>
                                          $TmpStartPos = <span class="keyword">false</span>;
                                          $StartPos = $MacroStartPos;
                                    }
                              }
                              <span class="keywordflow">while</span>( $TmpStartPos );
                        }
                        
                        <span class="keywordflow">return</span>( <span class="keyword">false</span> );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a25eef2e09155b45945dfe4a10c10443b"></a><!-- doxytag: member="string_1_0_0::get_possible_block_positions" ref="a25eef2e09155b45945dfe4a10c10443b" args="(&amp;$Positions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_possible_block_positions </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Positions</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns possible positions of the block's end and beginning.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Positions</em>&nbsp;</td><td>- Positions of all blocks.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The beginning and the end of the block.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00663">663</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $StartPos = $EndPos = <span class="keyword">false</span>;
                        $c = 0;
                        <span class="keywordflow">foreach</span>( $Positions as $Key =&gt; $Value )
                        {
                              <span class="keywordflow">if</span>( $StartPos === <span class="keyword">false</span> &amp;&amp; $Value === <span class="charliteral">&#39;s&#39;</span> )
                              {
                                    $c++;
                                    $StartPos = $Key;
                                    <span class="keywordflow">continue</span>;
                              }
                              <span class="keywordflow">if</span>( $EndPos === <span class="keyword">false</span> &amp;&amp; $Value === <span class="charliteral">&#39;e&#39;</span> &amp;&amp; $c === 1 )
                              {
                                    $EndPos = $Key;
                                    <span class="keywordflow">break</span>;
                              }
                              <span class="keywordflow">if</span>( $Value === <span class="charliteral">&#39;s&#39;</span> )
                              {
                                    $c++;
                                    <span class="keywordflow">continue</span>;
                              }
                              <span class="keywordflow">if</span>( $Value === <span class="charliteral">&#39;e&#39;</span> &amp;&amp; $c &gt; 0 )
                              {
                                    $c--;
                                    <span class="keywordflow">continue</span>;
                              }
                        }
                        
                        <span class="keywordflow">return</span>( array( $StartPos , $EndPos ) );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a025872e47789f87691ad2fe2d243ed19"></a><!-- doxytag: member="string_1_0_0::hide_anonimous_blocks" ref="a025872e47789f87691ad2fe2d243ed19" args="($StringData, $BlockType, &amp;$Changed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hide_anonimous_blocks </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Changed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function deletes text block.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$StringData</em>&nbsp;</td><td>- Processing data.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockType</em>&nbsp;</td><td>- Block's type.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Changed</em>&nbsp;</td><td>- Was the sring processed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Processed block.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>_All_ blocks will be deleted.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00557">557</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $PlaceHolders = array();
                        <span class="keywordflow">do</span>
                        {
                              $PlaceHolders = array();
                              
                              preg_match( <span class="stringliteral">&quot;/\{$BlockType:([a-zA-Z0-9_]+)\}/&quot;</span> , $StringData , $PlaceHolders );
                              
                              <span class="keywordflow">if</span>( count( $PlaceHolders ) &gt; 1 )
                              {
                                    $StringData = $this-&gt;<a class="code" href="classstring__1__0__0.html#ade6cc3f592d9171bae4cb62112a39c97">hide_block</a>( $StringData , <span class="stringliteral">&quot;$BlockType:&quot;</span>.$PlaceHolders[ 1 ] , 
                                                                                     <span class="stringliteral">&quot;$BlockType:~&quot;</span>.$PlaceHolders[ 1 ] , $Changed );
                              }
                        }
                        <span class="keywordflow">while</span>( count( $PlaceHolders ) &gt; 1 );
                        
                        <span class="keywordflow">return</span>( $StringData );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ade6cc3f592d9171bae4cb62112a39c97"></a><!-- doxytag: member="string_1_0_0::hide_block" ref="ade6cc3f592d9171bae4cb62112a39c97" args="($StringData, $BlockStart, $BlockEnd, &amp;$Changed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hide_block </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Changed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function deletes text block.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$StringData</em>&nbsp;</td><td>- Processing data.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockStart</em>&nbsp;</td><td>- Marker of the block's begin.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockEnd</em>&nbsp;</td><td>- Marker of the block's end.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Changed</em>&nbsp;</td><td>- Was the sring processed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Processed block.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>_All_ blocks will be deleted.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00795">795</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">do</span>
                        {
                              list( $StartPos , $EndPos ) = $this-&gt;<a class="code" href="classstring__1__0__0.html#ad9fb810dc00b4da7871100d4425ac1ca">get_block_positions</a>( $StringData , $BlockStart , $BlockEnd );
                              
                              <span class="keywordflow">if</span>( $StartPos !== <span class="keyword">false</span> )
                              {
                                    $StringData = substr_replace( $StringData , 
                                          <span class="stringliteral">&#39;&#39;</span> , 
                                          $StartPos , 
                                          $EndPos - $StartPos + strlen( <span class="charliteral">&#39;{&#39;</span>.$BlockEnd.<span class="charliteral">&#39;}&#39;</span> ) 
                                    );
                                    
                                    $Changed = <span class="keyword">true</span>;
                              }
                              <span class="keywordflow">else</span>
                              {
                                    <span class="keywordflow">return</span>( $StringData );
                              }
                        }
                        <span class="keywordflow">while</span>( <span class="keyword">true</span> );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a623583548e56100c3cce1d610d16ee55"></a><!-- doxytag: member="string_1_0_0::hide_safe_macro" ref="a623583548e56100c3cce1d610d16ee55" args="($Str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hide_safe_macro </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Str</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function hides some safe macro, in a way that simple user can input them using common editor on the site.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Str</em>&nbsp;</td><td>- String to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- Decoded data.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l01038">1038</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Str = preg_replace( <span class="stringliteral">&quot;/\{lang\:([\{\}\[\]]{0}.*)\}/U&quot;</span> , <span class="stringliteral">&quot;[lang:\\1]&quot;</span> , $Str );
                        
                        <span class="keywordflow">return</span>( $Str );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5e06c7dba7845c563d5a13db960568f1"></a><!-- doxytag: member="string_1_0_0::iconv" ref="a5e06c7dba7845c563d5a13db960568f1" args="($InCharset, $OutCharset, $Data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">iconv </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>InCharset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>OutCharset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function decodes string data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$InCharset</em>&nbsp;</td><td>- The input charset.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$OutCharset</em>&nbsp;</td><td>- The output charset.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Data</em>&nbsp;</td><td>- Data to decode.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Decoded data.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function works recursively for objects and arrays.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00920">920</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( is_array( $Data ) || is_object( $Data ) )
                        {
                              <span class="keywordflow">foreach</span>( $Data as $Key =&gt; $Value )
                              {
                                    <a class="code" href="functional__programming_8php.html#aeb504a5f142413c2643d5e8f315978e5">set_field</a>( $Data , $Key , $this-&gt;<a class="code" href="classstring__1__0__0.html#a5e06c7dba7845c563d5a13db960568f1">iconv</a>( $InCharset , $OutCharset , $Value ) );
                              }                       
                              <span class="keywordflow">return</span>( $Data );
                        }
                        <span class="keywordflow">else</span>
                        {
                              <span class="keywordflow">return</span>( <a class="code" href="classstring__1__0__0.html#a5e06c7dba7845c563d5a13db960568f1">iconv</a>( $InCharset , $OutCharset , $Data ) );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af3ef295966faa46024b6e825f2987b0f"></a><!-- doxytag: member="string_1_0_0::print_record" ref="af3ef295966faa46024b6e825f2987b0f" args="($Template, &amp;$Record)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">print_record </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Template</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Record</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function makes a formatted output for record $Record and template.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Template</em>&nbsp;</td><td>- Format template.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Record</em>&nbsp;</td><td>- Outputting record.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Formatted data.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00245">245</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( is_array( $Record ) === <span class="keyword">false</span> &amp;&amp; is_object( $Record ) === <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;Invalid record was passed&#39;</span> ) );
                        }
                        
                        $Template = $this-&gt;<a class="code" href="classstring__1__0__0.html#ab8b5e9ab351d699752ad8a38acfab380">process_foreach</a>( $Template , $Record );
                        
                        <span class="keywordflow">foreach</span>( $Record as $Field =&gt; $Value )
                        {
                              <span class="keywordflow">if</span>( is_array( $Value ) || is_object( $Value ) )
                              {
                                    $Template = $this-&gt;<a class="code" href="classstring__1__0__0.html#af3ef295966faa46024b6e825f2987b0f">print_record</a>( $Template , $Value );
                              }
                              <span class="keywordflow">else</span>
                              {
                                    $Template = str_replace( <span class="charliteral">&#39;{&#39;</span>.$Field.<span class="charliteral">&#39;}&#39;</span> , $Value , $Template );
                              }
                        }
                        
                        <span class="keywordflow">return</span>( $Template );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab8b5e9ab351d699752ad8a38acfab380"></a><!-- doxytag: member="string_1_0_0::process_foreach" ref="ab8b5e9ab351d699752ad8a38acfab380" args="($Template, &amp;$Record)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">process_foreach </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Template</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Record</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function process macro 'foreach'.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Template</em>&nbsp;</td><td>- Format template.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Record</em>&nbsp;</td><td>- Outputting record.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Formatted data.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00187">187</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">for</span>( ; $MacroParameters = $this-&gt;<a class="code" href="classstring__1__0__0.html#a6dbe6f1a214870b83ee59eb261d6b64f">get_macro_parameters</a>( $Template , <span class="stringliteral">&#39;foreach&#39;</span> ) ; )
                        {
                              $this-&gt;Settings-&gt;load_settings( $MacroParameters );
                              $VariableName = $this-&gt;Settings-&gt;get_setting( <span class="stringliteral">&#39;var&#39;</span> );
                              $Data = <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Record , $VariableName );
                              $SubTemplate = $this-&gt;<a class="code" href="classstring__1__0__0.html#a035e2b998db813711e1fad4a8fbc7a24">get_block_data</a>( $Template , <span class="stringliteral">&quot;foreach:$MacroParameters&quot;</span> , <span class="stringliteral">&#39;~foreach&#39;</span> );
                              
                              <span class="keywordflow">foreach</span>( $Data as $k =&gt; $v )
                              {
                                    $Template = str_replace( 
                                          <span class="stringliteral">&quot;{foreach:$MacroParameters}&quot;</span> , 
                                          $this-&gt;<a class="code" href="classstring__1__0__0.html#af3ef295966faa46024b6e825f2987b0f">print_record</a>( $SubTemplate , $v ).<span class="stringliteral">&quot;{foreach:$MacroParameters}&quot;</span> , 
                                          $Template
                                    );
                              }
                              
                              $Changed = <span class="keyword">false</span>;
                              $Template = $this-&gt;<a class="code" href="classstring__1__0__0.html#ade6cc3f592d9171bae4cb62112a39c97">hide_block</a>( $Template , <span class="stringliteral">&quot;foreach:$MacroParameters&quot;</span> , <span class="stringliteral">&#39;~foreach&#39;</span> , $Changed );
                        }
                        
                        <span class="keywordflow">return</span>( $Template );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a208f0b2670f6924e5efcac313d4120ef"></a><!-- doxytag: member="string_1_0_0::remove_bom" ref="a208f0b2670f6924e5efcac313d4120ef" args="($Str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remove_bom </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Str</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function removes BOM .</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Str</em>&nbsp;</td><td>- String to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Processed string.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l01203">1203</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( $Str !== <span class="keyword">false</span> &amp;&amp; strlen( $Str ) )
                        {
                              <span class="keywordflow">if</span>( ord( @$Str[ 0 ] ) === 239 &amp;&amp; ord( @$Str[ 1 ] ) === 187 &amp;&amp; ord( @$Str[ 2 ] ) === 191 )
                              {
                                    $Str = substr( $Str , 3 );
                              }
                        }
                        
                        <span class="keywordflow">return</span>( $Str );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a725dd3edefef0dbef276e6720180a48a"></a><!-- doxytag: member="string_1_0_0::replace_block" ref="a725dd3edefef0dbef276e6720180a48a" args="($Str, $BlockStart, $BlockEnd, $Data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">replace_block </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function replaces block.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Str</em>&nbsp;</td><td>- String to process.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockStart</em>&nbsp;</td><td>- Marker of the block's begin.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockEnd</em>&nbsp;</td><td>- Marker of the block's end.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Data</em>&nbsp;</td><td>- Replacement data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- Decoded data.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l01165">1165</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Str = str_replace( <span class="charliteral">&#39;{&#39;</span>.$BlockStart.<span class="charliteral">&#39;}&#39;</span> , $Text.<span class="charliteral">&#39;{&#39;</span>.$BlockStart.<span class="charliteral">&#39;}&#39;</span> , $Str );
                        
                        $Str = $this-&gt;<a class="code" href="classstring__1__0__0.html#ade6cc3f592d9171bae4cb62112a39c97">hide_block</a>( $Str , $BlockStart , $BlockEnd , $Changed );
                  
                        <span class="keywordflow">return</span>( $Str );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abc6fe32cea0139f4c01522eec018315b"></a><!-- doxytag: member="string_1_0_0::show_block" ref="abc6fe32cea0139f4c01522eec018315b" args="($StringData, $BlockStart, $BlockEnd, &amp;$Changed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">show_block </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>BlockEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Changed</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function deletes block's bounds.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$StringData</em>&nbsp;</td><td>- Processing data.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockStart</em>&nbsp;</td><td>- Marker of the block's begin.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$BlockEnd</em>&nbsp;</td><td>- Marker of the block's end.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Changed</em>&nbsp;</td><td>- Was the sring processed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- Processed block.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00860">860</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        list( $StartPos , $EndPos ) = $this-&gt;<a class="code" href="classstring__1__0__0.html#ad9fb810dc00b4da7871100d4425ac1ca">get_block_positions</a>( $StringData , $BlockStart , $BlockEnd );
                        <span class="keywordflow">if</span>( $StartPos !== <span class="keyword">false</span> )
                        {
                              $BlockData = $this-&gt;<a class="code" href="classstring__1__0__0.html#a035e2b998db813711e1fad4a8fbc7a24">get_block_data</a>( $StringData , $BlockStart , $BlockEnd );

                              $StringData = substr_replace( $StringData , 
                                    $BlockData , 
                                    $StartPos , 
                                    $EndPos - $StartPos + strlen( <span class="charliteral">&#39;{&#39;</span>.$BlockEnd.<span class="charliteral">&#39;}&#39;</span> ) 
                              );
                              
                              $Changed = <span class="keyword">true</span>;
                        }

                        <span class="keywordflow">return</span>( $StringData );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a300a2a7b478fd185dcc6e53897baa60f"></a><!-- doxytag: member="string_1_0_0::show_safe_macro" ref="a300a2a7b478fd185dcc6e53897baa60f" args="($Str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">show_safe_macro </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Str</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function shows some safe macro, in a way that simple user can input them using common editor on the site.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Str</em>&nbsp;</td><td>- String to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- Decoded data.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l01075">1075</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Str = preg_replace( <span class="stringliteral">&quot;/\[lang\:([\{\}\[\]]{0}.*)\]/U&quot;</span> , <span class="stringliteral">&quot;{lang:\\1}&quot;</span> , $Str );
                        
                        <span class="keywordflow">return</span>( $Str );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="addf3b75fb1a3770993746740f86e3bfd"></a><!-- doxytag: member="string_1_0_0::trim_common_prefix" ref="addf3b75fb1a3770993746740f86e3bfd" args="(&amp;$Strings, $CommonPrefix=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">trim_common_prefix </td>
          <td>(</td>
          <td class="paramtype">&amp;$&nbsp;</td>
          <td class="paramname"> <em>Strings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>CommonPrefix</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Trimming common prefix.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Strings</em>&nbsp;</td><td>- Strings to process.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CommonPrefix</em>&nbsp;</td><td>- Trimming prefix.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Processed string.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l01302">1302</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( $CommonPrefix === <span class="keyword">false</span> )
                        {
                              $CommonPrefix = $this-&gt;<a class="code" href="classstring__1__0__0.html#af08c9c8d1832307054a706cd1ab0bf69">common_prefix</a>( $Strings );
                        }

                        <span class="keywordflow">if</span>( $CommonPrefix !== <span class="stringliteral">&#39;&#39;</span> )
                        {
                              <span class="keywordflow">foreach</span>( $Strings as $i =&gt; $String )
                              {
                                    $Strings[ $i ] = str_replace( $CommonPrefix , <span class="stringliteral">&#39;&#39;</span> , $String );
                              }
                        }
                        
                        <span class="keywordflow">return</span>( $Strings );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2c1da60c6cd872abbb042bcd58b7c10d"></a><!-- doxytag: member="string_1_0_0::$Settings" ref="a2c1da60c6cd872abbb042bcd58b7c10d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Settings = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cached objects.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00040">40</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>G:/projects/webdev/wwwroot/ultimix/packages/string/<a class="el" href="string_8php_source.html">string.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 3 2011 14:50:35 for ultimix by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
