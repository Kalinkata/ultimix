<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ultimix: string_1_0_0 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ultimix
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classstring__1__0__0.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">string_1_0_0 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a095c5d389db211932136b53f25f39685"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a095c5d389db211932136b53f25f39685">__construct</a> ()</td></tr>
<tr class="memitem:ade6cc3f592d9171bae4cb62112a39c97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#ade6cc3f592d9171bae4cb62112a39c97">hide_block</a> ($StringData, $BlockStart, $BlockEnd, &amp;$Changed)</td></tr>
<tr class="memitem:abc6fe32cea0139f4c01522eec018315b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#abc6fe32cea0139f4c01522eec018315b">show_block</a> ($StringData, $BlockStart, $BlockEnd, &amp;$Changed)</td></tr>
<tr class="memitem:ab76f614097eecb19a9cc1a29d0726eae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#ab76f614097eecb19a9cc1a29d0726eae">compile_foreach</a> ($Str, &amp;$Record)</td></tr>
<tr class="memitem:a78a1799b953f30cb9831d44e2c229348"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a78a1799b953f30cb9831d44e2c229348">print_record</a> ($Str, &amp;$Record)</td></tr>
<tr class="memitem:a6e43c2b24ac8d85514bac601c555e24e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a6e43c2b24ac8d85514bac601c555e24e">block_exists</a> ($StringData, $BlockStart, $BlockEnd=false)</td></tr>
<tr class="memitem:a6dbe6f1a214870b83ee59eb261d6b64f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a6dbe6f1a214870b83ee59eb261d6b64f">get_macro_parameters</a> (&amp;$StringData, $MacroName, $RegExValidators=array())</td></tr>
<tr class="memitem:a035e2b998db813711e1fad4a8fbc7a24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a035e2b998db813711e1fad4a8fbc7a24">get_block_data</a> ($StringData, $BlockStart, $BlockEnd)</td></tr>
<tr class="memitem:ae24bb070c0255937a34ccc0d876b4cf3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#ae24bb070c0255937a34ccc0d876b4cf3">hide_unprocessed_blocks</a> ($StringData, $BlockType, &amp;$Changed)</td></tr>
<tr class="memitem:ab6d1a435cb21f5afa400f359e17b074e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#ab6d1a435cb21f5afa400f359e17b074e">get_all_block_positions</a> ($StringData, $BlockStart, $BlockEnd)</td></tr>
<tr class="memitem:a25eef2e09155b45945dfe4a10c10443b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a25eef2e09155b45945dfe4a10c10443b">get_possible_block_positions</a> (&amp;$Positions)</td></tr>
<tr class="memitem:ad9fb810dc00b4da7871100d4425ac1ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#ad9fb810dc00b4da7871100d4425ac1ca">get_block_positions</a> ($StringData, $BlockStart, $BlockEnd)</td></tr>
<tr class="memitem:a1261c8b05bfe860f4abf8bbfe0627aa3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a1261c8b05bfe860f4abf8bbfe0627aa3">clear_ultimix_tags</a> ($Data)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a41aae46ee6c348c1276fb9f476384179"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a41aae46ee6c348c1276fb9f476384179">$MacroParser</a> = false</td></tr>
<tr class="memitem:a2c1da60c6cd872abbb042bcd58b7c10d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> = false</td></tr>
<tr class="memitem:a81dfa7ae89cd21db41d9f4d48424a3ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstring__1__0__0.html#a81dfa7ae89cd21db41d9f4d48424a3ed">$Tags</a> = false</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>String utilities.</p>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00028">28</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a095c5d389db211932136b53f25f39685"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor.</p>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00054">54</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        $this-&gt;MacroParser = <a class="code" href="core__public__api_8php.html#a7dbfff8b452767e03ec52155dff6bdd3">get_package_object</a>( <span class="stringliteral">&#39;string::macro_parser&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );</div>
<div class="line">                        $this-&gt;Settings = <a class="code" href="core__public__api_8php.html#a7dbfff8b452767e03ec52155dff6bdd3">get_package_object</a>( <span class="stringliteral">&#39;settings::settings&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );</div>
<div class="line">                        $this-&gt;Tags = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;string::tags&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a6e43c2b24ac8d85514bac601c555e24e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">block_exists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockEnd</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function validates block's existance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$StringData</td><td>Processing data.</td></tr>
    <tr><td class="paramname">$BlockStart</td><td>- Marker of the block's begin.</td></tr>
    <tr><td class="paramname">$BlockEnd</td><td>- Marker of the block's end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- true if the block exists, false otherwise.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00386">386</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        $StartPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span>.$BlockStart.<span class="charliteral">&#39;}&#39;</span> );</div>
<div class="line">                        <span class="keywordflow">if</span>( $StartPos == <span class="keyword">false</span> )</div>
<div class="line">                        {</div>
<div class="line">                              <span class="keywordflow">return</span>( <span class="keyword">false</span> );</div>
<div class="line">                        }</div>
<div class="line">                        </div>
<div class="line">                        <span class="keywordflow">if</span>( $BlockEnd !== <span class="keyword">false</span> )</div>
<div class="line">                        {</div>
<div class="line">                              $EndPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span>.$BlockEnd.<span class="charliteral">&#39;}&#39;</span> );</div>
<div class="line">                              <span class="keywordflow">if</span>( $EndPos == <span class="keyword">false</span> )</div>
<div class="line">                              {</div>
<div class="line">                                    <span class="keywordflow">return</span>( <span class="keyword">false</span> );</div>
<div class="line">                              }</div>
<div class="line">                        }</div>
<div class="line">                        </div>
<div class="line">                        <span class="keywordflow">return</span>( <span class="keyword">true</span> );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1261c8b05bfe860f4abf8bbfe0627aa3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clear_ultimix_tags </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$Data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function removes special tags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$Data</td><td>- Data to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data after processing.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00831">831</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        <span class="keywordflow">if</span>( strpos( $Data[ <span class="stringliteral">&#39;path&#39;</span> ] , <span class="stringliteral">&#39;{http_host}/&#39;</span> ) === 0 )</div>
<div class="line">                        {</div>
<div class="line">                              $Data[ <span class="stringliteral">&#39;path&#39;</span> ] = str_replace( <span class="stringliteral">&#39;{http_host}/&#39;</span> , <span class="stringliteral">&#39;./&#39;</span> , $Data[ <span class="stringliteral">&#39;path&#39;</span> ] );</div>
<div class="line">                        }</div>
<div class="line"></div>
<div class="line">                        $Data[ <span class="stringliteral">&#39;path&#39;</span> ] = $this-&gt;Tags-&gt;compile_ultimix_tags( $Data[ <span class="stringliteral">&#39;path&#39;</span> ] );</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">return</span>( $Data );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab76f614097eecb19a9cc1a29d0726eae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">compile_foreach </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$Str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$Record</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function process macro 'foreach'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$Str</td><td>- Format template.</td></tr>
    <tr><td class="paramname">$Record</td><td>- Outputting record.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Formatted data.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00275">275</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        <span class="keywordflow">for</span>( ; $Parameters = $this-&gt;<a class="code" href="classstring__1__0__0.html#a6dbe6f1a214870b83ee59eb261d6b64f">get_macro_parameters</a>( $Str , <span class="stringliteral">&#39;foreach&#39;</span> ) ; )</div>
<div class="line">                        {</div>
<div class="line">                              $this-&gt;Settings-&gt;load_settings( $Parameters );</div>
<div class="line">                              $Var = $this-&gt;Settings-&gt;get_setting( <span class="stringliteral">&#39;var&#39;</span> );</div>
<div class="line">                              $Data = <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Record , $Var );</div>
<div class="line"></div>
<div class="line">                              $Str = $this-&gt;apply_foreach_data( $Str , $Parameters , $Data );</div>
<div class="line"></div>
<div class="line">                              $Str = $this-&gt;<a class="code" href="classstring__1__0__0.html#ade6cc3f592d9171bae4cb62112a39c97">hide_block</a>( $Str , <span class="stringliteral">&quot;foreach:$Parameters&quot;</span> , <span class="stringliteral">&#39;~foreach&#39;</span> , $Changed );</div>
<div class="line">                              $Changed = <span class="keyword">false</span>;</div>
<div class="line">                        }</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">return</span>( $Str );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6d1a435cb21f5afa400f359e17b074e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_all_block_positions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function returns positions of all blocks'es ends and beginnings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$StringData</td><td>- Processing data.</td></tr>
    <tr><td class="paramname">$BlockStart</td><td>- Marker of the block's begin.</td></tr>
    <tr><td class="paramname">$BlockEnd</td><td>- Marker of the block's end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Beginnings and ends of the block.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00673">673</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        $Positions = array();</div>
<div class="line"></div>
<div class="line">                        $StartPos = -1;</div>
<div class="line">                        $EndPos = -1;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">for</span>( ; $StartPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span>.$BlockStart.<span class="charliteral">&#39;}&#39;</span> , $StartPos + 1 ) ; )</div>
<div class="line">                        {</div>
<div class="line">                              $Positions [ $StartPos ] = <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">for</span>( ; $EndPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span>.$BlockEnd.<span class="charliteral">&#39;}&#39;</span> , $EndPos + 1 ) ; )</div>
<div class="line">                        {</div>
<div class="line">                              $Positions [ $EndPos ] = <span class="charliteral">&#39;e&#39;</span>;</div>
<div class="line">                        }</div>
<div class="line">                        ksort( $Positions );</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">return</span>( $Positions );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a035e2b998db813711e1fad4a8fbc7a24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_block_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function validates block's existance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$StringData</td><td>- Processing data.</td></tr>
    <tr><td class="paramname">$BlockStart</td><td>- Marker of the block's begin.</td></tr>
    <tr><td class="paramname">$BlockEnd</td><td>- Marker of the block's end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- true if the block exists, false otherwise.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00555">555</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        list( $StartPos , $EndPos ) = $this-&gt;<a class="code" href="classstring__1__0__0.html#ad9fb810dc00b4da7871100d4425ac1ca">get_block_positions</a>( $StringData , $BlockStart , $BlockEnd );</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">if</span>( $StartPos !== <span class="keyword">false</span> )</div>
<div class="line">                        {</div>
<div class="line">                              $BlockData = substr( </div>
<div class="line">                                    $StringData , </div>
<div class="line">                                    $StartPos + strlen( <span class="charliteral">&#39;{&#39;</span>.$BlockStart.<span class="charliteral">&#39;}&#39;</span> ) , </div>
<div class="line">                                    $EndPos - $StartPos - strlen( <span class="charliteral">&#39;{&#39;</span>.$BlockStart.<span class="charliteral">&#39;}&#39;</span> )</div>
<div class="line">                              );</div>
<div class="line"></div>
<div class="line">                              <span class="keywordflow">return</span>( $BlockData );</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                        {</div>
<div class="line">                              <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;An error occured while getting block data&#39;</span> ) );</div>
<div class="line">                        }</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9fb810dc00b4da7871100d4425ac1ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_block_positions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function returns positions of the block's end and beginning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$StringData</td><td>- Processing data.</td></tr>
    <tr><td class="paramname">$BlockStart</td><td>- Marker of the block's begin.</td></tr>
    <tr><td class="paramname">$BlockEnd</td><td>- Marker of the block's end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Begin and end of the block.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00784">784</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        $Positions = $this-&gt;<a class="code" href="classstring__1__0__0.html#ab6d1a435cb21f5afa400f359e17b074e">get_all_block_positions</a>( $StringData , $BlockStart , $BlockEnd );</div>
<div class="line"></div>
<div class="line">                        list( $StartPos , $EndPos ) = $this-&gt;<a class="code" href="classstring__1__0__0.html#a25eef2e09155b45945dfe4a10c10443b">get_possible_block_positions</a>( $Positions );</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">if</span>( $StartPos === <span class="keyword">false</span> )</div>
<div class="line">                        {</div>
<div class="line">                              <span class="keywordflow">return</span>( array( <span class="keyword">false</span> , <span class="keyword">false</span> ) );</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">if</span>( $EndPos === <span class="keyword">false</span> )</div>
<div class="line">                        {</div>
<div class="line">                              <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;Block end was not found&#39;</span> ) );</div>
<div class="line">                        }</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">return</span>( array( $StartPos , $EndPos ) );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6dbe6f1a214870b83ee59eb261d6b64f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_macro_parameters </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$MacroName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$RegExValidators</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function returns macro's parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$StringData</td><td>- Data to be parsed.</td></tr>
    <tr><td class="paramname">$MacroName</td><td>- Macro's parameters.</td></tr>
    <tr><td class="paramname">$RegExValidators</td><td>- Regular expressions for parameters validation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Macro's name. If the macro was not found then false will be returned.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00443">443</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        $Matches = array();</div>
<div class="line"></div>
<div class="line">                        $StartPos = -1;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">for</span>( ; ( $TmpStartPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span>.$MacroName.<span class="charliteral">&#39;:&#39;</span> , $StartPos + 1 ) ) !== <span class="keyword">false</span> ; )</div>
<div class="line">                        {</div>
<div class="line">                              $Counter = 1;</div>
<div class="line">                              $StartPos = $TmpStartPos;</div>
<div class="line">                              </div>
<div class="line">                              $MacroStartPos = $StartPos;</div>
<div class="line">                              $ParamStartPos = $MacroStartPos + strlen( <span class="charliteral">&#39;{&#39;</span>.$MacroName.<span class="charliteral">&#39;:&#39;</span> );</div>
<div class="line">                              </div>
<div class="line">                              <span class="keywordflow">do</span></div>
<div class="line">                              {</div>
<div class="line">                                    $TmpStartPos = strpos( $StringData , <span class="charliteral">&#39;{&#39;</span> , $StartPos + 1 );</div>
<div class="line">                                    $TmpEndPos = strpos( $StringData , <span class="charliteral">&#39;}&#39;</span> , $StartPos + 1 );</div>
<div class="line">                                    </div>
<div class="line">                                    <span class="keywordflow">if</span>( $TmpStartPos !== <span class="keyword">false</span> &amp;&amp; $TmpEndPos !== <span class="keyword">false</span> )</div>
<div class="line">                                    {</div>
<div class="line">                                          <span class="keywordflow">if</span>( $TmpStartPos &lt; $TmpEndPos )</div>
<div class="line">                                          {</div>
<div class="line">                                                $StartPos = $TmpEndPos;</div>
<div class="line">                                          }</div>
<div class="line">                                          <span class="keywordflow">if</span>( $TmpEndPos &lt; $TmpStartPos )</div>
<div class="line">                                          {</div>
<div class="line">                                                $Counter--;</div>
<div class="line">                                                <span class="keywordflow">if</span>( $Counter )$Counter++;</div>
<div class="line">                                                $StartPos = $TmpStartPos;</div>
<div class="line">                                          }</div>
<div class="line">                                    }</div>
<div class="line"></div>
<div class="line">                                    <span class="keywordflow">if</span>( $TmpStartPos !== <span class="keyword">false</span> &amp;&amp; $TmpEndPos === <span class="keyword">false</span> )</div>
<div class="line">                                    {</div>
<div class="line">                                          $Counter++;</div>
<div class="line">                                          $StartPos = $TmpStartPos;</div>
<div class="line">                                    }</div>
<div class="line"></div>
<div class="line">                                    <span class="keywordflow">if</span>( $TmpStartPos === <span class="keyword">false</span> &amp;&amp; $TmpEndPos !== <span class="keyword">false</span> )</div>
<div class="line">                                    {</div>
<div class="line">                                          $Counter--;</div>
<div class="line">                                          $StartPos = $TmpEndPos;</div>
<div class="line">                                    }</div>
<div class="line"></div>
<div class="line">                                    <span class="keywordflow">if</span>( $TmpStartPos === <span class="keyword">false</span> &amp;&amp; $TmpEndPos === <span class="keyword">false</span> )</div>
<div class="line">                                    {</div>
<div class="line">                                          <span class="comment">/* ничего не найдено, поэтому внешний цикл закончен, да и внутренний тоже</span></div>
<div class="line"><span class="comment">                                             $StartPos = strlen( $StringData ); */</span></div>
<div class="line">                                          $StartPos = $MacroStartPos;</div>
<div class="line">                                    }</div>
<div class="line"></div>
<div class="line">                                    <span class="keywordflow">if</span>( $Counter == 0 )</div>
<div class="line">                                    {</div>
<div class="line">                                          <span class="comment">/* нашли закрывающую скобку для макроса... */</span></div>
<div class="line">                                          $Params = substr( $StringData , $ParamStartPos , $TmpEndPos - $ParamStartPos );</div>
<div class="line"></div>
<div class="line">                                          <span class="keywordflow">if</span>( $this-&gt;MacroParser-&gt;is_params_valid( $Params , $RegExValidators ) )</div>
<div class="line">                                          {</div>
<div class="line">                                                <span class="comment">/* валидные параметры */</span></div>
<div class="line">                                                <span class="keywordflow">return</span>( $Params );</div>
<div class="line">                                          }</div>
<div class="line"></div>
<div class="line">                                          <span class="comment">//TODO: refactor this function!</span></div>
<div class="line">                                          <span class="comment">/* поэтому вываливаемся из внутреннего цикла */</span></div>
<div class="line">                                          $TmpStartPos = <span class="keyword">false</span>;</div>
<div class="line">                                          $StartPos = $MacroStartPos;</div>
<div class="line">                                    }</div>
<div class="line">                              }</div>
<div class="line">                              <span class="keywordflow">while</span>( $TmpStartPos );</div>
<div class="line">                        }</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">return</span>( <span class="keyword">false</span> );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a25eef2e09155b45945dfe4a10c10443b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_possible_block_positions </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$Positions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function returns possible positions of the block's end and beginning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$Positions</td><td>- Positions of all blocks.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The beginning and the end of the block.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00722">722</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        $StartPos = $EndPos = <span class="keyword">false</span>;</div>
<div class="line">                        $c = 0;</div>
<div class="line">                        <span class="keywordflow">foreach</span>( $Positions as $Key =&gt; $Value )</div>
<div class="line">                        {</div>
<div class="line">                              <span class="keywordflow">if</span>( $StartPos === <span class="keyword">false</span> &amp;&amp; $Value === <span class="charliteral">&#39;s&#39;</span> )</div>
<div class="line">                              {</div>
<div class="line">                                    $c++;</div>
<div class="line">                                    $StartPos = $Key;</div>
<div class="line">                              }</div>
<div class="line">                              elseif( $EndPos === <span class="keyword">false</span> &amp;&amp; $Value === <span class="charliteral">&#39;e&#39;</span> &amp;&amp; $c === 1 )</div>
<div class="line">                              {</div>
<div class="line">                                    $EndPos = $Key;</div>
<div class="line">                                    <span class="keywordflow">break</span>;</div>
<div class="line">                              }</div>
<div class="line">                              elseif( $Value === <span class="charliteral">&#39;s&#39;</span> || $Value === <span class="charliteral">&#39;e&#39;</span> &amp;&amp; $c &gt; 0 )</div>
<div class="line">                              {</div>
<div class="line">                                    $c += $Value === <span class="charliteral">&#39;s&#39;</span> ? 1 : -1;</div>
<div class="line">                              }</div>
<div class="line">                        }</div>
<div class="line">                        </div>
<div class="line">                        <span class="keywordflow">return</span>( array( $StartPos , $EndPos ) );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ade6cc3f592d9171bae4cb62112a39c97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hide_block </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$Changed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function deletes text block.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$StringData</td><td>- Processing data.</td></tr>
    <tr><td class="paramname">$BlockStart</td><td>- Marker of the block's begin.</td></tr>
    <tr><td class="paramname">$BlockEnd</td><td>- Marker of the block's end.</td></tr>
    <tr><td class="paramname">$Changed</td><td>- Was the sring processed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Processed block.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><em>All</em> blocks will be deleted.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00106">106</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        <span class="keywordflow">do</span></div>
<div class="line">                        {</div>
<div class="line">                              list( $StartPos , $EndPos ) = $this-&gt;<a class="code" href="classstring__1__0__0.html#ad9fb810dc00b4da7871100d4425ac1ca">get_block_positions</a>( $StringData , $BlockStart , $BlockEnd );</div>
<div class="line">                              </div>
<div class="line">                              <span class="keywordflow">if</span>( $StartPos !== <span class="keyword">false</span> )</div>
<div class="line">                              {</div>
<div class="line">                                    $StringData = substr_replace( $StringData , </div>
<div class="line">                                          <span class="stringliteral">&#39;&#39;</span> , </div>
<div class="line">                                          $StartPos , </div>
<div class="line">                                          $EndPos - $StartPos + strlen( <span class="charliteral">&#39;{&#39;</span>.$BlockEnd.<span class="charliteral">&#39;}&#39;</span> ) </div>
<div class="line">                                    );</div>
<div class="line">                                    </div>
<div class="line">                                    $Changed = <span class="keyword">true</span>;</div>
<div class="line">                              }</div>
<div class="line">                              <span class="keywordflow">else</span></div>
<div class="line">                              {</div>
<div class="line">                                    <span class="keywordflow">return</span>( $StringData );</div>
<div class="line">                              }</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">while</span>( <span class="keyword">true</span> );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae24bb070c0255937a34ccc0d876b4cf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hide_unprocessed_blocks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$Changed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function deletes text block.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$StringData</td><td>- Processing data.</td></tr>
    <tr><td class="paramname">$BlockType</td><td>- Block's type.</td></tr>
    <tr><td class="paramname">$Changed</td><td>- Was the sring processed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Processed block.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><em>All</em> blocks will be deleted.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00616">616</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        $PlaceHolders = array();</div>
<div class="line">                        <span class="keywordflow">do</span></div>
<div class="line">                        {</div>
<div class="line">                              $PlaceHolders = array();</div>
<div class="line"></div>
<div class="line">                              preg_match( <span class="stringliteral">&quot;/\{$BlockType:([a-zA-Z0-9_]+)\}/&quot;</span> , $StringData , $PlaceHolders );</div>
<div class="line"></div>
<div class="line">                              <span class="keywordflow">if</span>( count( $PlaceHolders ) &gt; 1 )</div>
<div class="line">                              {</div>
<div class="line">                                    $StringData = $this-&gt;<a class="code" href="classstring__1__0__0.html#ade6cc3f592d9171bae4cb62112a39c97">hide_block</a>( $StringData , <span class="stringliteral">&quot;$BlockType:&quot;</span>.$PlaceHolders[ 1 ] , </div>
<div class="line">                                                                                     <span class="stringliteral">&quot;$BlockType:~&quot;</span>.$PlaceHolders[ 1 ] , $Changed );</div>
<div class="line">                              }</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">while</span>( count( $PlaceHolders ) &gt; 1 );</div>
<div class="line">                        </div>
<div class="line">                        <span class="keywordflow">return</span>( $StringData );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78a1799b953f30cb9831d44e2c229348"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">print_record </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$Str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$Record</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function makes a formatted output for record $Record and template.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$Str</td><td>- Format template.</td></tr>
    <tr><td class="paramname">$Record</td><td>- Outputting record.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Formatted data.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00325">325</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        <span class="keywordflow">if</span>( is_array( $Record ) === <span class="keyword">false</span> &amp;&amp; is_object( $Record ) === <span class="keyword">false</span> )</div>
<div class="line">                        {</div>
<div class="line">                              <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;Invalid record was passed&#39;</span> ) );</div>
<div class="line">                        }</div>
<div class="line"></div>
<div class="line">                        $Str = $this-&gt;<a class="code" href="classstring__1__0__0.html#ab76f614097eecb19a9cc1a29d0726eae">compile_foreach</a>( $Str , $Record );</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">foreach</span>( $Record as $Field =&gt; $Value )</div>
<div class="line">                        {</div>
<div class="line">                              <span class="keywordflow">if</span>( is_array( $Value ) || is_object( $Value ) )</div>
<div class="line">                              {</div>
<div class="line">                                    $Str = $this-&gt;<a class="code" href="classstring__1__0__0.html#a78a1799b953f30cb9831d44e2c229348">print_record</a>( $Str , $Value );</div>
<div class="line">                              }</div>
<div class="line">                              <span class="keywordflow">else</span></div>
<div class="line">                              {</div>
<div class="line">                                    $Str = str_replace( <span class="charliteral">&#39;{&#39;</span>.$Field.<span class="charliteral">&#39;}&#39;</span> , $Value , $Str );</div>
<div class="line">                              }</div>
<div class="line">                        }</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">return</span>( $Str );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc6fe32cea0139f4c01522eec018315b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">show_block </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$StringData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$BlockEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$Changed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function deletes block's bounds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$StringData</td><td>- Processing data.</td></tr>
    <tr><td class="paramname">$BlockStart</td><td>- Marker of the block's begin.</td></tr>
    <tr><td class="paramname">$BlockEnd</td><td>- Marker of the block's end.</td></tr>
    <tr><td class="paramname">$Changed</td><td>- Was the sring processed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- Processed block.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00171">171</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>
<div class="fragment"><div class="line">            {</div>
<div class="line">                  <span class="keywordflow">try</span></div>
<div class="line">                  {</div>
<div class="line">                        list( $StartPos , $EndPos ) = $this-&gt;<a class="code" href="classstring__1__0__0.html#ad9fb810dc00b4da7871100d4425ac1ca">get_block_positions</a>( $StringData , $BlockStart , $BlockEnd );</div>
<div class="line">                        <span class="keywordflow">if</span>( $StartPos !== <span class="keyword">false</span> )</div>
<div class="line">                        {</div>
<div class="line">                              $BlockData = $this-&gt;<a class="code" href="classstring__1__0__0.html#a035e2b998db813711e1fad4a8fbc7a24">get_block_data</a>( $StringData , $BlockStart , $BlockEnd );</div>
<div class="line"></div>
<div class="line">                              $StringData = substr_replace( $StringData , </div>
<div class="line">                                    $BlockData , </div>
<div class="line">                                    $StartPos , </div>
<div class="line">                                    $EndPos - $StartPos + strlen( <span class="charliteral">&#39;{&#39;</span>.$BlockEnd.<span class="charliteral">&#39;}&#39;</span> ) </div>
<div class="line">                              );</div>
<div class="line">                              </div>
<div class="line">                              $Changed = <span class="keyword">true</span>;</div>
<div class="line">                        }</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">return</span>( $StringData );</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">catch</span>( Exception $e )</div>
<div class="line">                  {</div>
<div class="line">                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );</div>
<div class="line">                  }</div>
<div class="line">            }</div>
</div><!-- fragment -->
</div>
</div>
<h2>Field Documentation</h2>
<a class="anchor" id="a41aae46ee6c348c1276fb9f476384179"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$MacroParser = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cached objects.</p>
<dl class="section author"><dt>Author</dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="string_8php_source.html#l00040">40</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2c1da60c6cd872abbb042bcd58b7c10d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Settings = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="string_8php_source.html#l00041">41</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

</div>
</div>
<a class="anchor" id="a81dfa7ae89cd21db41d9f4d48424a3ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Tags = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="string_8php_source.html#l00042">42</a> of file <a class="el" href="string_8php_source.html">string.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>packages/string/<a class="el" href="string_8php_source.html">string.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classstring__1__0__0.html">string_1_0_0</a></li>
    <li class="footer">Generated on Fri Aug 17 2012 18:31:46 for ultimix by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
