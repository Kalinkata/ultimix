<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ultimix: G:/projects/webdev/wwwroot/ultimix/packages/graph/graph.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>G:/projects/webdev/wwwroot/ultimix/packages/graph/graph.php</h1>  </div>
</div>
<div class="contents">
<a href="graph_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 
<a name="l00003"></a>00003       <span class="comment">/*</span>
<a name="l00004"></a>00004 <span class="comment">      *     This source code is a part of the Ultimix Project. </span>
<a name="l00005"></a>00005 <span class="comment">      *     It is distributed under BSD license. All other third side source code (like tinyMCE) is distributed under </span>
<a name="l00006"></a>00006 <span class="comment">      *     it&#39;s own license wich could be found from the corresponding files or sources. </span>
<a name="l00007"></a>00007 <span class="comment">      *     This source code is provided &quot;as is&quot; without any warranties or garanties.</span>
<a name="l00008"></a>00008 <span class="comment">      *</span>
<a name="l00009"></a>00009 <span class="comment">      *     Have a nice day!</span>
<a name="l00010"></a>00010 <span class="comment">      *</span>
<a name="l00011"></a>00011 <span class="comment">      *     @url http://ultimix.sorceforge.net</span>
<a name="l00012"></a>00012 <span class="comment">      *</span>
<a name="l00013"></a>00013 <span class="comment">      *     @author Alexey &quot;gdever&quot; Dodonov</span>
<a name="l00014"></a>00014 <span class="comment">      */</span>
<a name="l00015"></a>00015 
<a name="l00026"></a><a class="code" href="classgraph__1__0__0.html">00026</a>       <span class="keyword">class </span><a class="code" href="classgraph__1__0__0.html">graph_1_0_0</a>{
<a name="l00027"></a>00027             
<a name="l00038"></a><a class="code" href="classgraph__1__0__0.html#af6329d058ba1f8cc7e3cc908adaaa522">00038</a>             var                           <a class="code" href="classgraph__1__0__0.html#af6329d058ba1f8cc7e3cc908adaaa522">$Img</a> = <span class="keyword">false</span>;
<a name="l00039"></a>00039             
<a name="l00050"></a><a class="code" href="classgraph__1__0__0.html#a0e982448e4623d6918304b15333965f4">00050</a>             var                           <a class="code" href="classgraph__1__0__0.html#a0e982448e4623d6918304b15333965f4">$Width</a> = 0;
<a name="l00051"></a>00051             
<a name="l00062"></a><a class="code" href="classgraph__1__0__0.html#aaf3bd87548f0abdef3e664ff691bb7ef">00062</a>             var                           <a class="code" href="classgraph__1__0__0.html#aaf3bd87548f0abdef3e664ff691bb7ef">$Height</a> = 0;
<a name="l00063"></a>00063             
<a name="l00074"></a><a class="code" href="classgraph__1__0__0.html#a9bcf1736f38b4dafc4addec737f69a86">00074</a>             var                           <a class="code" href="classgraph__1__0__0.html#a9bcf1736f38b4dafc4addec737f69a86">$ClientWidth</a> = 0;
<a name="l00075"></a>00075             
<a name="l00086"></a><a class="code" href="classgraph__1__0__0.html#a45ff488ab129596dc2a9b4688bbef942">00086</a>             var                           <a class="code" href="classgraph__1__0__0.html#a45ff488ab129596dc2a9b4688bbef942">$ClientHeight</a> = 0;
<a name="l00087"></a>00087             
<a name="l00098"></a><a class="code" href="classgraph__1__0__0.html#a6694274ddbf10e07ecb6b670fbe38886">00098</a>             var                           <a class="code" href="classgraph__1__0__0.html#a6694274ddbf10e07ecb6b670fbe38886">$ClientX</a> = 0;
<a name="l00099"></a>00099             
<a name="l00110"></a><a class="code" href="classgraph__1__0__0.html#aa069b945fbfb98fa0cec5ab69441185e">00110</a>             var                           <a class="code" href="classgraph__1__0__0.html#aa069b945fbfb98fa0cec5ab69441185e">$ClientY</a> = 0;
<a name="l00111"></a>00111             
<a name="l00122"></a><a class="code" href="classgraph__1__0__0.html#a894c1222e65005a920ea25ebc8b4a36d">00122</a>             var                           <a class="code" href="classgraph__1__0__0.html#a894c1222e65005a920ea25ebc8b4a36d">$CoordX</a> = 0;
<a name="l00123"></a>00123             
<a name="l00134"></a><a class="code" href="classgraph__1__0__0.html#acbb0bb3dc6d6a24a9c3be5f7f2882e66">00134</a>             var                           <a class="code" href="classgraph__1__0__0.html#acbb0bb3dc6d6a24a9c3be5f7f2882e66">$CoordY</a> = 0;
<a name="l00135"></a>00135             
<a name="l00146"></a><a class="code" href="classgraph__1__0__0.html#aeb28bf5932648ecc985a17b7a1df78d0">00146</a>             var                           <a class="code" href="classgraph__1__0__0.html#aeb28bf5932648ecc985a17b7a1df78d0">$DrawGrid</a> = <span class="keyword">true</span>;
<a name="l00147"></a>00147             
<a name="l00158"></a><a class="code" href="classgraph__1__0__0.html#a7204ee324e6e3d7bf87496c232e724fb">00158</a>             var                           <a class="code" href="classgraph__1__0__0.html#a7204ee324e6e3d7bf87496c232e724fb">$StepsX</a> = 8;
<a name="l00159"></a>00159             
<a name="l00170"></a><a class="code" href="classgraph__1__0__0.html#af9f798b4148c0d74ebb0305733f32d49">00170</a>             var                           <a class="code" href="classgraph__1__0__0.html#af9f798b4148c0d74ebb0305733f32d49">$StepsY</a> = 6;
<a name="l00171"></a>00171             
<a name="l00182"></a><a class="code" href="classgraph__1__0__0.html#a0bbe9131c413ca9721738cacb59f8977">00182</a>             function                <span class="keyword">set</span>( $Field , $Value )
<a name="l00183"></a>00183             {
<a name="l00184"></a>00184                   $this-&gt;$Field = $Value;
<a name="l00185"></a>00185             }
<a name="l00186"></a>00186             
<a name="l00209"></a><a class="code" href="classgraph__1__0__0.html#a848b15e8a3f8a61de1c799403841d0d9">00209</a>             function                <a class="code" href="classgraph__1__0__0.html#a848b15e8a3f8a61de1c799403841d0d9">prepare_canvas</a>( <a class="code" href="classgraph__1__0__0.html#a0e982448e4623d6918304b15333965f4">$Width</a> = 640 , <a class="code" href="classgraph__1__0__0.html#aaf3bd87548f0abdef3e664ff691bb7ef">$Height</a> = 480 )
<a name="l00210"></a>00210             {
<a name="l00211"></a>00211                   <span class="keywordflow">try</span>
<a name="l00212"></a>00212                   {
<a name="l00213"></a>00213                         $this-&gt;Img = imagecreatetruecolor( <a class="code" href="classgraph__1__0__0.html#a0e982448e4623d6918304b15333965f4">$Width</a> , <a class="code" href="classgraph__1__0__0.html#aaf3bd87548f0abdef3e664ff691bb7ef">$Height</a> );
<a name="l00214"></a>00214                         $this-&gt;Width = intval( <a class="code" href="classgraph__1__0__0.html#a0e982448e4623d6918304b15333965f4">$Width</a> );
<a name="l00215"></a>00215                         $this-&gt;Height = intval( <a class="code" href="classgraph__1__0__0.html#aaf3bd87548f0abdef3e664ff691bb7ef">$Height</a> );
<a name="l00216"></a>00216                         
<a name="l00217"></a>00217                         <span class="keywordflow">if</span>( $this-&gt;Img === <span class="keyword">false</span> )
<a name="l00218"></a>00218                         {
<a name="l00219"></a>00219                               <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;An error occured while image creation&#39;</span> ) );
<a name="l00220"></a>00220                         }
<a name="l00221"></a>00221                   }
<a name="l00222"></a>00222                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00223"></a>00223                   {
<a name="l00224"></a>00224                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00225"></a>00225                   }
<a name="l00226"></a>00226             }
<a name="l00227"></a>00227             
<a name="l00250"></a><a class="code" href="classgraph__1__0__0.html#a311ecb84ecc0a89a2fef7dcc1a9f242b">00250</a>             function                <a class="code" href="classgraph__1__0__0.html#a311ecb84ecc0a89a2fef7dcc1a9f242b">compile_client_width_height</a>( <a class="code" href="classgraph__1__0__0.html#a0e982448e4623d6918304b15333965f4">$Width</a> , <a class="code" href="classgraph__1__0__0.html#aaf3bd87548f0abdef3e664ff691bb7ef">$Height</a> )
<a name="l00251"></a>00251             {
<a name="l00252"></a>00252                   <span class="keywordflow">try</span>
<a name="l00253"></a>00253                   {
<a name="l00254"></a>00254                         <span class="keywordflow">if</span>( <a class="code" href="classgraph__1__0__0.html#a0e982448e4623d6918304b15333965f4">$Width</a> === 0 )
<a name="l00255"></a>00255                         {
<a name="l00256"></a>00256                               $this-&gt;ClientWidth = $this-&gt;Width - 2 * $this-&gt;ClientX - 1;
<a name="l00257"></a>00257                         }
<a name="l00258"></a>00258                         <span class="keywordflow">else</span>
<a name="l00259"></a>00259                         {
<a name="l00260"></a>00260                               $this-&gt;ClientWidth = intval( <a class="code" href="classgraph__1__0__0.html#a0e982448e4623d6918304b15333965f4">$Width</a> );
<a name="l00261"></a>00261                         }
<a name="l00262"></a>00262                         
<a name="l00263"></a>00263                         <span class="keywordflow">if</span>( <a class="code" href="classgraph__1__0__0.html#aaf3bd87548f0abdef3e664ff691bb7ef">$Height</a> === 0 )
<a name="l00264"></a>00264                         {
<a name="l00265"></a>00265                               $this-&gt;ClientHeight = $this-&gt;Height - 2 * $this-&gt;ClientY - 1;
<a name="l00266"></a>00266                         }
<a name="l00267"></a>00267                         <span class="keywordflow">else</span>
<a name="l00268"></a>00268                         {
<a name="l00269"></a>00269                               $this-&gt;ClientHeight = intval( <a class="code" href="classgraph__1__0__0.html#aaf3bd87548f0abdef3e664ff691bb7ef">$Height</a> );
<a name="l00270"></a>00270                         }
<a name="l00271"></a>00271                   }
<a name="l00272"></a>00272                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00273"></a>00273                   {
<a name="l00274"></a>00274                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00275"></a>00275                   }
<a name="l00276"></a>00276             }
<a name="l00277"></a>00277             
<a name="l00296"></a><a class="code" href="classgraph__1__0__0.html#a923e25d0e1eacd2ffed71a48b848db92">00296</a>             function                <a class="code" href="classgraph__1__0__0.html#a923e25d0e1eacd2ffed71a48b848db92">fill_common_area</a>( $CommonAreaColor )
<a name="l00297"></a>00297             {
<a name="l00298"></a>00298                   <span class="keywordflow">try</span>
<a name="l00299"></a>00299                   {
<a name="l00300"></a>00300                         $CommonAreaColor = intval( $CommonAreaColor );
<a name="l00301"></a>00301                         
<a name="l00302"></a>00302                         $CommonAreaColor = imagecolorallocate( 
<a name="l00303"></a>00303                               $this-&gt;Img , ( $CommonAreaColor &amp; ( 255 &lt;&lt; 16 ) ) &gt;&gt; 16 , 
<a name="l00304"></a>00304                               ( $CommonAreaColor &amp; ( 255 &lt;&lt; 8 ) ) &gt;&gt; 8 , $CommonAreaColor &amp; 255
<a name="l00305"></a>00305                         );
<a name="l00306"></a>00306                         
<a name="l00307"></a>00307                         $Res = imagefill( $this-&gt;Img , 0 , 0 , $CommonAreaColor );
<a name="l00308"></a>00308                         
<a name="l00309"></a>00309                         <span class="keywordflow">if</span>( $Res === <span class="keyword">false</span> )
<a name="l00310"></a>00310                         {
<a name="l00311"></a>00311                               <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;An error occured while setting graph background&#39;</span> ) );
<a name="l00312"></a>00312                         }
<a name="l00313"></a>00313                   }
<a name="l00314"></a>00314                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00315"></a>00315                   {
<a name="l00316"></a>00316                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00317"></a>00317                   }
<a name="l00318"></a>00318             }
<a name="l00319"></a>00319             
<a name="l00338"></a><a class="code" href="classgraph__1__0__0.html#a8039384b897595a9b18a28b462ae8679">00338</a>             function                <a class="code" href="classgraph__1__0__0.html#a8039384b897595a9b18a28b462ae8679">fill_client_area</a>( $ClientAreaColor )
<a name="l00339"></a>00339             {
<a name="l00340"></a>00340                   <span class="keywordflow">try</span>
<a name="l00341"></a>00341                   {
<a name="l00342"></a>00342                         $ClientAreaColor = intval( $ClientAreaColor );
<a name="l00343"></a>00343                         
<a name="l00344"></a>00344                         $ClientAreaColor = imagecolorallocate( 
<a name="l00345"></a>00345                               $this-&gt;Img , ( $ClientAreaColor &amp; ( 255 &lt;&lt; 16 ) ) &gt;&gt; 16 , 
<a name="l00346"></a>00346                               ( $ClientAreaColor &amp; ( 255 &lt;&lt; 8 ) ) &gt;&gt; 8 , $ClientAreaColor &amp; 255
<a name="l00347"></a>00347                         );
<a name="l00348"></a>00348                         
<a name="l00349"></a>00349                         $Res = imagefilledrectangle( 
<a name="l00350"></a>00350                               $this-&gt;Img , $this-&gt;ClientX , $this-&gt;Height - $this-&gt;ClientY , 
<a name="l00351"></a>00351                               $this-&gt;ClientX + $this-&gt;ClientWidth , $this-&gt;Height - $this-&gt;ClientHeight - $this-&gt;ClientY , 
<a name="l00352"></a>00352                               $ClientAreaColor
<a name="l00353"></a>00353                         );
<a name="l00354"></a>00354                         
<a name="l00355"></a>00355                         <span class="keywordflow">if</span>( $Res === <span class="keyword">false</span> )
<a name="l00356"></a>00356                         {
<a name="l00357"></a>00357                               <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;An error occured while filling client area&#39;</span> ) );
<a name="l00358"></a>00358                         }
<a name="l00359"></a>00359                   }
<a name="l00360"></a>00360                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00361"></a>00361                   {
<a name="l00362"></a>00362                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00363"></a>00363                   }
<a name="l00364"></a>00364             }
<a name="l00365"></a>00365             
<a name="l00404"></a><a class="code" href="classgraph__1__0__0.html#a7f6d9e69bed7c503e9e0714dbf629b65">00404</a>             function                <a class="code" href="classgraph__1__0__0.html#a7f6d9e69bed7c503e9e0714dbf629b65">draw_client_area</a>( $X = 19 , $Y = 19 , <a class="code" href="classgraph__1__0__0.html#a0e982448e4623d6918304b15333965f4">$Width</a> = 0 , <a class="code" href="classgraph__1__0__0.html#aaf3bd87548f0abdef3e664ff691bb7ef">$Height</a> = 0 , 
<a name="l00405"></a>00405                                                                                           $ClientAreaColor = 0xffffff , $CommonAreaColor = 0xdddddd )
<a name="l00406"></a>00406             {
<a name="l00407"></a>00407                   <span class="keywordflow">try</span>
<a name="l00408"></a>00408                   {
<a name="l00409"></a>00409                         <span class="keywordflow">if</span>( $this-&gt;Img === <span class="keyword">false</span> )
<a name="l00410"></a>00410                         {
<a name="l00411"></a>00411                               $this-&gt;<a class="code" href="classgraph__1__0__0.html#a848b15e8a3f8a61de1c799403841d0d9">prepare_canvas</a>();
<a name="l00412"></a>00412                         }
<a name="l00413"></a>00413                         
<a name="l00414"></a>00414                         $this-&gt;ClientX = intval( $X );
<a name="l00415"></a>00415                         $this-&gt;ClientY = intval( $Y );
<a name="l00416"></a>00416                         
<a name="l00417"></a>00417                         $this-&gt;<a class="code" href="classgraph__1__0__0.html#a311ecb84ecc0a89a2fef7dcc1a9f242b">compile_client_width_height</a>( <a class="code" href="classgraph__1__0__0.html#a0e982448e4623d6918304b15333965f4">$Width</a> , <a class="code" href="classgraph__1__0__0.html#aaf3bd87548f0abdef3e664ff691bb7ef">$Height</a> );
<a name="l00418"></a>00418                         
<a name="l00419"></a>00419                         $this-&gt;<a class="code" href="classgraph__1__0__0.html#a923e25d0e1eacd2ffed71a48b848db92">fill_common_area</a>( $CommonAreaColor );
<a name="l00420"></a>00420                         
<a name="l00421"></a>00421                         $this-&gt;<a class="code" href="classgraph__1__0__0.html#a8039384b897595a9b18a28b462ae8679">fill_client_area</a>( $CommonAreaColor );
<a name="l00422"></a>00422                   }
<a name="l00423"></a>00423                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00424"></a>00424                   {
<a name="l00425"></a>00425                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00426"></a>00426                   }
<a name="l00427"></a>00427             }
<a name="l00428"></a>00428             
<a name="l00451"></a><a class="code" href="classgraph__1__0__0.html#a80e967a7755ab582e74808d97989a8be">00451</a>             function                <a class="code" href="classgraph__1__0__0.html#a80e967a7755ab582e74808d97989a8be">draw_coordinates</a>( $X = 0 , $Y = 0 )
<a name="l00452"></a>00452             {
<a name="l00453"></a>00453                   <span class="keywordflow">try</span>
<a name="l00454"></a>00454                   {
<a name="l00455"></a>00455                         <span class="keywordflow">if</span>( $this-&gt;Img === <span class="keyword">false</span> )
<a name="l00456"></a>00456                         {
<a name="l00457"></a>00457                               $this-&gt;<a class="code" href="classgraph__1__0__0.html#a7f6d9e69bed7c503e9e0714dbf629b65">draw_client_area</a>();
<a name="l00458"></a>00458                         }
<a name="l00459"></a>00459                         
<a name="l00460"></a>00460                         $this-&gt;CoordX = intval( $X );
<a name="l00461"></a>00461                         $this-&gt;CoordY = intval( $Y );
<a name="l00462"></a>00462                         
<a name="l00463"></a>00463                         $BlackColor = imagecolorallocate( $this-&gt;Img , 0 , 0 , 0 );
<a name="l00464"></a>00464 
<a name="l00465"></a>00465                         $Y = intval( $Y );
<a name="l00466"></a>00466                         imageline( 
<a name="l00467"></a>00467                               $this-&gt;Img , $this-&gt;ClientX ,  $this-&gt;Height - $this-&gt;ClientY - $Y , 
<a name="l00468"></a>00468                               $this-&gt;ClientX + $this-&gt;ClientWidth , $this-&gt;Height - $this-&gt;ClientY - $Y , $BlackColor
<a name="l00469"></a>00469                         );
<a name="l00470"></a>00470 
<a name="l00471"></a>00471                         $X = intval( $X );
<a name="l00472"></a>00472                         imageline( 
<a name="l00473"></a>00473                               $this-&gt;Img , $this-&gt;ClientX + $X , $this-&gt;Height - $this-&gt;ClientY  , $this-&gt;ClientX + $X , 
<a name="l00474"></a>00474                               $this-&gt;Height - $this-&gt;ClientY - $this-&gt;ClientHeight , $BlackColor
<a name="l00475"></a>00475                         );
<a name="l00476"></a>00476                   }
<a name="l00477"></a>00477                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00478"></a>00478                   {
<a name="l00479"></a>00479                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00480"></a>00480                   }
<a name="l00481"></a>00481             }
<a name="l00482"></a>00482             
<a name="l00497"></a><a class="code" href="classgraph__1__0__0.html#a1e7cde9de60a5891c314b8ee25f40b2b">00497</a>             function                <a class="code" href="classgraph__1__0__0.html#a1e7cde9de60a5891c314b8ee25f40b2b">draw_grid</a>()
<a name="l00498"></a>00498             {
<a name="l00499"></a>00499                   <span class="keywordflow">try</span>
<a name="l00500"></a>00500                   {
<a name="l00501"></a>00501                         <span class="keywordflow">if</span>( $this-&gt;Img === <span class="keyword">false</span> )
<a name="l00502"></a>00502                         {
<a name="l00503"></a>00503                               $this-&gt;<a class="code" href="classgraph__1__0__0.html#a80e967a7755ab582e74808d97989a8be">draw_coordinates</a>();
<a name="l00504"></a>00504                         }
<a name="l00505"></a>00505                         $GreyColor = imagecolorallocate( $this-&gt;Img , 0 , 0 , 0 );
<a name="l00506"></a>00506                         $dx = $this-&gt;ClientWidth / $this-&gt;StepsX;
<a name="l00507"></a>00507                         <span class="keywordflow">for</span>( $i = 0 ; $i &lt; $this-&gt;StepsX - 1 ; $i++ )
<a name="l00508"></a>00508                         {                       
<a name="l00509"></a>00509                               imageline( 
<a name="l00510"></a>00510                                     $this-&gt;Img , $this-&gt;ClientX + $dx * $i , $this-&gt;Height - $this-&gt;ClientY  , 
<a name="l00511"></a>00511                                     $this-&gt;ClientX + $dx * $i , $this-&gt;Height - $this-&gt;ClientY - $this-&gt;ClientHeight , $GreyColor
<a name="l00512"></a>00512                               );
<a name="l00513"></a>00513                         }
<a name="l00514"></a>00514                         $dy = $this-&gt;ClientHeight / $this-&gt;StepsY;
<a name="l00515"></a>00515                         <span class="keywordflow">for</span>( $i = 0 ; $i &lt; $this-&gt;StepsY - 1 ; $i++ )
<a name="l00516"></a>00516                         {
<a name="l00517"></a>00517                               imageline(
<a name="l00518"></a>00518                                     $this-&gt;Img , $this-&gt;ClientX , $this-&gt;ClientY + $dy * $i , $this-&gt;ClientX + $this-&gt;ClientWidth , 
<a name="l00519"></a>00519                                     $this-&gt;ClientY + $dy * $i , $BlackColor
<a name="l00520"></a>00520                               );
<a name="l00521"></a>00521                         }
<a name="l00522"></a>00522                   }
<a name="l00523"></a>00523                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00524"></a>00524                   {
<a name="l00525"></a>00525                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00526"></a>00526                   }
<a name="l00527"></a>00527             }
<a name="l00528"></a>00528             
<a name="l00551"></a><a class="code" href="classgraph__1__0__0.html#a8a6864f086e05ff03baea13956c11c2c">00551</a>             function                <a class="code" href="classgraph__1__0__0.html#a8a6864f086e05ff03baea13956c11c2c">get_total_client_width</a>( $DataX )
<a name="l00552"></a>00552             {
<a name="l00553"></a>00553                   <span class="keywordflow">try</span>
<a name="l00554"></a>00554                   {
<a name="l00555"></a>00555                         $c = count( $DataY );
<a name="l00556"></a>00556                         
<a name="l00557"></a>00557                         <span class="keywordflow">if</span>( $DataX === <span class="keyword">false</span> )
<a name="l00558"></a>00558                         {
<a name="l00559"></a>00559                               $DataX = array();
<a name="l00560"></a>00560                               <span class="keywordflow">for</span>( $i = 0 ; $i &lt; $c ; $i++ )
<a name="l00561"></a>00561                               {
<a name="l00562"></a>00562                                     $DataX [] = $i;
<a name="l00563"></a>00563                               }
<a name="l00564"></a>00564                               $TotalClientWidth = $this-&gt;ClientWidth - $this-&gt;CoordX;
<a name="l00565"></a>00565                         }
<a name="l00566"></a>00566                         <span class="keywordflow">else</span>
<a name="l00567"></a>00567                         {
<a name="l00568"></a>00568                               $TotalClientWidth = $this-&gt;ClientWidth;
<a name="l00569"></a>00569                         }
<a name="l00570"></a>00570                         
<a name="l00571"></a>00571                         <span class="keywordflow">return</span>( $TotalClientWidth );
<a name="l00572"></a>00572                   }
<a name="l00573"></a>00573                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00574"></a>00574                   {
<a name="l00575"></a>00575                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00576"></a>00576                   }
<a name="l00577"></a>00577             }
<a name="l00578"></a>00578             
<a name="l00605"></a>00605             <span class="keyword">private</span> function  draw_graph_after_preparations( $DataY , $DataX = <span class="keyword">false</span> , $Color = 0xff0000 )
<a name="l00606"></a>00606             {
<a name="l00607"></a>00607                   <span class="keywordflow">try</span>
<a name="l00608"></a>00608                   {
<a name="l00609"></a>00609                         $MaxDataHeight = max( $DataY ) + abs( min( $DataY ) );
<a name="l00610"></a>00610                         $MaxDataWidth = max( $DataX ) + abs( min( $DataX ) );
<a name="l00611"></a>00611                         $GlobalCenterX = $this-&gt;ClientX + $this-&gt;CoordX;
<a name="l00612"></a>00612                         $GlobalCenterY = $this-&gt;Height - $this-&gt;ClientY - $this-&gt;CoordY;
<a name="l00613"></a>00613                         
<a name="l00614"></a>00614                         $GraphColor = imagecolorallocate( 
<a name="l00615"></a>00615                               $this-&gt;Img , ( $Color &amp; ( 255 &lt;&lt; 16 ) ) &gt;&gt; 16 , ( $Color &amp; ( 255 &lt;&lt; 8 ) ) &gt;&gt; 8 , $Color &amp; 255
<a name="l00616"></a>00616                         );
<a name="l00617"></a>00617                         
<a name="l00618"></a>00618                         $c = count( $DataY );
<a name="l00619"></a>00619                         $TotalClientWidth = $this-&gt;<a class="code" href="classgraph__1__0__0.html#a8a6864f086e05ff03baea13956c11c2c">get_total_client_width</a>( $DataX );
<a name="l00620"></a>00620                         <span class="keywordflow">for</span>( $i = 0 ; $i &lt; $c - 1 ; $i++ )
<a name="l00621"></a>00621                         {
<a name="l00622"></a>00622                               $x1 = $GlobalCenterX + $DataX[ $i ] / $MaxDataWidth * $TotalClientWidth;
<a name="l00623"></a>00623                               $y1 = $GlobalCenterY - $DataY[ $i ] / $MaxDataHeight * $this-&gt;ClientHeight;
<a name="l00624"></a>00624                               
<a name="l00625"></a>00625                               $x2 = $GlobalCenterX + $DataX[ $i + 1 ] / $MaxDataWidth * $TotalClientWidth;
<a name="l00626"></a>00626                               $y2 = $GlobalCenterY - $DataY[ $i + 1 ] / $MaxDataHeight * $this-&gt;ClientHeight;
<a name="l00627"></a>00627                               
<a name="l00628"></a>00628                               imageline( $this-&gt;Img , $x1 , $y1 , $x2 , $y2 , $GraphColor );
<a name="l00629"></a>00629                         }
<a name="l00630"></a>00630                   }
<a name="l00631"></a>00631                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00632"></a>00632                   {
<a name="l00633"></a>00633                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00634"></a>00634                   }
<a name="l00635"></a>00635             }           
<a name="l00636"></a>00636             
<a name="l00663"></a><a class="code" href="classgraph__1__0__0.html#a386d051f78653d18344c6cff15d74fdd">00663</a>             function                <a class="code" href="classgraph__1__0__0.html#a386d051f78653d18344c6cff15d74fdd">draw_graph</a>( $DataY , $DataX = <span class="keyword">false</span> , $Color = 0xff0000 )
<a name="l00664"></a>00664             {
<a name="l00665"></a>00665                   <span class="keywordflow">try</span>
<a name="l00666"></a>00666                   {
<a name="l00667"></a>00667                         <span class="keywordflow">if</span>( $this-&gt;Img === <span class="keyword">false</span> )
<a name="l00668"></a>00668                         {
<a name="l00669"></a>00669                               $this-&gt;<a class="code" href="classgraph__1__0__0.html#a80e967a7755ab582e74808d97989a8be">draw_coordinates</a>();
<a name="l00670"></a>00670                         }
<a name="l00671"></a>00671                         
<a name="l00672"></a>00672                         $this-&gt;<a class="code" href="classgraph__1__0__0.html#a1e7cde9de60a5891c314b8ee25f40b2b">draw_grid</a>();
<a name="l00673"></a>00673                         
<a name="l00674"></a>00674                         $this-&gt;draw_graph_after_preparations( $DataY , $DataX , $Color );
<a name="l00675"></a>00675                   }
<a name="l00676"></a>00676                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00677"></a>00677                   {
<a name="l00678"></a>00678                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00679"></a>00679                   }
<a name="l00680"></a>00680             }
<a name="l00681"></a>00681             
<a name="l00696"></a><a class="code" href="classgraph__1__0__0.html#a3939045b11b9aaefdf692feb963f0dfc">00696</a>             function                <a class="code" href="classgraph__1__0__0.html#a3939045b11b9aaefdf692feb963f0dfc">output</a>()
<a name="l00697"></a>00697             {
<a name="l00698"></a>00698                   <span class="keywordflow">try</span>
<a name="l00699"></a>00699                   {
<a name="l00700"></a>00700                         header( <span class="stringliteral">&#39;Content-type: image/png&#39;</span> );
<a name="l00701"></a>00701                         imagepng( $this-&gt;Img );
<a name="l00702"></a>00702                         imagedestroy( $this-&gt;Img );
<a name="l00703"></a>00703                   }
<a name="l00704"></a>00704                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00705"></a>00705                   {
<a name="l00706"></a>00706                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00707"></a>00707                   }
<a name="l00708"></a>00708             }
<a name="l00709"></a>00709       }
<a name="l00710"></a>00710       
<a name="l00711"></a>00711 ?&gt;
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 3 2011 14:49:49 for ultimix by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
