<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ultimix: G:/projects/webdev/wwwroot/ultimix/packages/core/core.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>G:/projects/webdev/wwwroot/ultimix/packages/core/core.php File Reference</h1>  </div>
</div>
<div class="contents">

<p><a href="core_8php_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a5fa923a8c112e0e6862de1f35efffe20">_get_package_relative_path</a> ($File)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#acedda15986c54e7bd38bbf0767dace1c">_get_package_real_version</a> ($PackageName, $PackageVersion, $ROOT_DIR=<a class="el" href="packages_2core_2include_2php_2settings_8php.html#a15833b45cb39aee8c76395ec82c74b4d">INSTALL_DIR</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a2c2b463fdc47ddea012ed9b342384a09">_get_package_path</a> ($PackageName, $PackageVersion, $ROOT_DIR=<a class="el" href="packages_2core_2include_2php_2settings_8php.html#a15833b45cb39aee8c76395ec82c74b4d">INSTALL_DIR</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a69adbfe80a125a9a6a5de6f9314ef1e1">_get_root_dir</a> ($thePackageName, $thePackageVersion, $ROOT_DIR=<a class="el" href="packages_2core_2include_2php_2settings_8php.html#a15833b45cb39aee8c76395ec82c74b4d">INSTALL_DIR</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a8e0fb95824c4039ab0524722ac036580">_get_full_class_name</a> ($TopPackageName, $Version, $ROOT_DIR)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a7aa40fa195f8a69eda623a6a519f1100">_get_top_package_name</a> ($PackageName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a32870678f763de0e6350d1ef4e521f68">_get_requested_class_name</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#ad31a0f568e54feba3f73510802d145d9">_set_object_label</a> ($theObjectLabel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a8ab455d2da780a3ad26bbf9503032a2b">_get_package_info_after_rewrites</a> ($PackageName, $PackageVersion, $PackageScriptPath=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a1ea4fe90b349e48a58c207ebc3be5a1d">_get_package_path_ex</a> ($PackageName, $PackageRealVersion)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a48268d11e7e2028e81ae8ed17b436775">_get_load_script_data</a> ($PackageName, $PackageVersion, $PackageScriptPath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a6b509065a3ec519c261632f1c23df370">_fill_package_paths_cache</a> ($PackageName, $PackageVersion, $PackageScriptPath)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#ae7696a1a7341a4479bf53620678d07d9">_try_fetch_from_cache</a> ($PackageName, $PackageVersion)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a252d5c529a1a5ade527504c2652263e6">_package_script_fast_load</a> ($PackageName, $PackageVersion)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a89b2d0058b07c104b4fd8364f6d88adc">_get_package_directory</a> ($PackageName, $PackageVersion)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#aafeefcfe16c625825f34a796c186d194">_store_package_object</a> ($PackageClassName, $Key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a8d21ce5940f87898e5dafbc3786d891d">_store_package_path</a> ($PackageName, $PackageVersion)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a5723fd5d1f06ff63181f91d948316d87">_get_package_relative_path_ex</a> ($PackageName, $PackageVersion)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a1f1c4525fff3e0763d71241549231772">$PackageCache</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#adf72824f7779e16bb577c5394c47703a">$RequestedClassName</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a828665e6af1728c8bdd4239783729b3f">$PackageRelativePathCacheChanged</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a7887e054e29888f102a325e8f9095090">$PackageRelativePathCache</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a0a70cf3b52b50a2472929c2cc1db9c8f">$PackageRealVersionCacheChanged</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a671d8e8dc32c9cee4fa0b63f398e2e34">$PackageRealVersionCache</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#afc5125b3aa21bfe78cd7e26dcd895d53">$PackagePathCacheChanged</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#ac9d1fa3d0fa9b97c459e600c47a9bc82">$PackagePathCache</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#aba9d7a2bcd99866efae39f96c29aeca7">$RootDirCacheChanged</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#af4804951b6e8dab8d9fdac856da25e28">$RootDirCache</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a5c03e62bc789d7f6af735f8bce193ff9">$FullClassNameCacheChanged</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a2ab80ae975784eebef8c2a2402e6c96c">$FullClassNameCache</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a7ca4cdb47b1c774aa01ce1e451872607">$TopPackageNameCacheChanged</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a66b18d31c4ed7086ba7b5b64ee05fb10">$TopPackageNameCache</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a822d4b250c38b80129c3ec5583d336b7">$ObjectLabel</a> = 'default'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a157612c61e3c4fdbfa61d8438c1fea9b">$PackageInfoAfterRewritesCacheChanged</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#ac513d879771b9011c9d7aeab48cb974a">$PackageInfoAfterRewritesCache</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#a7e967285a7877533391de11b758758db">$PackagePathsCacheChanged</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="core_8php.html#abc712f88ae74573737b0665cb5e07423">$PackagePathsCache</a> = array()</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6b509065a3ec519c261632f1c23df370"></a><!-- doxytag: member="core.php::_fill_package_paths_cache" ref="a6b509065a3ec519c261632f1c23df370" args="($PackageName, $PackageVersion, $PackageScriptPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_fill_package_paths_cache </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageScriptPath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Additing information about package in the cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- Name of the package.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- Package's version.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageScriptPath</em>&nbsp;</td><td>- Path to the package's script.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00729">729</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  global            <a class="code" href="core_8php.html#a822d4b250c38b80129c3ec5583d336b7">$ObjectLabel</a>;
                  $Key = <span class="stringliteral">&quot;$PackageName $PackageVersion $ObjectLabel&quot;</span>;
                  
                  global            <a class="code" href="core_8php.html#abc712f88ae74573737b0665cb5e07423">$PackagePathsCache</a>;
                  <span class="keywordflow">if</span>( isset( $PackagePathsCache[ $Key ] ) )<span class="keywordflow">return</span>;
                  
                  list( $RPackageName , $RPackageVersion ) = <a class="code" href="core_8php.html#a8ab455d2da780a3ad26bbf9503032a2b">_get_package_info_after_rewrites</a>( 
                        $PackageName , $PackageVersion , $PackageScriptPath
                  );
                  
                  list( $ScriptPath , $Exists , $PackageClassName , $TopPackageName ) = <a class="code" href="core_8php.html#a48268d11e7e2028e81ae8ed17b436775">_get_load_script_data</a>( 
                        $RPackageName , $RPackageVersion , $PackageScriptPath 
                  );

                  $PackagePathsCache[ $Key ] = array( 
                        <span class="stringliteral">&#39;path&#39;</span> =&gt; $ScriptPath , <span class="stringliteral">&#39;exists&#39;</span> =&gt; $Exists , 
                        <span class="stringliteral">&#39;class_name&#39;</span> =&gt; $PackageClassName , <span class="stringliteral">&#39;top_package_name&#39;</span> =&gt; $TopPackageName
                  );
                  
                  global            <a class="code" href="core_8php.html#a7e967285a7877533391de11b758758db">$PackagePathsCacheChanged</a>;
                  $PackagePathsCacheChanged = <span class="keyword">true</span>;
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8e0fb95824c4039ab0524722ac036580"></a><!-- doxytag: member="core.php::_get_full_class_name" ref="a8e0fb95824c4039ab0524722ac036580" args="($TopPackageName, $Version, $ROOT_DIR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_full_class_name </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>TopPackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ROOT_DIR</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns class name for the specified package.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$TopPackageName</em>&nbsp;</td><td>- short name of the class.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Version</em>&nbsp;</td><td>- version of the package.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$ROOT_DIR</em>&nbsp;</td><td>- Name of the root directory. In this directory all package processing will be run.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Name of the class for the specified packkage.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00388">388</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {     
                  global      <a class="code" href="core_8php.html#a2ab80ae975784eebef8c2a2402e6c96c">$FullClassNameCache</a>;
                  <span class="keywordflow">if</span>( isset( $FullClassNameCache[ <span class="stringliteral">&quot;$TopPackageName.$Version.$ROOT_DIR&quot;</span> ] ) )
                  {
                        <span class="keywordflow">return</span>( $FullClassNameCache[ <span class="stringliteral">&quot;$TopPackageName.$Version.$ROOT_DIR&quot;</span> ] );
                  }
                  
                  $TopVersion = explode( <span class="stringliteral">&#39;::&#39;</span> , $Version );
                  $TopVersion = array_pop( $TopVersion );
                  
                  $RealPackageVersion = <a class="code" href="core_8php.html#acedda15986c54e7bd38bbf0767dace1c">_get_package_real_version</a>( $TopPackageName , $TopVersion , $ROOT_DIR );
                  
                  $PackageClassName = str_replace( <span class="charliteral">&#39;.&#39;</span> , <span class="charliteral">&#39;_&#39;</span> , $TopPackageName.<span class="charliteral">&#39;_&#39;</span>.$RealPackageVersion );
                  
                  global      <a class="code" href="core_8php.html#a5c03e62bc789d7f6af735f8bce193ff9">$FullClassNameCacheChanged</a>;
                  $FullClassNameCacheChanged = <span class="keyword">true</span>;
                  
                  <span class="keywordflow">return</span>( $FullClassNameCache[ <span class="stringliteral">&quot;$TopPackageName.$Version.$ROOT_DIR&quot;</span> ] = $PackageClassName );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a48268d11e7e2028e81ae8ed17b436775"></a><!-- doxytag: member="core.php::_get_load_script_data" ref="a48268d11e7e2028e81ae8ed17b436775" args="($PackageName, $PackageVersion, $PackageScriptPath)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_load_script_data </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageScriptPath</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Getting data about loading script.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- Name of the package.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- Package's version.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageScriptPath</em>&nbsp;</td><td>- Path to the package's script.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Information about script.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00676">676</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  $RootDirectory = <a class="code" href="core_8php.html#a69adbfe80a125a9a6a5de6f9314ef1e1">_get_root_dir</a>( $PackageName , $PackageVersion , <a class="code" href="packages_2core_2include_2php_2settings_8php.html#a15833b45cb39aee8c76395ec82c74b4d">INSTALL_DIR</a> );
                  $PackageDirectory = <a class="code" href="core_8php.html#a2c2b463fdc47ddea012ed9b342384a09">_get_package_path</a>( $PackageName , $PackageVersion , $RootDirectory );
                  $TopPackageName = <a class="code" href="core_8php.html#a7aa40fa195f8a69eda623a6a519f1100">_get_top_package_name</a>( $PackageName );
                  
                  $PackageClassName = <span class="stringliteral">&#39;unexisting_class&#39;</span>;
                  $Exists = <span class="keyword">false</span>;
                  
                  <span class="keywordflow">if</span>( file_exists( $PackageDirectory.<span class="charliteral">&#39;/&#39;</span>.$TopPackageName.<span class="stringliteral">&#39;.php&#39;</span> ) )
                  {
                        $PackageClassName = <a class="code" href="core_8php.html#a8e0fb95824c4039ab0524722ac036580">_get_full_class_name</a>( $TopPackageName , $PackageVersion , $RootDirectory );
                        $Exists = <span class="keyword">true</span>;
                  }
                  
                  <span class="keywordflow">return</span>( 
                        array( $PackageDirectory.<span class="charliteral">&#39;/&#39;</span>.$TopPackageName.<span class="stringliteral">&#39;.php&#39;</span> , $Exists , $PackageClassName , $TopPackageName )
                  );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a89b2d0058b07c104b4fd8364f6d88adc"></a><!-- doxytag: member="core.php::_get_package_directory" ref="a89b2d0058b07c104b4fd8364f6d88adc" args="($PackageName, $PackageVersion)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_package_directory </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Getting package loading paths.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- Name of the package.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- Package's version.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Package path.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00901">901</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  $RootDirectory = <a class="code" href="core_8php.html#a69adbfe80a125a9a6a5de6f9314ef1e1">_get_root_dir</a>( $PackageName , $PackageVersion , <a class="code" href="packages_2core_2include_2php_2settings_8php.html#a15833b45cb39aee8c76395ec82c74b4d">INSTALL_DIR</a> );
                  $PackageDirectory = <a class="code" href="core_8php.html#a2c2b463fdc47ddea012ed9b342384a09">_get_package_path</a>( $PackageName , $PackageVersion , $RootDirectory );
                  $TopPackageName = <a class="code" href="core_8php.html#a7aa40fa195f8a69eda623a6a519f1100">_get_top_package_name</a>( $PackageName );
                  
                  <span class="keywordflow">return</span>( $PackageDirectory );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8ab455d2da780a3ad26bbf9503032a2b"></a><!-- doxytag: member="core.php::_get_package_info_after_rewrites" ref="a8ab455d2da780a3ad26bbf9503032a2b" args="($PackageName, $PackageVersion, $PackageScriptPath=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_package_info_after_rewrites </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageScriptPath</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns information about package after all erwrites.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- name of the package.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- package's version. In case string 'last' is passed, then function returns the latest version.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageScriptPath</em>&nbsp;</td><td>- path to the package's script.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Information about package.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00560">560</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  global      <a class="code" href="rewrites_8php.html#a7d7482ccfec0a0a56bda6e8c2bf12303">$RewritesCache</a>;
                  $Key = <span class="stringliteral">&quot;$PackageName $PackageVersion $PackageScriptPath&quot;</span>;
                  
                  <span class="keywordflow">if</span>( isset( $RewritesCache[ $Key ] ) )
                  {
                        <span class="keywordflow">return</span>( $RewritesCache[ $Key ] );
                  }
                  
                  $PackageVersion = <a class="code" href="rewrites_8php.html#a55b7207a92574c5a6dff4676044f9cba">_make_full_version</a>( $PackageName , $PackageVersion );
                  
                  global      <a class="code" href="include_2settings_8php.html#a2af20544b0a6c8be1f05a3dbcbb5cf02">$ENABLE_REWRITES</a>;
                  <span class="keywordflow">if</span>( $ENABLE_REWRITES )
                  {
                        list( $PackageName , $PackageVersion ) = <a class="code" href="rewrites_8php.html#acd80fb4c15c38417c21d6e357c669cc2">_apply_rewrites</a>( 
                              $PackageName , 
                              $PackageVersion , 
                              $PackageScriptPath 
                        );
                        
                        global      <a class="code" href="rewrites_8php.html#a7a1d05b5148ed945c029a12aed542b6e">$RewritesCacheChanged</a>;
                        $RewritesCacheChanged = <span class="keyword">true</span>;
                  }
                  
                  <span class="keywordflow">return</span>( $RewritesCache[ $Key ] = array( 0 =&gt; $PackageName , 1 =&gt; $PackageVersion ) );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2c2b463fdc47ddea012ed9b342384a09"></a><!-- doxytag: member="core.php::_get_package_path" ref="a2c2b463fdc47ddea012ed9b342384a09" args="($PackageName, $PackageVersion, $ROOT_DIR=INSTALL_DIR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_package_path </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ROOT_DIR</em> = <code><a class="el" href="packages_2core_2include_2php_2settings_8php.html#a15833b45cb39aee8c76395ec82c74b4d">INSTALL_DIR</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns real path to the requested package directory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- package name after rewriting.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- Package's real version.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$ROOT_DIR</em>&nbsp;</td><td>- root directory for package search.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Real path to the requested package.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p><p>cutting package's name</p>
<p>cutting package's name</p>
<p>trying to find package with the exact given version </p>
</p>

<p>Definition at line <a class="el" href="core_8php_source.html#l00226">226</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  global      <a class="code" href="core_8php.html#afc5125b3aa21bfe78cd7e26dcd895d53">$PackagePathCacheChanged</a>;
                  global      <a class="code" href="core_8php.html#ac9d1fa3d0fa9b97c459e600c47a9bc82">$PackagePathCache</a>;
                  $Key = <span class="stringliteral">&quot;$PackageName $PackageVersion $ROOT_DIR&quot;</span>;
                  
                  <span class="keywordflow">if</span>( isset( $PackagePathCache[ $Key ] ) === <span class="keyword">false</span> )
                  {
                        $PackageName = explode( <span class="stringliteral">&#39;::&#39;</span> , $PackageName );
                        $PackageName = array_pop( $PackageName );
                        
                        $PackageVersion = explode( <span class="stringliteral">&#39;::&#39;</span> , $PackageVersion );
                        $PackageVersion = array_pop( $PackageVersion );
                        
                        $File = <a class="code" href="core__utilities_8php.html#a298c54bbfd6389b6b5733c62e43e9131">_file_get_contents</a>( $ROOT_DIR.<span class="stringliteral">&#39;/packages/core/data/package_list&#39;</span> );
                        <span class="keywordflow">if</span>( $File === <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">throw</span>( 
                                    <span class="keyword">new</span> Exception( 
                                          <span class="stringliteral">&#39;An error occured while loading file &#39;</span>.$ROOT_DIR.<span class="stringliteral">&#39;/packages/core/data/package_list&#39;</span>
                                    )
                              );
                        }
                        $File = str_replace( <span class="stringliteral">&quot;\r&quot;</span> , <span class="stringliteral">&quot;\n&quot;</span> , $File );
                        $File = str_replace( <span class="stringliteral">&quot;\n\n&quot;</span> , <span class="stringliteral">&quot;\n&quot;</span> , $File );
                        $PackagesInfo = explode( <span class="stringliteral">&quot;\n&quot;</span> , $File );
                        
                        $PackageVersion = <a class="code" href="core_8php.html#acedda15986c54e7bd38bbf0767dace1c">_get_package_real_version</a>( $PackageName , $PackageVersion , $ROOT_DIR );
                        
                        $PackageDirectory = <span class="stringliteral">&#39;&#39;</span>;
                        $PackageNameAndVersion = $PackageName.<span class="charliteral">&#39;.&#39;</span>.$PackageVersion;
                        <span class="keywordflow">foreach</span>( $PackagesInfo as $pi )
                        {
                              <span class="keywordflow">if</span>( $pi[ 0 ] === $PackageNameAndVersion[ 0 ] &amp;&amp; strpos( $pi , $PackageNameAndVersion ) === 0 )
                              {
                                    $SinglePackageInfo = explode( <span class="charliteral">&#39;#&#39;</span> , $pi );
                                    $PackagePathCacheChanged = <span class="keyword">true</span>;
                                    $PackagePathCache[ $Key ] = $ROOT_DIR.<span class="stringliteral">&#39;/packages/&#39;</span>.$SinglePackageInfo[ 1 ];
                                    
                                    <span class="keywordflow">return</span>( $PackagePathCache[ $Key ] );
                              }
                        }
                        
                        <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;Package &#39;</span>.$PackageName. <span class="stringliteral">&#39; with version &#39;</span>.$PackageVersion.<span class="stringliteral">&#39; was not found&#39;</span> ) );
                  }
                  <span class="keywordflow">else</span>
                  {
                        <span class="keywordflow">return</span>( $PackagePathCache[ $Key ] );
                  }
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1ea4fe90b349e48a58c207ebc3be5a1d"></a><!-- doxytag: member="core.php::_get_package_path_ex" ref="a1ea4fe90b349e48a58c207ebc3be5a1d" args="($PackageName, $PackageRealVersion)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_package_path_ex </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageRealVersion</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns real path to the requested package directory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- package name before rewriting.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageRealVersion</em>&nbsp;</td><td>- Package's real version.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Real path to the requested package.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Real path to the requested package after all rewrites were applied.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00625">625</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  list( $PackageName , $PackageRealVersion ) = <a class="code" href="core_8php.html#a8ab455d2da780a3ad26bbf9503032a2b">_get_package_info_after_rewrites</a>( 
                        $PackageName , $PackageRealVersion , __FILE__
                  );
                  
                  $ROOT_DIR = <a class="code" href="core_8php.html#a69adbfe80a125a9a6a5de6f9314ef1e1">_get_root_dir</a>( $PackageName , $PackageRealVersion , <a class="code" href="packages_2core_2include_2php_2settings_8php.html#a15833b45cb39aee8c76395ec82c74b4d">INSTALL_DIR</a> );
                  
                  <span class="keywordflow">return</span>( <a class="code" href="core_8php.html#a2c2b463fdc47ddea012ed9b342384a09">_get_package_path</a>( $PackageName , $PackageRealVersion , $ROOT_DIR ) );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acedda15986c54e7bd38bbf0767dace1c"></a><!-- doxytag: member="core.php::_get_package_real_version" ref="acedda15986c54e7bd38bbf0767dace1c" args="($PackageName, $PackageVersion, $ROOT_DIR=INSTALL_DIR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_package_real_version </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ROOT_DIR</em> = <code><a class="el" href="packages_2core_2include_2php_2settings_8php.html#a15833b45cb39aee8c76395ec82c74b4d">INSTALL_DIR</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns real version of the package.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- name of the package.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- package's version. In case string 'last' is passed, then function returns the latest version.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$ROOT_DIR</em>&nbsp;</td><td>- Name of the root directory. In this directory all package processing will be run.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Reference on package's object. If an error occured then function returns false.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p><p>searching package's directory</p>
<p>trying to get latest version</p>
<p>getting version of the found package ...</p>
<p>... and compare it with the previous one</p>
<p>such paclahe with rhe given version was not installed before </p>
</p>

<p>Definition at line <a class="el" href="core_8php_source.html#l00108">108</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  global      <a class="code" href="core_8php.html#a671d8e8dc32c9cee4fa0b63f398e2e34">$PackageRealVersionCache</a>;
                  
                  $Key = <span class="stringliteral">&quot;$PackageName $PackageVersion $ROOT_DIR&quot;</span>;
                  
                  <span class="keywordflow">if</span>( isset( $PackageRealVersionCache[ $Key ] ) === <span class="keyword">false</span> )
                  {
                        $TmpPackageName = $PackageName.<span class="charliteral">&#39;.&#39;</span>;
                        $File = <a class="code" href="core__utilities_8php.html#a298c54bbfd6389b6b5733c62e43e9131">_file_get_contents</a>( $ROOT_DIR.<span class="stringliteral">&#39;/packages/core/data/package_list&#39;</span> );
                        <span class="keywordflow">if</span>( $File === <span class="keyword">false</span> )
                        {
                              <span class="keywordflow">throw</span>( 
                                    <span class="keyword">new</span> Exception( 
                                          <span class="stringliteral">&#39;An error occured while loading file &#39;</span>.$ROOT_DIR.<span class="stringliteral">&#39;/packages/core/data/package_list&#39;</span> 
                                    )
                              );
                        }

                        $File = str_replace( <span class="stringliteral">&quot;\r&quot;</span> , <span class="stringliteral">&quot;\n&quot;</span> , $File );
                        $File = str_replace( <span class="stringliteral">&quot;\n\n&quot;</span> , <span class="stringliteral">&quot;\n&quot;</span> , $File );
                        $PackagesInfo = explode( <span class="stringliteral">&quot;\n&quot;</span> , $File );
                        
                        <span class="keywordflow">if</span>( $PackageVersion === <span class="stringliteral">&#39;last&#39;</span> )
                        {
                              $PackageDirectory = <span class="stringliteral">&#39;&#39;</span>;
                              
                              $SelectedVersion = array( <span class="charliteral">&#39;0&#39;</span> , <span class="charliteral">&#39;0&#39;</span> , <span class="charliteral">&#39;0&#39;</span> );
                              
                              <span class="keywordflow">foreach</span>( $PackagesInfo as $pi )
                              {
                                    <span class="keywordflow">if</span>( $pi[ 0 ] === $TmpPackageName[ 0 ] &amp;&amp; strpos( $pi , $TmpPackageName ) === 0 )
                                    {
                                          $SinglePackageInfo = explode( <span class="charliteral">&#39;#&#39;</span> , $pi );
                                          $TmpVersion = explode( 
                                                <span class="charliteral">&#39;.&#39;</span> , str_replace( $TmpPackageName , <span class="stringliteral">&#39;&#39;</span> , $SinglePackageInfo[ 0 ] )
                                          );

                                          <span class="keywordflow">if</span>( $TmpVersion[ 0 ] &gt; $SelectedVersion[ 0 ] || 
                                                ( $TmpVersion[ 0 ] == $SelectedVersion[ 0 ] &amp;&amp; 
                                                  $TmpVersion[ 1 ] &gt; $SelectedVersion[ 1 ] ) || 
                                                ( $TmpVersion[ 0 ] == $SelectedVersion[ 0 ] &amp;&amp; 
                                                  $TmpVersion[ 1 ] == $SelectedVersion[ 1 ] &amp;&amp; 
                                                  $TmpVersion[ 2 ] &gt; $SelectedVersion[ 2 ] ) )
                                          {
                                                $SelectedVersion = $TmpVersion;
                                                $PackageDirectory = $SinglePackageInfo[ 1 ];
                                                <span class="keywordflow">break</span>;
                                          }
                                    }
                              }
                              
                              $PackageVersion = implode( <span class="charliteral">&#39;.&#39;</span> , $SelectedVersion );
                              <span class="keywordflow">if</span>( $PackageDirectory === <span class="stringliteral">&#39;&#39;</span> )
                              {
                                    <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;Package &#39;</span>.$TmpPackageName.$PackageVersion.<span class="stringliteral">&#39; was not found&#39;</span> ) );
                              }
                        }
                        
                        global      <a class="code" href="core_8php.html#a0a70cf3b52b50a2472929c2cc1db9c8f">$PackageRealVersionCacheChanged</a>;
                        $PackageRealVersionCacheChanged = <span class="keyword">true</span>;
                        $PackageRealVersionCache[ $Key ] = $PackageVersion;
                  }
                  
                  <span class="keywordflow">return</span>( $PackageRealVersionCache[ $Key ] );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5fa923a8c112e0e6862de1f35efffe20"></a><!-- doxytag: member="core.php::_get_package_relative_path" ref="a5fa923a8c112e0e6862de1f35efffe20" args="($File)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_package_relative_path </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>File</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function provides information about package's installation path.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$File</em>&nbsp;</td><td>- Path to the file with package class.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Relative path from installation directory to the file $File.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00051">51</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            global      <a class="code" href="core_8php.html#a7887e054e29888f102a325e8f9095090">$PackageRelativePathCache</a>;
            <span class="keywordflow">if</span>( isset( $PackageRelativePathCache[ $File ] ) )
            {
                  <span class="keywordflow">return</span>( $PackageRelativePathCache[ $File ] );
            }
            
            $RelativePath = <span class="stringliteral">&#39;&#39;</span>;           
            $Dir = dirname( $File );
            <span class="keywordflow">do</span>
            {
                  $RelativePath = <span class="stringliteral">&#39;/packages/&#39;</span>.basename( $Dir ).$RelativePath;
                  $Dir = dirname( dirname( $Dir ) );
            }
            <span class="keywordflow">while</span>( file_exists( $Dir.<span class="stringliteral">&#39;/../../packages/core/data/package_list&#39;</span> ) );
            
            global      <a class="code" href="core_8php.html#a828665e6af1728c8bdd4239783729b3f">$PackageRelativePathCacheChanged</a>;
            $PackageRelativePathCacheChanged = <span class="keyword">true</span>;

            <span class="keywordflow">return</span>( $PackageRelativePathCache[ $File ] = <span class="charliteral">&#39;.&#39;</span>.$RelativePath );
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5723fd5d1f06ff63181f91d948316d87"></a><!-- doxytag: member="core.php::_get_package_relative_path_ex" ref="a5723fd5d1f06ff63181f91d948316d87" args="($PackageName, $PackageVersion)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_package_relative_path_ex </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function provides information about package's installation path.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- Package name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- Package version.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Relative path from installation directory to the file $File.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l01040">1040</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  <span class="keywordflow">return</span>( 
                        <a class="code" href="core_8php.html#a5fa923a8c112e0e6862de1f35efffe20">_get_package_relative_path</a>( <a class="code" href="core_8php.html#a1ea4fe90b349e48a58c207ebc3be5a1d">_get_package_path_ex</a>( $PackageName , $PackageVersion ).<span class="stringliteral">&#39;/unexisting_file&#39;</span> )
                  );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();
                  <a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __FUNCTION__ , $Args , $e );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a32870678f763de0e6350d1ef4e521f68"></a><!-- doxytag: member="core.php::_get_requested_class_name" ref="a32870678f763de0e6350d1ef4e521f68" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_requested_class_name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns real name of the requested class.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00474">474</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            global      <a class="code" href="core_8php.html#adf72824f7779e16bb577c5394c47703a">$RequestedClassName</a>;
            
            <span class="keywordflow">return</span>( $RequestedClassName );
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a69adbfe80a125a9a6a5de6f9314ef1e1"></a><!-- doxytag: member="core.php::_get_root_dir" ref="a69adbfe80a125a9a6a5de6f9314ef1e1" args="($thePackageName, $thePackageVersion, $ROOT_DIR=INSTALL_DIR)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_root_dir </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>thePackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>thePackageVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>ROOT_DIR</em> = <code><a class="el" href="packages_2core_2include_2php_2settings_8php.html#a15833b45cb39aee8c76395ec82c74b4d">INSTALL_DIR</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns real path to master-package's directory, wich contains requested packages.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$thePackageName</em>&nbsp;</td><td>- package name</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$thePackageVersion</em>&nbsp;</td><td>- Package's version.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$ROOT_DIR</em>&nbsp;</td><td>- root directory for package search.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Real path to the root directory.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00323">323</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  global <a class="code" href="core_8php.html#aba9d7a2bcd99866efae39f96c29aeca7">$RootDirCacheChanged</a> , <a class="code" href="core_8php.html#af4804951b6e8dab8d9fdac856da25e28">$RootDirCache</a>;
                  $Key = <span class="stringliteral">&quot;$thePackageName $thePackageVersion $ROOT_DIR&quot;</span>;
                  
                  <span class="keywordflow">if</span>( isset( $RootDirCache[ $Key ] ) == <span class="keyword">false</span> )
                  {
                        $PackageNames = explode( <span class="stringliteral">&#39;::&#39;</span> , $thePackageName );
                        $PackageVersions = explode( <span class="stringliteral">&#39;::&#39;</span> , $thePackageVersion );
                        $PackageName = substr_replace( $thePackageName , <span class="stringliteral">&#39;&#39;</span> , 0 , strlen( $PackageNames[ 0 ] ) + 2 );
                        $PackageVersion = substr_replace( $thePackageVersion , <span class="stringliteral">&#39;&#39;</span>, 0 , strlen( $PackageVersions[ 0 ] ) + 2 );
                        $PackagePath = <a class="code" href="core_8php.html#a2c2b463fdc47ddea012ed9b342384a09">_get_package_path</a>( 
                              $PackageNames[ 0 ] , 
                              <a class="code" href="core_8php.html#acedda15986c54e7bd38bbf0767dace1c">_get_package_real_version</a>( $PackageNames[ 0 ] , $PackageVersions[ 0 ] , $ROOT_DIR ) , $ROOT_DIR
                        );
                        
                        $RootDirCacheChanged = <span class="keyword">true</span>;
                        $RootDirCache[ $Key ] = $PackageName == <span class="stringliteral">&#39;&#39;</span> ? $ROOT_DIR : <a class="code" href="core_8php.html#a69adbfe80a125a9a6a5de6f9314ef1e1">_get_root_dir</a>( 
                              $PackageName , $PackageVersion , $PackagePath
                        );
                  }
                  
                  <span class="keywordflow">return</span>( $RootDirCache[ $Key ] );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7aa40fa195f8a69eda623a6a519f1100"></a><!-- doxytag: member="core.php::_get_top_package_name" ref="a7aa40fa195f8a69eda623a6a519f1100" args="($PackageName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_get_top_package_name </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns full package name by it's full package name.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- full package path.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>full package name by it's full package name.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00441">441</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  global      <a class="code" href="core_8php.html#a66b18d31c4ed7086ba7b5b64ee05fb10">$TopPackageNameCache</a>;
                  <span class="keywordflow">if</span>( isset( $TopPackageNameCache[ $PackageName ] ) )
                  {
                        <span class="keywordflow">return</span>( $TopPackageNameCache[ $PackageName ] );
                  }

                  $TopPackageName = explode( <span class="stringliteral">&#39;::&#39;</span> , $PackageName );
                  
                  global      <a class="code" href="core_8php.html#a7ca4cdb47b1c774aa01ce1e451872607">$TopPackageNameCacheChanged</a>;
                  $TopPackageNameCacheChanged = <span class="keyword">true</span>;
            
                  <span class="keywordflow">return</span>( $TopPackageNameCache[ $PackageName ] = array_pop( $TopPackageName ) );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a252d5c529a1a5ade527504c2652263e6"></a><!-- doxytag: member="core.php::_package_script_fast_load" ref="a252d5c529a1a5ade527504c2652263e6" args="($PackageName, $PackageVersion)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_package_script_fast_load </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Loading script.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- Name of the package.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- Package's version.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Package class name.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00845">845</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  <span class="comment">/* на этом этапе мы уже знаем где лежит пакет $PackageName.$PackageVersion */</span>
                  global            <a class="code" href="core_8php.html#a822d4b250c38b80129c3ec5583d336b7">$ObjectLabel</a>;
                  $Key = <span class="stringliteral">&quot;$PackageName $PackageVersion $ObjectLabel&quot;</span>;
            
                  global            <a class="code" href="core_8php.html#abc712f88ae74573737b0665cb5e07423">$PackagePathsCache</a>;
                  $PackageInfo = $PackagePathsCache[ $Key ];
                  
                  <span class="keywordflow">if</span>( $PackageInfo[ <span class="stringliteral">&#39;exists&#39;</span> ] )
                  {
                        require_once( $PackageInfo[ <span class="stringliteral">&#39;path&#39;</span> ] );

                        $RootDirectory = <a class="code" href="core_8php.html#a69adbfe80a125a9a6a5de6f9314ef1e1">_get_root_dir</a>( $PackageName , $PackageVersion , <a class="code" href="packages_2core_2include_2php_2settings_8php.html#a15833b45cb39aee8c76395ec82c74b4d">INSTALL_DIR</a> );
                        
                        <span class="keywordflow">return</span>( <a class="code" href="core_8php.html#a8e0fb95824c4039ab0524722ac036580">_get_full_class_name</a>( $PackageInfo[ <span class="stringliteral">&#39;top_package_name&#39;</span> ] , $PackageVersion , $RootDirectory ) );
                  }
                  <span class="keywordflow">else</span>
                  {
                        <span class="keywordflow">return</span>( <span class="stringliteral">&#39;unexisting_class&#39;</span> );
                  }
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad31a0f568e54feba3f73510802d145d9"></a><!-- doxytag: member="core.php::_set_object_label" ref="ad31a0f568e54feba3f73510802d145d9" args="($theObjectLabel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_set_object_label </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>theObjectLabel</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function sets the label of the .</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$theObjectLabel</em>&nbsp;</td><td>- Lable of the object.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00511">511</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  global            <a class="code" href="core_8php.html#a822d4b250c38b80129c3ec5583d336b7">$ObjectLabel</a>;
                  $ObjectLabel = $theObjectLabel;
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aafeefcfe16c625825f34a796c186d194"></a><!-- doxytag: member="core.php::_store_package_object" ref="aafeefcfe16c625825f34a796c186d194" args="($PackageClassName, $Key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_store_package_object </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageClassName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Getting package loading paths.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageClassName</em>&nbsp;</td><td>- Class name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Key</em>&nbsp;</td><td>- Cache key.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00939">939</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  global            <a class="code" href="core_8php.html#a1f1c4525fff3e0763d71241549231772">$PackageCache</a>;
                  <span class="keywordflow">if</span>( isset( $PackageCache[ $Key ] ) === <span class="keyword">false</span> )
                  {
                        global            <a class="code" href="core_8php.html#adf72824f7779e16bb577c5394c47703a">$RequestedClassName</a>;
                        $RequestedClassName = <span class="keyword">false</span>;
                        $PackageCache[ $Key ] = <span class="keyword">false</span>;
                        <span class="keywordflow">if</span>( class_exists( $PackageClassName ) )
                        {
                              $PackageCache[ $Key ] = <span class="keyword">new</span> $PackageClassName();
                              $RequestedClassName = $PackageClassName;
                        }
                  }
                  global            <a class="code" href="core_8php.html#abc712f88ae74573737b0665cb5e07423">$PackagePathsCache</a>;
                  <span class="keywordflow">if</span>( isset( $PackagePathsCache[ $Key ] ) )
                  {
                        $PackageInfo = $PackagePathsCache[ $Key ];
                        <span class="keywordflow">if</span>( isset( $PackageCache[ $PackageInfo[ <span class="stringliteral">&#39;path&#39;</span> ] ] ) === <span class="keyword">false</span> )
                        {
                              $PackageCache[ $PackageInfo[ <span class="stringliteral">&#39;path&#39;</span> ] ] = $PackageCache[ $Key ];
                        }
                  }
                  <span class="keywordflow">else</span>
                  {
                        <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&quot;The path for key $Key does not exist&quot;</span> ) );
                  }
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8d21ce5940f87898e5dafbc3786d891d"></a><!-- doxytag: member="core.php::_store_package_path" ref="a8d21ce5940f87898e5dafbc3786d891d" args="($PackageName, $PackageVersion)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_store_package_path </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Saving package path.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- Name of the package.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- Package's version.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00997">997</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  $PackageDirectory = <a class="code" href="core_8php.html#a89b2d0058b07c104b4fd8364f6d88adc">_get_package_directory</a>( $PackageName , $PackageVersion );
                  
                  global            <a class="code" href="core__utilities_8php.html#a283e11b2e8d02f199b79d9d6e343fa38">$LoadedPackagesPaths</a>;
                  $LoadedPackagesPaths [ <span class="stringliteral">&quot;$PackageName.$PackageVersion&quot;</span> ] = array( 
                        <span class="stringliteral">&#39;directory&#39;</span> =&gt; $PackageDirectory , <span class="stringliteral">&#39;package_name&#39;</span> =&gt; $PackageName , <span class="stringliteral">&#39;package_version&#39;</span> =&gt; $PackageVersion
                  );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae7696a1a7341a4479bf53620678d07d9"></a><!-- doxytag: member="core.php::_try_fetch_from_cache" ref="ae7696a1a7341a4479bf53620678d07d9" args="($PackageName, $PackageVersion)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_try_fetch_from_cache </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Fetching package from cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- Name of the package.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- Package's version.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageScriptPath</em>&nbsp;</td><td>- Path to the package's script.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Information about package.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00791">791</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

<p><div class="fragment"><pre class="fragment">      {
            <span class="keywordflow">try</span>
            {
                  global            <a class="code" href="core_8php.html#a822d4b250c38b80129c3ec5583d336b7">$ObjectLabel</a>;
                  $Key = <span class="stringliteral">&quot;$PackageName $PackageVersion $ObjectLabel&quot;</span>;
                  
                  global            <a class="code" href="core_8php.html#abc712f88ae74573737b0665cb5e07423">$PackagePathsCache</a>;
                  <span class="keywordflow">if</span>( isset( $PackagePathsCache[ $Key ] ) )
                  {
                        global            <a class="code" href="core_8php.html#a1f1c4525fff3e0763d71241549231772">$PackageCache</a>;
                        <span class="keywordflow">if</span>( isset( $PackageCache[ $PackagePathsCache[ $Key ][ <span class="stringliteral">&#39;path&#39;</span> ] ] ) )
                        {
                              global            <a class="code" href="core_8php.html#adf72824f7779e16bb577c5394c47703a">$RequestedClassName</a>;
                              $RequestedClassName = $PackagePathsCache[ $Key ][ <span class="stringliteral">&#39;class_name&#39;</span> ];
                              
                              <span class="keywordflow">return</span>( array( <span class="keyword">true</span> , $PackageCache[ $PackagePathsCache[ $Key ][ <span class="stringliteral">&#39;path&#39;</span> ] ] ) );
                        }
                  }
                  
                  <span class="keywordflow">return</span>( array( <span class="keyword">false</span> , <span class="keyword">false</span> ) );
            }
            <span class="keywordflow">catch</span>( Exception $e )
            {
                  $Args = func_get_args();<span class="keywordflow">throw</span>( <a class="code" href="core__utilities_8php.html#aac1d0a370c343b1be4a64aaca411126e">_get_exception_object</a>( __FUNCTION__ , $Args , $e ) );
            }
      }
</pre></div></p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a2ab80ae975784eebef8c2a2402e6c96c"></a><!-- doxytag: member="core.php::$FullClassNameCache" ref="a2ab80ae975784eebef8c2a2402e6c96c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$FullClassNameCache = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00356">356</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5c03e62bc789d7f6af735f8bce193ff9"></a><!-- doxytag: member="core.php::$FullClassNameCacheChanged" ref="a5c03e62bc789d7f6af735f8bce193ff9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$FullClassNameCacheChanged = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00355">355</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a822d4b250c38b80129c3ec5583d336b7"></a><!-- doxytag: member="core.php::$ObjectLabel" ref="a822d4b250c38b80129c3ec5583d336b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$ObjectLabel = 'default'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Label of the cached object.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="core_8php_source.html#l00491">491</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1f1c4525fff3e0763d71241549231772"></a><!-- doxytag: member="core.php::$PackageCache" ref="a1f1c4525fff3e0763d71241549231772" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackageCache = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00022">22</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac513d879771b9011c9d7aeab48cb974a"></a><!-- doxytag: member="core.php::$PackageInfoAfterRewritesCache" ref="ac513d879771b9011c9d7aeab48cb974a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackageInfoAfterRewritesCache = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00527">527</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a157612c61e3c4fdbfa61d8438c1fea9b"></a><!-- doxytag: member="core.php::$PackageInfoAfterRewritesCacheChanged" ref="a157612c61e3c4fdbfa61d8438c1fea9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackageInfoAfterRewritesCacheChanged = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00526">526</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac9d1fa3d0fa9b97c459e600c47a9bc82"></a><!-- doxytag: member="core.php::$PackagePathCache" ref="ac9d1fa3d0fa9b97c459e600c47a9bc82" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackagePathCache = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00194">194</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="afc5125b3aa21bfe78cd7e26dcd895d53"></a><!-- doxytag: member="core.php::$PackagePathCacheChanged" ref="afc5125b3aa21bfe78cd7e26dcd895d53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackagePathCacheChanged = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00193">193</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="abc712f88ae74573737b0665cb5e07423"></a><!-- doxytag: member="core.php::$PackagePathsCache" ref="abc712f88ae74573737b0665cb5e07423" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackagePathsCache = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00644">644</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7e967285a7877533391de11b758758db"></a><!-- doxytag: member="core.php::$PackagePathsCacheChanged" ref="a7e967285a7877533391de11b758758db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackagePathsCacheChanged = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00643">643</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a671d8e8dc32c9cee4fa0b63f398e2e34"></a><!-- doxytag: member="core.php::$PackageRealVersionCache" ref="a671d8e8dc32c9cee4fa0b63f398e2e34" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackageRealVersionCache = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00075">75</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0a70cf3b52b50a2472929c2cc1db9c8f"></a><!-- doxytag: member="core.php::$PackageRealVersionCacheChanged" ref="a0a70cf3b52b50a2472929c2cc1db9c8f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackageRealVersionCacheChanged = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00074">74</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7887e054e29888f102a325e8f9095090"></a><!-- doxytag: member="core.php::$PackageRelativePathCache" ref="a7887e054e29888f102a325e8f9095090" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackageRelativePathCache = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00027">27</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a828665e6af1728c8bdd4239783729b3f"></a><!-- doxytag: member="core.php::$PackageRelativePathCacheChanged" ref="a828665e6af1728c8bdd4239783729b3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$PackageRelativePathCacheChanged = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00026">26</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="adf72824f7779e16bb577c5394c47703a"></a><!-- doxytag: member="core.php::$RequestedClassName" ref="adf72824f7779e16bb577c5394c47703a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$RequestedClassName = ''</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00024">24</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="af4804951b6e8dab8d9fdac856da25e28"></a><!-- doxytag: member="core.php::$RootDirCache" ref="af4804951b6e8dab8d9fdac856da25e28" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$RootDirCache = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00291">291</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="aba9d7a2bcd99866efae39f96c29aeca7"></a><!-- doxytag: member="core.php::$RootDirCacheChanged" ref="aba9d7a2bcd99866efae39f96c29aeca7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$RootDirCacheChanged = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00290">290</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a66b18d31c4ed7086ba7b5b64ee05fb10"></a><!-- doxytag: member="core.php::$TopPackageNameCache" ref="a66b18d31c4ed7086ba7b5b64ee05fb10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$TopPackageNameCache = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00417">417</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7ca4cdb47b1c774aa01ce1e451872607"></a><!-- doxytag: member="core.php::$TopPackageNameCacheChanged" ref="a7ca4cdb47b1c774aa01ce1e451872607" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$TopPackageNameCacheChanged = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="core_8php_source.html#l00416">416</a> of file <a class="el" href="core_8php_source.html">core.php</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 3 2011 14:49:58 for ultimix by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
