<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ultimix: G:/projects/webdev/wwwroot/ultimix/packages/file_input/packages/file_input_controller/include/php/upload.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>G:/projects/webdev/wwwroot/ultimix/packages/file_input/packages/file_input_controller/include/php/upload.php File Reference</h1>  </div>
</div>
<div class="contents">

<p><a href="upload_8php_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">foreach($extension_whitelist <br class="typebreak"/>
as $extension) if(!$is_valid_extension) <br class="typebreak"/>
if(!@move_uploaded_file($_FILES[$upload_name][&quot;tmp_name&quot;], <br class="typebreak"/>
$save_path.$file_name))&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a6fddc5dab24f258872e6982f47a1f458">HandleError</a> ($message)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#ae96afdfcb97405a4bda9dfc74196d33f">$POST_MAX_SIZE</a> = ini_get('post_max_size')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a1e32431b9d521850ce2aa78bc3af0040">$unit</a> = strtoupper(substr($POST_MAX_SIZE, -1))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a53a5233bf0d290406930f901bda9a9ed">$multiplier</a> = ($unit == 'M' ? 1048576 : ($unit == 'K' ? 1024 : ($unit == 'G' ? 1073741824 : 1)))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">if((int)@$_SERVER['CONTENT_LENGTH'] &gt;<br class="typebreak"/>
 $multiplier *(int)$POST_MAX_SIZE <br class="typebreak"/>
&amp;&amp;$POST_MAX_SIZE) global&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a0ae0505b9844c778b6cb02cfb7d900dc">$save_path</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#aa13c88ed7d5d0bdb4aec6672633de3df">$upload_name</a> = &quot;Filedata&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a68eb9d956fc2cc85cd33a36c3ca7037a">$max_file_size_in_bytes</a> = 2147483647</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">global&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#afd52445124c4f95596dd57a58db92559">$extension_whitelist</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a10de8d797b5805de152d987e526f84b9">$valid_chars_regex</a> = '.A-Z0-9_ !@#$%^&amp;()+={}\[\]\',~`-'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a670aba7c23b3720f1891c0dfabfefc5d">$MAX_FILENAME_LENGTH</a> = 260</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">global&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a59bf132c77b5bee5adff2098cc2a6fbc">$file_name</a> = &quot;&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a9476eda25f1e206bae360c2068ae2d68">$file_extension</a> = &quot;&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#afa553a406fac00cf8e758750d37686a7">$uploadErrors</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">if(!isset($_FILES[$upload_name])) <br class="typebreak"/>
else if(isset($_FILES[$upload_name][&quot;error&quot;])&amp;&amp;$_FILES[$upload_name][&quot;error&quot;]!=0) <br class="typebreak"/>
else if(!isset($_FILES[$upload_name][&quot;tmp_name&quot;])||!@is_uploaded_file($_FILES[$upload_name][&quot;tmp_name&quot;])) <br class="typebreak"/>
else if(!isset($_FILES[$upload_name]['name']))&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#acd6fe7cca3f1c66196142f2dc4d5effb">$file_size</a> = @filesize($_FILES[$upload_name][&quot;tmp_name&quot;])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">global&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#ac2710ed6aebd5c7798f625b731148131">$original_file_name</a> = $file_name</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">if(strlen($file_name)==0||strlen($file_name) &gt;<br class="typebreak"/>
 $MAX_FILENAME_LENGTH)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a9e3f99453c1b97b789abd83188bf2703">$path_info</a> = pathinfo($_FILES[$upload_name]['name'])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#abc8216e4ebf345ceb9e7ffaa396a0281">$is_valid_extension</a> = false</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6fddc5dab24f258872e6982f47a1f458"></a><!-- doxytag: member="upload.php::HandleError" ref="a6fddc5dab24f258872e6982f47a1f458" args="($message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foreach ($extension_whitelist as $extension) if (!$is_valid_extension) if (!@move_uploaded_file($_FILES[$upload_name][&quot;tmp_name&quot;], $save_path.$file_name)) HandleError </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>message</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00193">193</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

<p><div class="fragment"><pre class="fragment">                                     {
            echo $message;
      }
</pre></div></p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="afd52445124c4f95596dd57a58db92559"></a><!-- doxytag: member="upload.php::$extension_whitelist" ref="afd52445124c4f95596dd57a58db92559" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">global $extension_whitelist</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00073">73</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9476eda25f1e206bae360c2068ae2d68"></a><!-- doxytag: member="upload.php::$file_extension" ref="a9476eda25f1e206bae360c2068ae2d68" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$file_extension = &quot;&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00081">81</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a59bf132c77b5bee5adff2098cc2a6fbc"></a><!-- doxytag: member="upload.php::$file_name" ref="a59bf132c77b5bee5adff2098cc2a6fbc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$file_name = &quot;&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00079">79</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="acd6fe7cca3f1c66196142f2dc4d5effb"></a><!-- doxytag: member="upload.php::$file_size" ref="acd6fe7cca3f1c66196142f2dc4d5effb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if (!isset($_FILES[$upload_name])) else if (isset($_FILES[$upload_name][&quot;error&quot;])&amp;&amp;$_FILES[$upload_name][&quot;error&quot;]!=0) else if (!isset($_FILES[$upload_name][&quot;tmp_name&quot;])||!@is_uploaded_file($_FILES[$upload_name][&quot;tmp_name&quot;])) else if (!isset($_FILES[$upload_name]['name'])) $file_size = @filesize($_FILES[$upload_name][&quot;tmp_name&quot;])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00107">107</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="abc8216e4ebf345ceb9e7ffaa396a0281"></a><!-- doxytag: member="upload.php::$is_valid_extension" ref="abc8216e4ebf345ceb9e7ffaa396a0281" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$is_valid_extension = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00147">147</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a68eb9d956fc2cc85cd33a36c3ca7037a"></a><!-- doxytag: member="upload.php::$max_file_size_in_bytes" ref="a68eb9d956fc2cc85cd33a36c3ca7037a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$max_file_size_in_bytes = 2147483647</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00071">71</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a670aba7c23b3720f1891c0dfabfefc5d"></a><!-- doxytag: member="upload.php::$MAX_FILENAME_LENGTH" ref="a670aba7c23b3720f1891c0dfabfefc5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$MAX_FILENAME_LENGTH = 260</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00078">78</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a53a5233bf0d290406930f901bda9a9ed"></a><!-- doxytag: member="upload.php::$multiplier" ref="a53a5233bf0d290406930f901bda9a9ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$multiplier = ($unit == 'M' ? 1048576 : ($unit == 'K' ? 1024 : ($unit == 'G' ? 1073741824 : 1)))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00059">59</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac2710ed6aebd5c7798f625b731148131"></a><!-- doxytag: member="upload.php::$original_file_name" ref="ac2710ed6aebd5c7798f625b731148131" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$original_file_name = $file_name</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00125">125</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9e3f99453c1b97b789abd83188bf2703"></a><!-- doxytag: member="upload.php::$path_info" ref="a9e3f99453c1b97b789abd83188bf2703" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if (strlen($file_name)==0||strlen($file_name) &gt; $MAX_FILENAME_LENGTH) $path_info = pathinfo($_FILES[$upload_name]['name'])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00145">145</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae96afdfcb97405a4bda9dfc74196d33f"></a><!-- doxytag: member="upload.php::$POST_MAX_SIZE" ref="ae96afdfcb97405a4bda9dfc74196d33f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$POST_MAX_SIZE = ini_get('post_max_size')</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00057">57</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0ae0505b9844c778b6cb02cfb7d900dc"></a><!-- doxytag: member="upload.php::$save_path" ref="a0ae0505b9844c778b6cb02cfb7d900dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if ((int)@$_SERVER['CONTENT_LENGTH'] &gt; $multiplier *(int)$POST_MAX_SIZE &amp;&amp;$POST_MAX_SIZE) global $save_path</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00061">61</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1e32431b9d521850ce2aa78bc3af0040"></a><!-- doxytag: member="upload.php::$unit" ref="a1e32431b9d521850ce2aa78bc3af0040" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$unit = strtoupper(substr($POST_MAX_SIZE, -1))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00058">58</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa13c88ed7d5d0bdb4aec6672633de3df"></a><!-- doxytag: member="upload.php::$upload_name" ref="aa13c88ed7d5d0bdb4aec6672633de3df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$upload_name = &quot;Filedata&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00070">70</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="afa553a406fac00cf8e758750d37686a7"></a><!-- doxytag: member="upload.php::$uploadErrors" ref="afa553a406fac00cf8e758750d37686a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$uploadErrors</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> array(
        0=&gt;<span class="stringliteral">&quot;There is no error, the file uploaded with success&quot;</span>,
        1=&gt;<span class="stringliteral">&quot;The uploaded file exceeds the upload_max_filesize directive in php.ini&quot;</span>,
        2=&gt;<span class="stringliteral">&quot;The uploaded file exceeds the MAX_FILE_SIZE directive that was specified in the HTML form&quot;</span>,
        3=&gt;<span class="stringliteral">&quot;The uploaded file was only partially uploaded&quot;</span>,
        4=&gt;<span class="stringliteral">&quot;No file was uploaded&quot;</span>,
        6=&gt;<span class="stringliteral">&quot;Missing a temporary folder&quot;</span>
      )
</pre></div>
<p>Definition at line <a class="el" href="upload_8php_source.html#l00082">82</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a10de8d797b5805de152d987e526f84b9"></a><!-- doxytag: member="upload.php::$valid_chars_regex" ref="a10de8d797b5805de152d987e526f84b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$valid_chars_regex = '.A-Z0-9_ !@#$%^&amp;()+={}\[\]\',~`-'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00075">75</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 3 2011 14:50:00 for ultimix by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
