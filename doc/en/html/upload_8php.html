<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ultimix: packages/file_input/packages/file_input_controller/include/php/upload.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ultimix
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('upload_8php.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">upload.php File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="upload_8php_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6fddc5dab24f258872e6982f47a1f458"><td class="memItemLeft" align="right" valign="top">foreach($extension_whitelist <br class="typebreak"/>
as $extension) <a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a>(!$is_valid_extension) <br class="typebreak"/>
<a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a>(!@move_uploaded_file($_FILES[$upload_name][&quot;tmp_name&quot;], <br class="typebreak"/>
$save_path.$file_name))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a6fddc5dab24f258872e6982f47a1f458">HandleError</a> ($message)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae96afdfcb97405a4bda9dfc74196d33f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#ae96afdfcb97405a4bda9dfc74196d33f">$POST_MAX_SIZE</a> = ini_get('post_max_size')</td></tr>
<tr class="memitem:a1e32431b9d521850ce2aa78bc3af0040"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a1e32431b9d521850ce2aa78bc3af0040">$unit</a> = strtoupper(substr($POST_MAX_SIZE, -1))</td></tr>
<tr class="memitem:a53a5233bf0d290406930f901bda9a9ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a53a5233bf0d290406930f901bda9a9ed">$multiplier</a> = ($unit == 'M' ? 1048576 : ($unit == 'K' ? 1024 : ($unit == 'G' ? 1073741824 : 1)))</td></tr>
<tr class="memitem:a0ae0505b9844c778b6cb02cfb7d900dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a>((int)@$_SERVER['CONTENT_LENGTH'] &gt;<br class="typebreak"/>
 $multiplier *(int)$POST_MAX_SIZE <br class="typebreak"/>
&amp;&amp;$POST_MAX_SIZE) global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a0ae0505b9844c778b6cb02cfb7d900dc">$save_path</a></td></tr>
<tr class="memitem:aa13c88ed7d5d0bdb4aec6672633de3df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#aa13c88ed7d5d0bdb4aec6672633de3df">$upload_name</a> = &quot;Filedata&quot;</td></tr>
<tr class="memitem:a68eb9d956fc2cc85cd33a36c3ca7037a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a68eb9d956fc2cc85cd33a36c3ca7037a">$max_file_size_in_bytes</a> = 2147483647</td></tr>
<tr class="memitem:afd52445124c4f95596dd57a58db92559"><td class="memItemLeft" align="right" valign="top">global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#afd52445124c4f95596dd57a58db92559">$extension_whitelist</a></td></tr>
<tr class="memitem:a10de8d797b5805de152d987e526f84b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a10de8d797b5805de152d987e526f84b9">$valid_chars_regex</a> = '.A-Z0-9_ !@#$%^&amp;()+={}\[\]\',~`-'</td></tr>
<tr class="memitem:a670aba7c23b3720f1891c0dfabfefc5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a670aba7c23b3720f1891c0dfabfefc5d">$MAX_FILENAME_LENGTH</a> = 260</td></tr>
<tr class="memitem:a59bf132c77b5bee5adff2098cc2a6fbc"><td class="memItemLeft" align="right" valign="top">global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a59bf132c77b5bee5adff2098cc2a6fbc">$file_name</a> = &quot;&quot;</td></tr>
<tr class="memitem:a9476eda25f1e206bae360c2068ae2d68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a9476eda25f1e206bae360c2068ae2d68">$file_extension</a> = &quot;&quot;</td></tr>
<tr class="memitem:afa553a406fac00cf8e758750d37686a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#afa553a406fac00cf8e758750d37686a7">$uploadErrors</a></td></tr>
<tr class="memitem:acd6fe7cca3f1c66196142f2dc4d5effb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a>(!isset($_FILES[$upload_name])) <br class="typebreak"/>
else <a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a>(isset($_FILES[$upload_name][&quot;error&quot;])&amp;&amp;$_FILES[$upload_name][&quot;error&quot;]!=0) <br class="typebreak"/>
else <a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a>(!isset($_FILES[$upload_name][&quot;tmp_name&quot;])||!@is_uploaded_file($_FILES[$upload_name][&quot;tmp_name&quot;])) <br class="typebreak"/>
else <a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a>(!isset($_FILES[$upload_name]['name']))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#acd6fe7cca3f1c66196142f2dc4d5effb">$file_size</a> = @filesize($_FILES[$upload_name][&quot;tmp_name&quot;])</td></tr>
<tr class="memitem:ac2710ed6aebd5c7798f625b731148131"><td class="memItemLeft" align="right" valign="top">global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#ac2710ed6aebd5c7798f625b731148131">$original_file_name</a> = $file_name</td></tr>
<tr class="memitem:a9e3f99453c1b97b789abd83188bf2703"><td class="memItemLeft" align="right" valign="top"><a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a>(strlen($file_name)==0||strlen($file_name) &gt;<br class="typebreak"/>
 $MAX_FILENAME_LENGTH)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#a9e3f99453c1b97b789abd83188bf2703">$path_info</a> = pathinfo($_FILES[$upload_name]['name'])</td></tr>
<tr class="memitem:abc8216e4ebf345ceb9e7ffaa396a0281"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upload_8php.html#abc8216e4ebf345ceb9e7ffaa396a0281">$is_valid_extension</a> = false</td></tr>
</table>
<h2>Function Documentation</h2>
<a class="anchor" id="a6fddc5dab24f258872e6982f47a1f458"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">foreach ($extension_whitelist as $extension) <a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a> (!$is_valid_extension) <a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a> (!@move_uploaded_file($_FILES[$upload_name][&quot;tmp_name&quot;], $save_path.$file_name)) HandleError </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00196">196</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>
<div class="fragment"><div class="line">                                     {</div>
<div class="line">            echo $message;</div>
<div class="line">      }</div>
</div><!-- fragment -->
</div>
</div>
<h2>Variable Documentation</h2>
<a class="anchor" id="afd52445124c4f95596dd57a58db92559"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">global $extension_whitelist</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00077">77</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9476eda25f1e206bae360c2068ae2d68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$file_extension = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00085">85</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a59bf132c77b5bee5adff2098cc2a6fbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$file_name = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00083">83</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="acd6fe7cca3f1c66196142f2dc4d5effb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a> (!isset($_FILES[$upload_name])) else <a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a> (isset($_FILES[$upload_name][&quot;error&quot;])&amp;&amp;$_FILES[$upload_name][&quot;error&quot;]!=0) else <a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a> (!isset($_FILES[$upload_name][&quot;tmp_name&quot;])||!@is_uploaded_file($_FILES[$upload_name][&quot;tmp_name&quot;])) else <a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a> (!isset($_FILES[$upload_name]['name'])) $file_size = @filesize($_FILES[$upload_name][&quot;tmp_name&quot;])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00111">111</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="abc8216e4ebf345ceb9e7ffaa396a0281"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$is_valid_extension = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00151">151</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a68eb9d956fc2cc85cd33a36c3ca7037a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$max_file_size_in_bytes = 2147483647</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00075">75</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a670aba7c23b3720f1891c0dfabfefc5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$MAX_FILENAME_LENGTH = 260</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00082">82</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a53a5233bf0d290406930f901bda9a9ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$multiplier = ($unit == 'M' ? 1048576 : ($unit == 'K' ? 1024 : ($unit == 'G' ? 1073741824 : 1)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00063">63</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac2710ed6aebd5c7798f625b731148131"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$original_file_name = $file_name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00129">129</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9e3f99453c1b97b789abd83188bf2703"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a> (strlen($file_name)==0||strlen($file_name) &gt; $MAX_FILENAME_LENGTH) $path_info = pathinfo($_FILES[$upload_name]['name'])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00149">149</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae96afdfcb97405a4bda9dfc74196d33f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$POST_MAX_SIZE = ini_get('post_max_size')</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00061">61</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a0ae0505b9844c778b6cb02cfb7d900dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="user__view_8ru_8js.html#ae12695f566d31c1b2c1a051e9f73c40f">if</a> ((int)@$_SERVER['CONTENT_LENGTH'] &gt; $multiplier *(int)$POST_MAX_SIZE &amp;&amp;$POST_MAX_SIZE) global $save_path</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00065">65</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1e32431b9d521850ce2aa78bc3af0040"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$unit = strtoupper(substr($POST_MAX_SIZE, -1))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00062">62</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="aa13c88ed7d5d0bdb4aec6672633de3df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$upload_name = &quot;Filedata&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00074">74</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="afa553a406fac00cf8e758750d37686a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$uploadErrors</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"> array(</div>
<div class="line">        0=&gt;<span class="stringliteral">&quot;There is no error, the file uploaded with success&quot;</span>,</div>
<div class="line">        1=&gt;<span class="stringliteral">&quot;The uploaded file exceeds the upload_max_filesize directive in php.ini&quot;</span>,</div>
<div class="line">        2=&gt;<span class="stringliteral">&quot;The uploaded file exceeds the MAX_FILE_SIZE directive that was specified in the HTML form&quot;</span>,</div>
<div class="line">        3=&gt;<span class="stringliteral">&quot;The uploaded file was only partially uploaded&quot;</span>,</div>
<div class="line">        4=&gt;<span class="stringliteral">&quot;No file was uploaded&quot;</span>,</div>
<div class="line">        6=&gt;<span class="stringliteral">&quot;Missing a temporary folder&quot;</span></div>
<div class="line">      )</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="upload_8php_source.html#l00086">86</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
<a class="anchor" id="a10de8d797b5805de152d987e526f84b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$valid_chars_regex = '.A-Z0-9_ !@#$%^&amp;()+={}\[\]\',~`-'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="upload_8php_source.html#l00079">79</a> of file <a class="el" href="upload_8php_source.html">upload.php</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_93501a11e921083efbd154e0cdff5f10.html">packages</a></li><li class="navelem"><a class="el" href="dir_28364750a72fad1195852335c7d5ff35.html">file_input</a></li><li class="navelem"><a class="el" href="dir_60c19322799d1756e1c4f3d5f73e1234.html">packages</a></li><li class="navelem"><a class="el" href="dir_28e35c4243e275e0937c207119612d95.html">file_input_controller</a></li><li class="navelem"><a class="el" href="dir_813876ed17d4efa675b5cde9cb8763e4.html">include</a></li><li class="navelem"><a class="el" href="dir_3a92a5a613b47e646ddbbfd1e44be906.html">php</a></li><li class="navelem"><a class="el" href="upload_8php.html">upload.php</a></li>
    <li class="footer">Generated on Fri Aug 17 2012 18:31:22 for ultimix by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
