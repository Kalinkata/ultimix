<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ultimix: page_db_access_1_0_0 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>page_db_access_1_0_0 Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="page_db_access_1_0_0" -->
<p><a href="classpage__db__access__1__0__0-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__db__access__1__0__0.html#a53b3ad2447b87fa67af6d3a67e1b4ef6">set_add_limitations</a> ($theAddLimitation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__db__access__1__0__0.html#a930c3c6cb14caa8d03446071d2885509">get_package_appliance</a> ($PageName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__db__access__1__0__0.html#afe5eb458eff38ad7b2d67c9d14d9104c">get_page_list</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__db__access__1__0__0.html#a7afcd2100d401a403e1166757d858741">get_page_description</a> ($PageName)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__db__access__1__0__0.html#a13352aef27c96654b4751d67b2cacfe9">$AddLimitations</a> = '1 = 1'</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class provides access for data about pages.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__db__access_8php_source.html#l00026">26</a> of file <a class="el" href="page__db__access_8php_source.html">page_db_access.php</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a930c3c6cb14caa8d03446071d2885509"></a><!-- doxytag: member="page_db_access_1_0_0::get_package_appliance" ref="a930c3c6cb14caa8d03446071d2885509" args="($PageName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_package_appliance </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Выборка списка пакетов, применённых к странице $PageName.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- имя страницы, для которой выбирается информация о примененных пакетах.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Информация о примененных пакетах в формате array( array( 'package' , 'package_version' , 'options' , 'placeholder' ) )</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>- An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Додонов А.А. Function returns all applied packages.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- page name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Information about all applied packages wich is returned as a list of array( array( 'package' , 'package_version' , 'options' , 'placeholder' ) )</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>- An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__db__access_8php_source.html#l00102">102</a> of file <a class="el" href="page__db__access_8php_source.html">page_db_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Security = &amp; <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;security&#39;</span> );
                        $PageName = $Security-&gt;get( $PageName , <span class="keywordtype">string</span> );
                        
                        $PageName = htmlspecialchars( $PageName , ENT_QUOTES );
                        
                        <span class="keywordflow">if</span>( file_exists( dirname( __FILE__ ).<span class="stringliteral">&#39;/../page/data/pa_&#39;</span>.$PageName ) )
                        {
                              $RowPage = $this-&gt;CachedMultyFS-&gt;file_get_contents( 
                                    dirname( __FILE__ ).<span class="stringliteral">&#39;/../page/data/pa_&#39;</span>.$PageName
                              );
                              
                              $Appliance = array();
                              
                              <span class="keywordflow">foreach</span>( $RowPage as $rp )
                              {
                                    $Appliance [] = array( 
                                          <span class="stringliteral">&#39;package&#39;</span> =&gt; $rp[ 0 ] , <span class="stringliteral">&#39;package_version&#39;</span> =&gt; $rp[ 1 ] , 
                                          <span class="stringliteral">&#39;options&#39;</span> =&gt; $rp[ 2 ] , <span class="stringliteral">&#39;placeholder&#39;</span> =&gt; $rp[ 3 ]
                                    );
                              }
                              
                              <span class="keywordflow">return</span>( $Appliance );
                        }
                        <span class="keywordflow">else</span>
                        {
                              <span class="keywordflow">return</span>( array() );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7afcd2100d401a403e1166757d858741"></a><!-- doxytag: member="page_db_access_1_0_0::get_page_description" ref="a7afcd2100d401a403e1166757d858741" args="($PageName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_page_description </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns description of the requested page.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- Name of the requested page.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Description of the requesting page in the folowing representation : array( 0 =&gt; array( id , title , name , template , template_version ) )</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>All data about pages is stored in the stand alone files (each record in each own file), name of the page is the same as file name. We know that it works slowly but this CMS is used to apply for sites with small amount of pages so it would not work VERY slow)).</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>- An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__db__access_8php_source.html#l00204">204</a> of file <a class="el" href="page__db__access_8php_source.html">page_db_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afe5eb458eff38ad7b2d67c9d14d9104c"></a><!-- doxytag: member="page_db_access_1_0_0::get_page_list" ref="afe5eb458eff38ad7b2d67c9d14d9104c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_page_list </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns list of paths to the available pages.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>List of available pages.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>- An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__db__access_8php_source.html#l00158">158</a> of file <a class="el" href="page__db__access_8php_source.html">page_db_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Utilities = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;utilities&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        <span class="keywordflow">return</span>( $Utilities-&gt;get_files_from_directory( dirname( __FILE__ ).<span class="stringliteral">&#39;/data&#39;</span> , <span class="stringliteral">&#39;/pa_.+/&#39;</span> ) );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53b3ad2447b87fa67af6d3a67e1b4ef6"></a><!-- doxytag: member="page_db_access_1_0_0::set_add_limitations" ref="a53b3ad2447b87fa67af6d3a67e1b4ef6" args="($theAddLimitation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">set_add_limitations </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>theAddLimitation</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function sets additional limitations.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$theAddLimitation</em>&nbsp;</td><td>- Additional limitations.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>- An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__db__access_8php_source.html#l00058">58</a> of file <a class="el" href="page__db__access_8php_source.html">page_db_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( $this-&gt;AddLimitations === <span class="stringliteral">&#39;1 = 1&#39;</span> )
                        {
                              $this-&gt;AddLimitations = $theAddLimitation;
                        }
                        <span class="keywordflow">else</span>
                        {
                              <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;&quot;AddLimitations&quot; was already set&#39;</span> ) );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a13352aef27c96654b4751d67b2cacfe9"></a><!-- doxytag: member="page_db_access_1_0_0::$AddLimitations" ref="a13352aef27c96654b4751d67b2cacfe9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$AddLimitations = '1 = 1'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="page__db__access_8php_source.html#l00038">38</a> of file <a class="el" href="page__db__access_8php_source.html">page_db_access.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>G:/projects/webdev/wwwroot/ultimix/packages/page/packages/page_db_access/<a class="el" href="page__db__access_8php_source.html">page_db_access.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 3 2011 14:50:26 for ultimix by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
