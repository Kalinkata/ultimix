<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ultimix: page_access_1_0_0 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<h1>page_access_1_0_0 Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="page_access_1_0_0" -->
<p><a href="classpage__access__1__0__0-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#a095c5d389db211932136b53f25f39685">__construct</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#a53b3ad2447b87fa67af6d3a67e1b4ef6">set_add_limitations</a> ($theAddLimitation)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#a84fa4f5a1652feebd2b8ce497f780df6">get_raw_page</a> ($PageName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#a309927382b815726b5e56459e8cff1ee">parse_raw_page</a> ($RawPage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#a837323a6b09f624dcf8fd4530a2071ae">get_package_appliance</a> ($PageName, $Parse=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#af6f77c404d7ad81cd297791249a920cc">set_package_appliance</a> ($PageName, $Packages)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#aab08cbde456d1bc21e97c47eac85fe6d">get_list_of_pages</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#a4cc47b3edb0e43a25a5237d0f5b26360">select</a> ($Start, $Limit, $Field=false, $Order=false, $Condition=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#a7afcd2100d401a403e1166757d858741">get_page_description</a> ($PageName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#aafb017c2ffb4139c57613471a685ed45">page_exists</a> ($PageName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#ac1cabbba085c14178e840bf25a574163">create</a> ($Record)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#af76190723984429f8bdee6e3e772132f">update</a> ($PageName, $Title, $Template, $TemplateVersion, $PredefinedPackages)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#a52600716168ecf7fc762c3e4d1edd988">delete</a> ($PageNames)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#ac7f85f7bdc71e6c396225fe07fa502ac">add_package</a> ($PageName, $PackageName, $PackageVersion, $Params, $PlaceHolder)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#af2c08017e9bf058c2f8aedbda1bf73f6">select_list</a> ($PageNames)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#aaae5f70ebc2b60f22e8159944cd2d518">$Security</a> = false</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpage__access__1__0__0.html#a13352aef27c96654b4751d67b2cacfe9">$AddLimitations</a> = '1 = 1'</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class provides access for data about pages.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00026">26</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a095c5d389db211932136b53f25f39685"></a><!-- doxytag: member="page_access_1_0_0::__construct" ref="a095c5d389db211932136b53f25f39685" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00050">50</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $this-&gt;Security = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;security&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac7f85f7bdc71e6c396225fe07fa502ac"></a><!-- doxytag: member="page_access_1_0_0::add_package" ref="ac7f85f7bdc71e6c396225fe07fa502ac" args="($PageName, $PackageName, $PackageVersion, $Params, $PlaceHolder)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">add_package </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PackageVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PlaceHolder</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function adds package to page.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- Name of the page.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageName</em>&nbsp;</td><td>- Package's name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PackageVersion</em>&nbsp;</td><td>- Package version.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Params</em>&nbsp;</td><td>- Parameters.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PlaceHolder</em>&nbsp;</td><td>- Placeholder.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00750">750</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $PageName = $this-&gt;Security-&gt;get( $PageName , <span class="stringliteral">&#39;command&#39;</span> );
                        
                        $CachedFS = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;cached_multy_fs&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        $CachedFS-&gt;file_put_contents( 
                              dirname( __FILE__ ).<span class="stringliteral">&#39;/data/pa_&#39;</span>.$PageName , 
                              $PackageName.<span class="charliteral">&#39;#&#39;</span>.$PackageVersion.<span class="charliteral">&#39;#&#39;</span>.$Params.<span class="charliteral">&#39;#&#39;</span>.$PlaceHolder.<span class="stringliteral">&quot;\r\n&quot;</span> , FILE_APPEND
                        );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac1cabbba085c14178e840bf25a574163"></a><!-- doxytag: member="page_access_1_0_0::create" ref="ac1cabbba085c14178e840bf25a574163" args="($Record)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Record</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function creates page.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- Name of the page.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Title</em>&nbsp;</td><td>- Page's title.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Template</em>&nbsp;</td><td>- Template name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$TemplateVersion</em>&nbsp;</td><td>- Template version.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Settings</em>&nbsp;</td><td>- Page's parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true uf the page was created.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00579">579</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $PageName = $this-&gt;Security-&gt;get( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Record , <span class="stringliteral">&#39;page_alias&#39;</span> ) , <span class="stringliteral">&#39;command&#39;</span> );
                        
                        <span class="keywordflow">if</span>( $this-&gt;<a class="code" href="classpage__access__1__0__0.html#aafb017c2ffb4139c57613471a685ed45">page_exists</a>( $PageName ) )
                        {
                              <span class="keywordflow">return</span>( $PageName );
                        }

                        $Title = $this-&gt;Security-&gt;get( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Record , <span class="stringliteral">&#39;page_title&#39;</span> ) , <span class="stringliteral">&#39;string&#39;</span> );
                        $Template = $this-&gt;Security-&gt;get( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Record , <span class="stringliteral">&#39;page_template&#39;</span> ) , <span class="stringliteral">&#39;string&#39;</span> );
                        $TemplateVersion = <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Record , <span class="stringliteral">&#39;page_template_version&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> );
                        $TemplateVersion = $this-&gt;Security-&gt;get( $TemplateVersion , <span class="stringliteral">&#39;string&#39;</span> );
                        $Settings = $this-&gt;Security-&gt;get( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Record , <span class="stringliteral">&#39;page_predefined_packages&#39;</span>,  <span class="stringliteral">&#39;&#39;</span> ) , <span class="stringliteral">&#39;command&#39;</span> );
                        $Settings = $Settings == <span class="stringliteral">&#39;on&#39;</span> ? <span class="stringliteral">&#39;predefined_packages=1&#39;</span> : <span class="stringliteral">&#39;predefined_packages=0&#39;</span>;
                        
                        $CachedMultyFS = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;cached_multy_fs&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        
                        $Page = <span class="stringliteral">&quot;$Title#$Template#$TemplateVersion#$Settings&quot;</span>;
                        $CachedMultyFS-&gt;file_put_contents( dirname( __FILE__ ).<span class="stringliteral">&quot;/data/&quot;</span>.$PageName , $Page );
                        $CachedMultyFS-&gt;file_put_contents( dirname( __FILE__ ).<span class="stringliteral">&quot;/data/pa_&quot;</span>.$PageName , <span class="stringliteral">&#39;&#39;</span> );
                        
                        <span class="keywordflow">return</span>( $PageName );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a52600716168ecf7fc762c3e4d1edd988"></a><!-- doxytag: member="page_access_1_0_0::delete" ref="a52600716168ecf7fc762c3e4d1edd988" args="($PageNames)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageNames</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function deletes page.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageNames</em>&nbsp;</td><td>- Name of pages.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00693">693</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $PageNames = explode( <span class="charliteral">&#39;,&#39;</span> , $PageNames );
                        
                        <span class="keywordflow">foreach</span>( $PageNames as $i =&gt; $PageName )
                        {
                              $PageName = $this-&gt;Security-&gt;get( $PageName , <span class="stringliteral">&#39;command&#39;</span> );
                              
                              @unlink( dirname( __FILE__ ).<span class="stringliteral">&#39;/data/&#39;</span>.$PageName );
                              @unlink( dirname( __FILE__ ).<span class="stringliteral">&#39;/data/pa_&#39;</span>.$PageName );
                              
                              $EventManager = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;event_manager&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                              $EventManager-&gt;trigger_event( <span class="stringliteral">&#39;on_after_delete_page&#39;</span> , array( <span class="stringliteral">&#39;page_name&#39;</span> =&gt; $PageName ) );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aab08cbde456d1bc21e97c47eac85fe6d"></a><!-- doxytag: member="page_access_1_0_0::get_list_of_pages" ref="aab08cbde456d1bc21e97c47eac85fe6d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_list_of_pages </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns a list of pages.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>List of pages.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00318">318</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $ListOfPages = array();
                        $CachedMultyFS = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;cached_multy_fs&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        $MountedStorages = $CachedMultyFS-&gt;get_mounted_storages();
                        $MountedStorages [] = dirname( __FILE__ ).<span class="stringliteral">&#39;/data&#39;</span>;
                        <span class="keywordflow">foreach</span>( $MountedStorages as $ms )
                        {
                              <span class="keywordflow">if</span>( $Handle = @opendir( $ms ) )
                              {
                                    <span class="keywordflow">while</span>( <span class="keyword">false</span> !== ( $File = readdir( $Handle ) ) )
                                    {
                                          <span class="keywordflow">if</span>( is_file( dirname( __FILE__ ).<span class="stringliteral">&#39;/data/&#39;</span>.$File ) &amp;&amp; 
                                                strpos( $File , <span class="stringliteral">&#39;pa_&#39;</span> ) !== 0 &amp;&amp; 
                                                strpos( $File , <span class="stringliteral">&#39;index.html&#39;</span> ) !== 0 )
                                          {
                                                $ListOfPages [] = $this-&gt;<a class="code" href="classpage__access__1__0__0.html#a7afcd2100d401a403e1166757d858741">get_page_description</a>( $File );
                                          }
                                    }
                                    closedir( $Handle );
                              }
                        }
                        <span class="keywordflow">return</span>( $ListOfPages );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a837323a6b09f624dcf8fd4530a2071ae"></a><!-- doxytag: member="page_access_1_0_0::get_package_appliance" ref="a837323a6b09f624dcf8fd4530a2071ae" args="($PageName, $Parse=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_package_appliance </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Parse</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns list of packages wich are applied to the page $PageName.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- Name of the page.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Parse</em>&nbsp;</td><td>- Parse data or not.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Information about all packages wich are applied to the page.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00234">234</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $RawPage = $this-&gt;<a class="code" href="classpage__access__1__0__0.html#a84fa4f5a1652feebd2b8ce497f780df6">get_raw_page</a>( $PageName );
                        
                        <span class="keywordflow">if</span>( $Parse == <span class="keyword">true</span> )
                        {
                              <span class="keywordflow">if</span>( strlen( $RawPage ) !== 0 )
                              {
                                    <span class="keywordflow">return</span>( $this-&gt;<a class="code" href="classpage__access__1__0__0.html#a309927382b815726b5e56459e8cff1ee">parse_raw_page</a>( $RawPage ) );
                              }
                              <span class="keywordflow">else</span>
                              {
                                    <span class="keywordflow">return</span>( array() );
                              }
                        }
                        <span class="keywordflow">else</span>
                        {
                              <span class="keywordflow">return</span>( $RawPage );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7afcd2100d401a403e1166757d858741"></a><!-- doxytag: member="page_access_1_0_0::get_page_description" ref="a7afcd2100d401a403e1166757d858741" args="($PageName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_page_description </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns description of the requested page.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- Name of the requested page.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Description of the requesting page in the folowing representation : array( 0 =&gt; array( id , title , name , template , template_version ) )</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>All data about pages is stored in the stand alone files (each record in each own file), name of the page is the same as file name. We know that it works slowly but this CMS is used to apply for sites with small amount of pages so it would not work VERY slow)).</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00469">469</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $PageName = $this-&gt;Security-&gt;get( $PageName , <span class="stringliteral">&#39;command&#39;</span> );
                        $CachedMultyFS = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;cached_multy_fs&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        <span class="keywordflow">if</span>( $CachedMultyFS-&gt;file_exists( dirname( __FILE__ ).<span class="stringliteral">&#39;/data/&#39;</span>.$PageName ) )
                        {
                              $RawPage = $CachedMultyFS-&gt;file_get_contents( dirname( __FILE__ ).<span class="stringliteral">&#39;/data/&#39;</span>.$PageName );
                        }
                        <span class="keywordflow">else</span>
                        {
                              <span class="keywordflow">return</span>( <span class="keyword">false</span> );
                        }
                        
                        $RawPage = explode( <span class="charliteral">&#39;#&#39;</span> , $RawPage );
                        <span class="keywordflow">if</span>( count( $RawPage ) === 3 )
                        {
                              $RawPage[ 3 ] = <span class="stringliteral">&#39;&#39;</span>;
                        }
                        
                        $Page = array( 
                              <span class="stringliteral">&#39;title&#39;</span> =&gt; $RawPage[ 0 ] , <span class="stringliteral">&#39;alias&#39;</span> =&gt; $PageName , 
                              <span class="stringliteral">&#39;template&#39;</span> =&gt; $RawPage[ 1 ] , <span class="stringliteral">&#39;template_version&#39;</span> =&gt; $RawPage[ 2 ] , <span class="stringliteral">&#39;options&#39;</span> =&gt; $RawPage[ 3 ]
                        );
                        
                        <span class="keywordflow">return</span>( $Page );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a84fa4f5a1652feebd2b8ce497f780df6"></a><!-- doxytag: member="page_access_1_0_0::get_raw_page" ref="a84fa4f5a1652feebd2b8ce497f780df6" args="($PageName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_raw_page </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns content of the page file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- Name of the page.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Content of the page file</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00133">133</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $PageName = $this-&gt;Security-&gt;get( $PageName , <span class="stringliteral">&#39;command&#39;</span> );
                        
                        $CachedMultyFS = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;cached_multy_fs&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        $FileName = dirname( __FILE__ ).<span class="stringliteral">&#39;/data/pa_&#39;</span>.$PageName;
                        <span class="keywordflow">if</span>( $CachedMultyFS-&gt;file_exists( $FileName ) )
                        {
                              $RawPage = $CachedMultyFS-&gt;file_get_contents( $FileName , <span class="stringliteral">&#39;cleaned&#39;</span> );
                        }
                        <span class="keywordflow">else</span>
                        {
                              $RawPage = <span class="stringliteral">&#39;&#39;</span>;
                        }
                        
                        <span class="keywordflow">return</span>( $RawPage );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aafb017c2ffb4139c57613471a685ed45"></a><!-- doxytag: member="page_access_1_0_0::page_exists" ref="aafb017c2ffb4139c57613471a685ed45" args="($PageName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">page_exists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Does page exists.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- Name of the requested page.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the page exists</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00525">525</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $PageName = $this-&gt;Security-&gt;get( $PageName , <span class="stringliteral">&#39;command&#39;</span> );

                        $CachedFS = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;cached_multy_fs&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        
                        <span class="keywordflow">return</span>( $CachedFS-&gt;file_exists( dirname( __FILE__ ).<span class="stringliteral">&quot;/data/&quot;</span>.$PageName ) );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a309927382b815726b5e56459e8cff1ee"></a><!-- doxytag: member="page_access_1_0_0::parse_raw_page" ref="a309927382b815726b5e56459e8cff1ee" args="($RawPage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parse_raw_page </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>RawPage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function parses page packages.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$RawPage</em>&nbsp;</td><td>- Content of the page file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Information about all packages wich are applied to the page.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00181">181</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $Appliance = array();
                                    
                        $RawPage = explode( <span class="stringliteral">&quot;\n&quot;</span> , $RawPage );
                        $c = count( $RawPage );
                        
                        <span class="keywordflow">for</span>( $i = 0 ; $i &lt; $c ; $i++ )
                        {
                              $RawPageInfo = explode( <span class="charliteral">&#39;#&#39;</span> , $RawPage[ $i ] );
                              $Appliance [] = array( 
                                    <span class="stringliteral">&#39;package&#39;</span> =&gt; @$RawPageInfo[ 0 ] , <span class="stringliteral">&#39;package_version&#39;</span> =&gt; @$RawPageInfo[ 1 ] , 
                                    <span class="stringliteral">&#39;options&#39;</span> =&gt; @$RawPageInfo[ 2 ] , <span class="stringliteral">&#39;placeholder&#39;</span> =&gt; @$RawPageInfo[ 3 ]
                              );
                        }
                        
                        <span class="keywordflow">return</span>( $Appliance );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4cc47b3edb0e43a25a5237d0f5b26360"></a><!-- doxytag: member="page_access_1_0_0::select" ref="a4cc47b3edb0e43a25a5237d0f5b26360" args="($Start, $Limit, $Field=false, $Order=false, $Condition=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">select </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Field</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Order</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Condition</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function returns list of pages.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$Start</em>&nbsp;</td><td>- Number of the first record.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Limit</em>&nbsp;</td><td>- Count of records limitation.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Field</em>&nbsp;</td><td>- Field to sort by.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Order</em>&nbsp;</td><td>- Sorting order.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>List of pages.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00384">384</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $ListOfPages = $this-&gt;<a class="code" href="classpage__access__1__0__0.html#aab08cbde456d1bc21e97c47eac85fe6d">get_list_of_pages</a>();
                        
                        $Lang = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;lang&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        $ListOfPages = $Lang-&gt;process_object( $ListOfPages );
                        
                        <span class="keywordflow">if</span>( $Order !== <span class="keyword">false</span> )
                        {
                              $SortSign = $Order === <span class="stringliteral">&#39;ascending&#39;</span> ? <span class="charliteral">&#39;&lt;&#39;</span> : <span class="charliteral">&#39;&gt;&#39;</span>;
                              $SortFunc = create_function( 
                                    <span class="stringliteral">&#39;$a , $b&#39;</span> , <span class="stringliteral">&quot;if( \$a[ &#39;$Field&#39; ] == \$b[ &#39;$Field&#39; ] )&quot;</span>.
                                          <span class="stringliteral">&quot;return(0);return( \$a[ &#39;$Field&#39; ] $SortSign \$b[ &#39;$Field&#39; ] ? -1 : 1 );&quot;</span>
                              );
                              usort( $ListOfPages , $SortFunc );
                        }
                        
                        $Ret = array();
                        
                        $SearchString = $this-&gt;Security-&gt;get_gp( <span class="stringliteral">&#39;search_string&#39;</span> , <span class="stringliteral">&#39;string&#39;</span> , <span class="stringliteral">&#39;&#39;</span> );
                        
                        $c = 0;

                        <span class="keywordflow">foreach</span>( $ListOfPages as $i =&gt; $l )
                        {
                              <span class="keywordflow">if</span>( $SearchString !== <span class="stringliteral">&#39;&#39;</span> )
                              {
                                    <span class="keywordflow">if</span>( !( strpos( $l[ <span class="stringliteral">&#39;title&#39;</span> ] , $SearchString ) !== <span class="keyword">false</span> || 
                                          strpos( $l[ <span class="stringliteral">&#39;alias&#39;</span> ] , $SearchString ) !== <span class="keyword">false</span> || 
                                          strpos( $l[ <span class="stringliteral">&#39;template&#39;</span> ] , $SearchString ) !== <span class="keyword">false</span> || 
                                          strpos( $l[ <span class="stringliteral">&#39;template_version&#39;</span> ] , $SearchString ) !== <span class="keyword">false</span> ) )
                                    {
                                          <span class="keywordflow">continue</span>;
                                    }
                              }
                              <span class="keywordflow">if</span>( $c &lt; $Limit )
                              {
                                    $Ret [] = $l;
                                    $c++;
                              }
                        }
                        
                        <span class="keywordflow">return</span>( $Ret );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af2c08017e9bf058c2f8aedbda1bf73f6"></a><!-- doxytag: member="page_access_1_0_0::select_list" ref="af2c08017e9bf058c2f8aedbda1bf73f6" args="($PageNames)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">select_list </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageNames</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function selects list of objects.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageNames</em>&nbsp;</td><td>- List of page names.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Array of records.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>- An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00790">790</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( is_string( $PageNames ) )
                        {
                              $PageNames = explode( <span class="charliteral">&#39;,&#39;</span> , $PageNames );
                        }
                        
                        $Pages = array();
                        
                        <span class="keywordflow">foreach</span>( $PageNames as $i =&gt; $PageName )
                        {
                              $Pages [] = $this-&gt;<a class="code" href="classpage__access__1__0__0.html#a7afcd2100d401a403e1166757d858741">get_page_description</a>( $PageName );
                        }

                        <span class="keywordflow">return</span>( $Pages );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53b3ad2447b87fa67af6d3a67e1b4ef6"></a><!-- doxytag: member="page_access_1_0_0::set_add_limitations" ref="a53b3ad2447b87fa67af6d3a67e1b4ef6" args="($theAddLimitation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">set_add_limitations </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>theAddLimitation</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function sets additional limitations.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$theAddLimitation</em>&nbsp;</td><td>- Additional limitations.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00092">92</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        <span class="keywordflow">if</span>( $this-&gt;AddLimitations === <span class="stringliteral">&#39;1 = 1&#39;</span> )
                        {
                              $this-&gt;AddLimitations = $theAddLimitation;
                        }
                        <span class="keywordflow">else</span>
                        {
                              <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;&quot;AddLimitations&quot; was already set&#39;</span> ) );
                        }
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af6f77c404d7ad81cd297791249a920cc"></a><!-- doxytag: member="page_access_1_0_0::set_package_appliance" ref="af6f77c404d7ad81cd297791249a920cc" args="($PageName, $Packages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">set_package_appliance </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Packages</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function sets list of packages wich are applied to the page $PageName.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- Name of the page.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Packages</em>&nbsp;</td><td>- Packages.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00284">284</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        $PageName = $this-&gt;Security-&gt;get( $PageName , <span class="stringliteral">&#39;command&#39;</span> );
                        $Packages = $this-&gt;Security-&gt;get( $Packages , <span class="stringliteral">&#39;unsafe_string&#39;</span> );
                        
                        $CachedMultyFS = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;cached_multy_fs&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
                        $CachedMultyFS-&gt;file_put_contents( dirname( __FILE__ ).<span class="stringliteral">&#39;/data/pa_&#39;</span>.$PageName , $Packages );
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af76190723984429f8bdee6e3e772132f"></a><!-- doxytag: member="page_access_1_0_0::update" ref="af76190723984429f8bdee6e3e772132f" args="($PageName, $Title, $Template, $TemplateVersion, $PredefinedPackages)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PageName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>Template</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>TemplateVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>PredefinedPackages</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function updates page.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$PageName</em>&nbsp;</td><td>- Name of the page.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Title</em>&nbsp;</td><td>- Page's title.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$Template</em>&nbsp;</td><td>- Template name.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$TemplateVersion</em>&nbsp;</td><td>- Template version.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$PredefinedPackages</em>&nbsp;</td><td>- Page's settings.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Exception</em>&nbsp;</td><td>An exception of this type is thrown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00645">645</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

<p><div class="fragment"><pre class="fragment">            {
                  <span class="keywordflow">try</span>
                  {
                        print_r( 1 );
                        exit( 0 );
                        <span class="comment">/*$PageName = $this-&gt;Security-&gt;get( $PageName , &#39;command&#39; );</span>
<span class="comment">                        $Page = $this-&gt;get_page_description( $PageName );</span>
<span class="comment">                        </span>
<span class="comment">                        $Title = $this-&gt;Security-&gt;get( $Title , &#39;string&#39; );</span>
<span class="comment">                        $Template = $this-&gt;Security-&gt;get( $Template , &#39;string&#39; );</span>
<span class="comment">                        $TemplateVersion = $this-&gt;Security-&gt;get( $TemplateVersion , &#39;command&#39; );</span>
<span class="comment">                        $PredefinedPackages = $this-&gt;Security-&gt;get( $PredefinedPackages , &#39;string&#39; );</span>
<span class="comment">                        </span>
<span class="comment">                        $Title = $Title == &#39;_no_update&#39; ? $Page[ &#39;title&#39; ] : $Title;</span>
<span class="comment">                        $Template = $Template == &#39;_no_update&#39; ? $Page[ &#39;template&#39; ] : $Template;</span>
<span class="comment">                        $TemplateVersion = $TemplateVersion == &#39;_no_update&#39; ? $Page[ &#39;template_version&#39; ] : $TemplateVersion;</span>
<span class="comment">                        $Options = $PredefinedPackages == &#39;_no_update&#39; ? $Page[ &#39;predefinded_packages&#39; ] : $PredefinedPackages;</span>
<span class="comment">                        </span>
<span class="comment">                        $CachedFS = get_package( &#39;cached_multy_fs&#39; , &#39;last&#39; , __FILE__ );</span>
<span class="comment">                        $CachedFS-&gt;file_put_contents( </span>
<span class="comment">                              dirname( __FILE__ ).&quot;/data/$PageName&quot; , &quot;$Title#$Template#$TemplateVersion#$Options&quot;</span>
<span class="comment">                        );*/</span>
                  }
                  <span class="keywordflow">catch</span>( Exception $e )
                  {
                        $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
                  }
            }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a13352aef27c96654b4751d67b2cacfe9"></a><!-- doxytag: member="page_access_1_0_0::$AddLimitations" ref="a13352aef27c96654b4751d67b2cacfe9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$AddLimitations = '1 = 1'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00072">72</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

</div>
</div>
<a class="anchor" id="aaae5f70ebc2b60f22e8159944cd2d518"></a><!-- doxytag: member="page_access_1_0_0::$Security" ref="aaae5f70ebc2b60f22e8159944cd2d518" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$Security = false</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cached objects.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dodonov A.A. </dd></dl>

<p>Definition at line <a class="el" href="page__access_8php_source.html#l00038">38</a> of file <a class="el" href="page__access_8php_source.html">page_access.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>G:/projects/webdev/wwwroot/ultimix/packages/page/packages/page_access/<a class="el" href="page__access_8php_source.html">page_access.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 3 2011 14:50:26 for ultimix by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
