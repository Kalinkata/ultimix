<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ultimix: G:/projects/webdev/wwwroot/ultimix/packages/gui/packages/context_set/packages/common_buttons/common_buttons.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>G:/projects/webdev/wwwroot/ultimix/packages/gui/packages/context_set/packages/common_buttons/common_buttons.php</h1>  </div>
</div>
<div class="contents">
<a href="common__buttons_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 
<a name="l00003"></a>00003       <span class="comment">/*</span>
<a name="l00004"></a>00004 <span class="comment">      *     This source code is a part of the Ultimix Project. </span>
<a name="l00005"></a>00005 <span class="comment">      *     It is distributed under BSD license. All other third side source code (like tinyMCE) is distributed under </span>
<a name="l00006"></a>00006 <span class="comment">      *     it&#39;s own license wich could be found from the corresponding files or sources. </span>
<a name="l00007"></a>00007 <span class="comment">      *     This source code is provided &quot;as is&quot; without any warranties or garanties.</span>
<a name="l00008"></a>00008 <span class="comment">      *</span>
<a name="l00009"></a>00009 <span class="comment">      *     Have a nice day!</span>
<a name="l00010"></a>00010 <span class="comment">      *</span>
<a name="l00011"></a>00011 <span class="comment">      *     @url http://ultimix.sorceforge.net</span>
<a name="l00012"></a>00012 <span class="comment">      *</span>
<a name="l00013"></a>00013 <span class="comment">      *     @author Alexey &quot;gdever&quot; Dodonov</span>
<a name="l00014"></a>00014 <span class="comment">      */</span>
<a name="l00015"></a>00015 
<a name="l00026"></a><a class="code" href="classcommon__buttons__1__0__0.html">00026</a>       <span class="keyword">class </span><a class="code" href="classcommon__buttons__1__0__0.html">common_buttons_1_0_0</a>{
<a name="l00027"></a>00027       
<a name="l00038"></a><a class="code" href="classcommon__buttons__1__0__0.html#a1b21a3420462aafbfb9e6420c224452d">00038</a>             var                           <a class="code" href="classcommon__buttons__1__0__0.html#a1b21a3420462aafbfb9e6420c224452d">$CachedMultyFS</a> = <span class="keyword">false</span>;
<a name="l00039"></a><a class="code" href="classcommon__buttons__1__0__0.html#a8407724e7a8e1d13b6de552766fa25a5">00039</a>             var                           <a class="code" href="classcommon__buttons__1__0__0.html#a8407724e7a8e1d13b6de552766fa25a5">$ContextSetUtilities</a> = <span class="keyword">false</span>;
<a name="l00040"></a><a class="code" href="classcommon__buttons__1__0__0.html#a1e5b144ad8adeb176a4a2897878f3de2">00040</a>             var                           <a class="code" href="classcommon__buttons__1__0__0.html#a1e5b144ad8adeb176a4a2897878f3de2">$MacroSettings</a> = <span class="keyword">false</span>;
<a name="l00041"></a><a class="code" href="classcommon__buttons__1__0__0.html#abb2043be9a91c077dee65db7c8ab3460">00041</a>             var                           <a class="code" href="classcommon__buttons__1__0__0.html#abb2043be9a91c077dee65db7c8ab3460">$PermitAlgorithms</a> = <span class="keyword">false</span>;
<a name="l00042"></a><a class="code" href="classcommon__buttons__1__0__0.html#aaae5f70ebc2b60f22e8159944cd2d518">00042</a>             var                           <a class="code" href="classcommon__buttons__1__0__0.html#aaae5f70ebc2b60f22e8159944cd2d518">$Security</a> = <span class="keyword">false</span>;
<a name="l00043"></a><a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">00043</a>             var                           <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> = <span class="keyword">false</span>;
<a name="l00044"></a><a class="code" href="classcommon__buttons__1__0__0.html#a541f49d5b9cf7bae2f91f639abcf3458">00044</a>             var                           <a class="code" href="classcommon__buttons__1__0__0.html#a541f49d5b9cf7bae2f91f639abcf3458">$String</a> = <span class="keyword">false</span>;
<a name="l00045"></a><a class="code" href="classcommon__buttons__1__0__0.html#ad3377fd103ea8c6d35b0ee60e4e9c46d">00045</a>             var                           <a class="code" href="classcommon__buttons__1__0__0.html#ad3377fd103ea8c6d35b0ee60e4e9c46d">$UserAlgorithms</a> = <span class="keyword">false</span>;
<a name="l00046"></a>00046             
<a name="l00057"></a><a class="code" href="classcommon__buttons__1__0__0.html#a8a43e1c8b245951155d04b279276af95">00057</a>             var                           <a class="code" href="classcommon__buttons__1__0__0.html#a8a43e1c8b245951155d04b279276af95">$Version</a> = 1;
<a name="l00058"></a>00058             
<a name="l00073"></a><a class="code" href="classcommon__buttons__1__0__0.html#a095c5d389db211932136b53f25f39685">00073</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a095c5d389db211932136b53f25f39685">__construct</a>()
<a name="l00074"></a>00074             {
<a name="l00075"></a>00075                   <span class="keywordflow">try</span>
<a name="l00076"></a>00076                   {
<a name="l00077"></a>00077                         $this-&gt;CachedMultyFS = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;cached_multy_fs&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
<a name="l00078"></a>00078                         $this-&gt;ContextSetUtilities = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( 
<a name="l00079"></a>00079                               <span class="stringliteral">&#39;gui::context_set::context_set_utilities&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__
<a name="l00080"></a>00080                         );
<a name="l00081"></a>00081                         $this-&gt;MacroSettings = <a class="code" href="core__public__api_8php.html#a7dbfff8b452767e03ec52155dff6bdd3">get_package_object</a>( <span class="stringliteral">&#39;settings::settings&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
<a name="l00082"></a>00082                         $this-&gt;PermitAlgorithms = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;permit::permit_algorithms&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
<a name="l00083"></a>00083                         $this-&gt;Security = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;security&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
<a name="l00084"></a>00084                         $this-&gt;Settings = <a class="code" href="core__public__api_8php.html#a7dbfff8b452767e03ec52155dff6bdd3">get_package_object</a>( <span class="stringliteral">&#39;settings::settings&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
<a name="l00085"></a>00085                         $this-&gt;String = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;string&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
<a name="l00086"></a>00086                         $this-&gt;UserAlgorithms = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;user::user_algorithms&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
<a name="l00087"></a>00087                   }
<a name="l00088"></a>00088                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00089"></a>00089                   {
<a name="l00090"></a>00090                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00091"></a>00091                   }
<a name="l00092"></a>00092             }
<a name="l00093"></a>00093             
<a name="l00120"></a><a class="code" href="classcommon__buttons__1__0__0.html#ae5dde8e1cb18fb6241887abc2b3c77e2">00120</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#ae5dde8e1cb18fb6241887abc2b3c77e2">get_common_create_button_content</a>( $CommonStateConfig , $ExtOptions )
<a name="l00121"></a>00121             {
<a name="l00122"></a>00122                   <span class="keywordflow">try</span>
<a name="l00123"></a>00123                   {
<a name="l00124"></a>00124                         $ValidatingPermits = $CommonStateConfig-&gt;get_setting( 
<a name="l00125"></a>00125                               <span class="stringliteral">&#39;permits_validation&#39;</span> , $CommonStateConfig-&gt;get_setting( <span class="stringliteral">&#39;permits_filter&#39;</span> , <span class="stringliteral">&#39;admin&#39;</span> )
<a name="l00126"></a>00126                         );
<a name="l00127"></a>00127                         
<a name="l00128"></a>00128                         $PermitValidationResult = $this-&gt;PermitAlgorithms-&gt;object_has_all_permits( 
<a name="l00129"></a>00129                               <span class="keyword">false</span> , <span class="stringliteral">&#39;user&#39;</span> , $ValidatingPermits 
<a name="l00130"></a>00130                         );
<a name="l00131"></a>00131 
<a name="l00132"></a>00132                         <span class="keywordflow">if</span>( $PermitValidationResult )
<a name="l00133"></a>00133                         {
<a name="l00134"></a>00134                               $Path = <a class="code" href="core_8php.html#a5723fd5d1f06ff63181f91d948316d87">_get_package_relative_path_ex</a>( <span class="stringliteral">&#39;gui::context_set::common_buttons&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> );
<a name="l00135"></a>00135                               
<a name="l00136"></a>00136                               $ButtonCode = <span class="stringliteral">&quot;{toolbar_button:page=javascript:ultimix.forms.SubmitForm1( &#39;{prefix}_form&#39; , &quot;</span>.
<a name="l00137"></a>00137                                                   <span class="stringliteral">&quot;&#39;{prefix}_context_action&#39; , &#39;create_record_form&#39; , false , false , false , &#39;post&#39; &quot;</span>.
<a name="l00138"></a>00138                                                   <span class="stringliteral">&quot;);package_name=gui::context_set::common_buttons;icon=create.gif;permit=public;&quot;</span>.
<a name="l00139"></a>00139                                                   <span class="stringliteral">&quot;title=create_button}&quot;</span>;
<a name="l00140"></a>00140                               
<a name="l00141"></a>00141                               <span class="keywordflow">return</span>( $ButtonCode );
<a name="l00142"></a>00142                         }
<a name="l00143"></a>00143 
<a name="l00144"></a>00144                         <span class="keywordflow">return</span>( <span class="stringliteral">&#39;&#39;</span> );
<a name="l00145"></a>00145                   }
<a name="l00146"></a>00146                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00147"></a>00147                   {
<a name="l00148"></a>00148                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00149"></a>00149                   }
<a name="l00150"></a>00150             }
<a name="l00151"></a>00151             
<a name="l00174"></a><a class="code" href="classcommon__buttons__1__0__0.html#a8ff06b4580675c8767c142b8f01a8b79">00174</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a8ff06b4580675c8767c142b8f01a8b79">get_common_search_button_content</a>( $CommonStateConfig )
<a name="l00175"></a>00175             {
<a name="l00176"></a>00176                   <span class="keywordflow">try</span>
<a name="l00177"></a>00177                   {
<a name="l00178"></a>00178                         $ValidatingPermits = $CommonStateConfig-&gt;get_setting( 
<a name="l00179"></a>00179                               <span class="stringliteral">&#39;permits_validation&#39;</span> , $CommonStateConfig-&gt;get_setting( <span class="stringliteral">&#39;permits_filter&#39;</span> , <span class="stringliteral">&#39;admin&#39;</span> )
<a name="l00180"></a>00180                         );
<a name="l00181"></a>00181                         
<a name="l00182"></a>00182                         $PermitValidationResult = $this-&gt;PermitAlgorithms-&gt;object_has_all_permits( 
<a name="l00183"></a>00183                               <span class="keyword">false</span> , <span class="stringliteral">&#39;user&#39;</span> , $ValidatingPermits 
<a name="l00184"></a>00184                         );
<a name="l00185"></a>00185                         
<a name="l00186"></a>00186                         <span class="keywordflow">if</span>( $PermitValidationResult )
<a name="l00187"></a>00187                         {
<a name="l00188"></a>00188                               $ButtonCode  = <span class="stringliteral">&quot;{href:class=common_button_layout;tpl=toggle;raw_text={lang:search_{prefix};&quot;</span>;
<a name="l00189"></a>00189                               $ButtonCode .= <span class="stringliteral">&quot;default=search};speed=500;element_id={prefix}_search_form}&quot;</span>;
<a name="l00190"></a>00190                               
<a name="l00191"></a>00191                               <span class="keywordflow">return</span>( $ButtonCode );
<a name="l00192"></a>00192                         }
<a name="l00193"></a>00193                         
<a name="l00194"></a>00194                         <span class="keywordflow">return</span>( <span class="stringliteral">&#39;&#39;</span> );
<a name="l00195"></a>00195                   }
<a name="l00196"></a>00196                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00197"></a>00197                   {
<a name="l00198"></a>00198                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00199"></a>00199                   }
<a name="l00200"></a>00200             }
<a name="l00201"></a>00201             
<a name="l00224"></a><a class="code" href="classcommon__buttons__1__0__0.html#aa484dcb1a936cafdc9786e9646f6b341">00224</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#aa484dcb1a936cafdc9786e9646f6b341">get_common_update_button_content</a>( $CommonStateConfig )
<a name="l00225"></a>00225             {
<a name="l00226"></a>00226                   <span class="keywordflow">try</span>
<a name="l00227"></a>00227                   {
<a name="l00228"></a>00228                         $ValidatingPermits = $CommonStateConfig-&gt;get_setting( 
<a name="l00229"></a>00229                               <span class="stringliteral">&#39;permits_validation&#39;</span> , $CommonStateConfig-&gt;get_setting( <span class="stringliteral">&#39;permits_filter&#39;</span> , <span class="stringliteral">&#39;admin&#39;</span> )
<a name="l00230"></a>00230                         );
<a name="l00231"></a>00231                         
<a name="l00232"></a>00232                         $PermitValidationResult = $this-&gt;PermitAlgorithms-&gt;object_has_all_permits( 
<a name="l00233"></a>00233                               <span class="keyword">false</span> , <span class="stringliteral">&#39;user&#39;</span> , $ValidatingPermits 
<a name="l00234"></a>00234                         );
<a name="l00235"></a>00235                         
<a name="l00236"></a>00236                         <span class="keywordflow">if</span>( $PermitValidationResult )
<a name="l00237"></a>00237                         {
<a name="l00238"></a>00238                               $ButtonCode  = <span class="stringliteral">&#39;{href:id={prefix}_updating_button;class=common_button_layout;&#39;</span>;
<a name="l00239"></a>00239                               $ButtonCode .= <span class="stringliteral">&#39;tpl={if:condition={get_var:name={prefix}_form_records_count;default=1};&#39;</span>;
<a name="l00240"></a>00240                               $ButtonCode .= <span class="stringliteral">&#39;then=submit2mass;else=no_href};form_id={prefix}_form;&#39;</span>;
<a name="l00241"></a>00241                               $ButtonCode .= <span class="stringliteral">&#39;param1={prefix}_context_action;value1=update_record_form;&#39;</span>;
<a name="l00242"></a>00242                               $ButtonCode .= <span class="stringliteral">&#39;param2={prefix}_record_id;value2=-1;raw_text={lang:edit_{prefix};&#39;</span>;
<a name="l00243"></a>00243                               $ButtonCode .= <span class="stringliteral">&#39;default=edit};no_select_msg=no_selected_{prefix};name={prefix}}&#39;</span>;
<a name="l00244"></a>00244                               
<a name="l00245"></a>00245                               <span class="keywordflow">return</span>( $ButtonCode );
<a name="l00246"></a>00246                         }
<a name="l00247"></a>00247                         
<a name="l00248"></a>00248                         <span class="keywordflow">return</span>( <span class="stringliteral">&#39;&#39;</span> );
<a name="l00249"></a>00249                   }
<a name="l00250"></a>00250                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00251"></a>00251                   {
<a name="l00252"></a>00252                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00253"></a>00253                   }
<a name="l00254"></a>00254             }
<a name="l00255"></a>00255             
<a name="l00278"></a><a class="code" href="classcommon__buttons__1__0__0.html#acd0a035b97a10699d8a5785c9af9706d">00278</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#acd0a035b97a10699d8a5785c9af9706d">get_common_copy_button_content</a>( $CommonStateConfig )
<a name="l00279"></a>00279             {
<a name="l00280"></a>00280                   <span class="keywordflow">try</span>
<a name="l00281"></a>00281                   {
<a name="l00282"></a>00282                         $ValidatingPermits = $CommonStateConfig-&gt;get_setting( 
<a name="l00283"></a>00283                               <span class="stringliteral">&#39;permits_validation&#39;</span> , $CommonStateConfig-&gt;get_setting( <span class="stringliteral">&#39;permits_filter&#39;</span> , <span class="stringliteral">&#39;admin&#39;</span> )
<a name="l00284"></a>00284                         );
<a name="l00285"></a>00285                         
<a name="l00286"></a>00286                         $PermitValidationResult = $this-&gt;PermitAlgorithms-&gt;object_has_all_permits( 
<a name="l00287"></a>00287                               <span class="keyword">false</span> , <span class="stringliteral">&#39;user&#39;</span> , $ValidatingPermits 
<a name="l00288"></a>00288                         );
<a name="l00289"></a>00289                         
<a name="l00290"></a>00290                         <span class="keywordflow">if</span>( $PermitValidationResult )
<a name="l00291"></a>00291                         {
<a name="l00292"></a>00292                               $ButtonCode  = <span class="stringliteral">&#39;{href:id={prefix}_copy_button;class=common_button_layout;&#39;</span>;
<a name="l00293"></a>00293                               $ButtonCode .= <span class="stringliteral">&#39;tpl={if:condition={get_var:name={prefix}_form_records_count;default=1};&#39;</span>;
<a name="l00294"></a>00294                               $ButtonCode .= <span class="stringliteral">&#39;then=submit2mass;else=no_href};form_id={prefix}_form;&#39;</span>;
<a name="l00295"></a>00295                               $ButtonCode .= <span class="stringliteral">&#39;param1={prefix}_context_action;value1=copy_record_form;&#39;</span>;
<a name="l00296"></a>00296                               $ButtonCode .= <span class="stringliteral">&#39;param2={prefix}_record_id;value2=-1;text=copy;&#39;</span>;
<a name="l00297"></a>00297                               $ButtonCode .= <span class="stringliteral">&#39;no_select_msg=no_selected_{prefix};name={prefix}}&#39;</span>;
<a name="l00298"></a>00298                               
<a name="l00299"></a>00299                               <span class="keywordflow">return</span>( $ButtonCode );
<a name="l00300"></a>00300                         }
<a name="l00301"></a>00301                               
<a name="l00302"></a>00302                         <span class="keywordflow">return</span>( <span class="stringliteral">&#39;&#39;</span> );
<a name="l00303"></a>00303                   }
<a name="l00304"></a>00304                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00305"></a>00305                   {
<a name="l00306"></a>00306                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00307"></a>00307                   }
<a name="l00308"></a>00308             }
<a name="l00309"></a>00309             
<a name="l00336"></a><a class="code" href="classcommon__buttons__1__0__0.html#a8b21dc8125623548be9b68a1562111e6">00336</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a8b21dc8125623548be9b68a1562111e6">get_common_delete_button_content</a>( $CommonStateConfig , $ExtOptions )
<a name="l00337"></a>00337             {
<a name="l00338"></a>00338                   <span class="keywordflow">try</span>
<a name="l00339"></a>00339                   {
<a name="l00340"></a>00340                         $PermitsFilter = $CommonStateConfig-&gt;get_setting( <span class="stringliteral">&#39;permits_filter&#39;</span> , <span class="stringliteral">&#39;admin&#39;</span> );
<a name="l00341"></a>00341                         $ValidatingPermits = $CommonStateConfig-&gt;get_setting( <span class="stringliteral">&#39;permits_validation&#39;</span> , $PermitsFilter );
<a name="l00342"></a>00342                         $PermitValidationResult = $this-&gt;PermitAlgorithms-&gt;object_has_all_permits( 
<a name="l00343"></a>00343                               <span class="keyword">false</span> , <span class="stringliteral">&#39;user&#39;</span> , $ValidatingPermits 
<a name="l00344"></a>00344                         );
<a name="l00345"></a>00345                         
<a name="l00346"></a>00346                         <span class="keywordflow">if</span>( $PermitValidationResult )
<a name="l00347"></a>00347                         {
<a name="l00348"></a>00348                               <span class="keywordflow">if</span>( $this-&gt;Version &lt;= 1 )
<a name="l00349"></a>00349                               {
<a name="l00350"></a>00350                                     $Name = $ExtOptions-&gt;get_setting( <span class="stringliteral">&#39;name&#39;</span> , <span class="stringliteral">&#39;{prefix}&#39;</span> );
<a name="l00351"></a>00351                                     $ButtonCode  = <span class="stringliteral">&#39;{href:class=common_button_layout;&#39;</span>;
<a name="l00352"></a>00352                                     $ButtonCode .= <span class="stringliteral">&#39;tpl={if:condition={get_var:name={prefix}_form_records_count;default=1};&#39;</span>;
<a name="l00353"></a>00353                                     $ButtonCode .= <span class="stringliteral">&#39;then=submit2mass;else=no_href};form_id={prefix}_form;&#39;</span>;
<a name="l00354"></a>00354                                     $ButtonCode .= <span class="stringliteral">&#39;param1={prefix}_action;value1=delete_record;param2={prefix}_record_id;&#39;</span>;
<a name="l00355"></a>00355                                     $ButtonCode .= <span class="stringliteral">&#39;value2=-1;confirm_string=shure_to_delete_all_{prefix};&#39;</span>;
<a name="l00356"></a>00356                                     $ButtonCode .= <span class="stringliteral">&#39;raw_text={lang:delete_{prefix};default=delete};&#39;</span>;
<a name="l00357"></a>00357                                     $ButtonCode .= <span class="stringliteral">&quot;no_select_msg=no_selected_{prefix};name=$Name}&quot;</span>;
<a name="l00358"></a>00358                               }
<a name="l00359"></a>00359                               elseif( $this-&gt;Version &gt;= 2 )
<a name="l00360"></a>00360                               {
<a name="l00361"></a>00361                                     $ButtonCode  = <span class="stringliteral">&#39;&lt;a class=&quot;common_button_layout&quot; &#39;</span>;
<a name="l00362"></a>00362                                     $ButtonCode .= <span class="stringliteral">&#39;style=&quot;display: {if:condition={get_var:name={prefix}_form_records_count;default=1};&#39;</span>;
<a name="l00363"></a>00363                                     $ButtonCode .= <span class="stringliteral">&#39;then=inline;else=none}&quot; href=&quot;javascript:ultimix.{prefix}.Delete( &#39;</span>;
<a name="l00364"></a>00364                                     $ButtonCode .= <span class="charliteral">&#39;\&#39;</span>#{prefix}_form\<span class="stringliteral">&#39; , \&#39;./[page_name].html\&#39; , \&#39;no_selected_{prefix}\&#39; , &#39;</span>;
<a name="l00365"></a>00365                                     $ButtonCode .= <span class="charliteral">&#39;\&#39;</span>shure_to_delete_all_selected_records\<span class="stringliteral">&#39; , true );&quot;&gt;{lang:delete_{prefix};&#39;</span>;
<a name="l00366"></a>00366                                     $ButtonCode .= <span class="stringliteral">&#39;default=delete}&lt;/a&gt;&#39;</span>;
<a name="l00367"></a>00367                               }
<a name="l00368"></a>00368 
<a name="l00369"></a>00369                               <span class="keywordflow">return</span>( $ButtonCode );
<a name="l00370"></a>00370                         }
<a name="l00371"></a>00371                         
<a name="l00372"></a>00372                         <span class="keywordflow">return</span>( <span class="stringliteral">&#39;&#39;</span> );
<a name="l00373"></a>00373                   }
<a name="l00374"></a>00374                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00375"></a>00375                   {
<a name="l00376"></a>00376                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00377"></a>00377                   }
<a name="l00378"></a>00378             }
<a name="l00379"></a>00379 
<a name="l00410"></a><a class="code" href="classcommon__buttons__1__0__0.html#a7b72c75dbb21ceb6820fdc697cf1179f">00410</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a7b72c75dbb21ceb6820fdc697cf1179f">process_create</a>( &amp;$Options , $Str , $Changed )
<a name="l00411"></a>00411             {
<a name="l00412"></a>00412                   <span class="keywordflow">try</span>
<a name="l00413"></a>00413                   {
<a name="l00414"></a>00414                         <span class="keywordflow">if</span>( strpos( $Str , <span class="stringliteral">&#39;{create}&#39;</span> ) !== <span class="keyword">false</span> )
<a name="l00415"></a>00415                         {
<a name="l00416"></a>00416                               $Str = str_replace( <span class="stringliteral">&#39;{create}&#39;</span> , <span class="stringliteral">&#39;{create:text=create}&#39;</span> ,$Str );
<a name="l00417"></a>00417                               $Changed = <span class="keyword">true</span>;
<a name="l00418"></a>00418                         }
<a name="l00419"></a>00419 
<a name="l00420"></a>00420                         <span class="keywordflow">for</span>( ; $MacroParameters = $this-&gt;String-&gt;get_macro_parameters( $Str , <span class="stringliteral">&#39;create&#39;</span> ) ; )
<a name="l00421"></a>00421                         {
<a name="l00422"></a>00422                               $this-&gt;Settings-&gt;load_settings( $MacroParameters );
<a name="l00423"></a>00423                               $Text = $this-&gt;Settings-&gt;get_setting( <span class="stringliteral">&#39;text&#39;</span> );
<a name="l00424"></a>00424                               
<a name="l00425"></a>00425                               $Str = str_replace( 
<a name="l00426"></a>00426                                     <span class="stringliteral">&quot;{create:$MacroParameters}&quot;</span> , <span class="stringliteral">&quot;{href:tpl=submit0;form_id={prefix}_create_form;text=$Text}&quot;</span> , 
<a name="l00427"></a>00427                                     $Str 
<a name="l00428"></a>00428                               );
<a name="l00429"></a>00429                               
<a name="l00430"></a>00430                               $Changed = <span class="keyword">true</span>;
<a name="l00431"></a>00431                         }
<a name="l00432"></a>00432                         
<a name="l00433"></a>00433                         <span class="keywordflow">return</span>( array( $Str , $Changed ) );
<a name="l00434"></a>00434                   }
<a name="l00435"></a>00435                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00436"></a>00436                   {
<a name="l00437"></a>00437                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00438"></a>00438                   }
<a name="l00439"></a>00439             }
<a name="l00440"></a>00440             
<a name="l00471"></a><a class="code" href="classcommon__buttons__1__0__0.html#addf1abd38120e3fad7190988b7b6d60c">00471</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#addf1abd38120e3fad7190988b7b6d60c">process_save</a>( &amp;$Options , $Str , $Changed )
<a name="l00472"></a>00472             {
<a name="l00473"></a>00473                   <span class="keywordflow">try</span>
<a name="l00474"></a>00474                   {
<a name="l00475"></a>00475                         <span class="keywordflow">if</span>( strpos( $Str , <span class="stringliteral">&#39;{save}&#39;</span> ) !== <span class="keyword">false</span> )
<a name="l00476"></a>00476                         {
<a name="l00477"></a>00477                               $Str = str_replace( <span class="stringliteral">&#39;{save}&#39;</span> , <span class="stringliteral">&#39;{href:tpl=submit0;form_id={prefix}_edit_form;text=save}&#39;</span> ,$Str );
<a name="l00478"></a>00478                               
<a name="l00479"></a>00479                               $Changed = <span class="keyword">true</span>;
<a name="l00480"></a>00480                         }
<a name="l00481"></a>00481                         
<a name="l00482"></a>00482                         <span class="keywordflow">return</span>( array( $Str , $Changed ) );
<a name="l00483"></a>00483                   }
<a name="l00484"></a>00484                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00485"></a>00485                   {
<a name="l00486"></a>00486                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00487"></a>00487                   }
<a name="l00488"></a>00488             }
<a name="l00489"></a>00489             
<a name="l00520"></a><a class="code" href="classcommon__buttons__1__0__0.html#a67805b18d8ba954a6ae5ff3f6ca34bf2">00520</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a67805b18d8ba954a6ae5ff3f6ca34bf2">process_copy</a>( &amp;$Options , $Str , $Changed )
<a name="l00521"></a>00521             {
<a name="l00522"></a>00522                   <span class="keywordflow">try</span>
<a name="l00523"></a>00523                   {
<a name="l00524"></a>00524                         <span class="keywordflow">if</span>( strpos( $Str , <span class="stringliteral">&#39;{copy}&#39;</span> ) !== <span class="keyword">false</span> )
<a name="l00525"></a>00525                         {
<a name="l00526"></a>00526                               $Str = str_replace( <span class="stringliteral">&#39;{copy}&#39;</span> , <span class="stringliteral">&#39;{href:tpl=submit0;form_id={prefix}_copy_form;text=save}&#39;</span> ,$Str );
<a name="l00527"></a>00527                               
<a name="l00528"></a>00528                               $Changed = <span class="keyword">true</span>;
<a name="l00529"></a>00529                         }
<a name="l00530"></a>00530                         
<a name="l00531"></a>00531                         <span class="keywordflow">return</span>( array( $Str , $Changed ) );
<a name="l00532"></a>00532                   }
<a name="l00533"></a>00533                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00534"></a>00534                   {
<a name="l00535"></a>00535                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00536"></a>00536                   }
<a name="l00537"></a>00537             }
<a name="l00538"></a>00538             
<a name="l00569"></a><a class="code" href="classcommon__buttons__1__0__0.html#a7ecaa5cc8960c8ebfaba1075ba20d2ae">00569</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a7ecaa5cc8960c8ebfaba1075ba20d2ae">process_cancel</a>( &amp;$Options , $Str , $Changed )
<a name="l00570"></a>00570             {
<a name="l00571"></a>00571                   <span class="keywordflow">try</span>
<a name="l00572"></a>00572                   {
<a name="l00573"></a>00573                         <span class="keywordflow">if</span>( strpos( $Str , <span class="stringliteral">&#39;{cancel}&#39;</span> ) !== <span class="keyword">false</span> )
<a name="l00574"></a>00574                         {
<a name="l00575"></a>00575                               $Str = str_replace( <span class="stringliteral">&#39;{cancel}&#39;</span> , <span class="stringliteral">&#39;{cancel:p=1}&#39;</span> , $Str );
<a name="l00576"></a>00576                         }
<a name="l00577"></a>00577                         
<a name="l00578"></a>00578                         <span class="keywordflow">for</span>( ; $MacroParameters = $this-&gt;String-&gt;get_macro_parameters( $Str , <span class="stringliteral">&#39;cancel&#39;</span> ) ; )
<a name="l00579"></a>00579                         {
<a name="l00580"></a>00580                               $this-&gt;Settings-&gt;load_settings( $MacroParameters );
<a name="l00581"></a>00581 
<a name="l00582"></a>00582                               $Page = $Options-&gt;get_setting( 
<a name="l00583"></a>00583                                     <span class="stringliteral">&#39;cancel_page&#39;</span> , $this-&gt;Settings-&gt;get_setting( <span class="stringliteral">&#39;page&#39;</span> , $_SERVER[ <span class="stringliteral">&#39;REQUEST_URI&#39;</span> ] )
<a name="l00584"></a>00584                               );
<a name="l00585"></a>00585                               
<a name="l00586"></a>00586                               $Page = str_replace( <span class="charliteral">&#39;=&#39;</span> , <span class="stringliteral">&#39;[eq]&#39;</span> , $Page );
<a name="l00587"></a>00587                               $Page = str_replace( <span class="charliteral">&#39;;&#39;</span> , <span class="stringliteral">&#39;[dot_comma]&#39;</span> , $Page );
<a name="l00588"></a>00588                               
<a name="l00589"></a>00589                               $Str = str_replace( <span class="stringliteral">&quot;{cancel:$MacroParameters}&quot;</span> , <span class="stringliteral">&quot;{href:tpl=std;page=$Page;text=cancel}&quot;</span> , $Str );
<a name="l00590"></a>00590                               
<a name="l00591"></a>00591                               $Changed = <span class="keyword">true</span>;
<a name="l00592"></a>00592                         }
<a name="l00593"></a>00593                         
<a name="l00594"></a>00594                         <span class="keywordflow">return</span>( array( $Str , $Changed ) );
<a name="l00595"></a>00595                   }
<a name="l00596"></a>00596                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00597"></a>00597                   {
<a name="l00598"></a>00598                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00599"></a>00599                   }
<a name="l00600"></a>00600             }
<a name="l00601"></a>00601             
<a name="l00632"></a><a class="code" href="classcommon__buttons__1__0__0.html#a923c3742d318fe5913c7034e92206201">00632</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a923c3742d318fe5913c7034e92206201">process_form_buttons</a>( &amp;$Options , $Str , $Changed = <span class="keyword">false</span> )
<a name="l00633"></a>00633             {
<a name="l00634"></a>00634                   <span class="keywordflow">try</span>
<a name="l00635"></a>00635                   {
<a name="l00636"></a>00636                         list( $Str , $Changed ) = $this-&gt;<a class="code" href="classcommon__buttons__1__0__0.html#a7b72c75dbb21ceb6820fdc697cf1179f">process_create</a>( $Options , $Str , $Changed );
<a name="l00637"></a>00637                         
<a name="l00638"></a>00638                         list( $Str , $Changed ) = $this-&gt;<a class="code" href="classcommon__buttons__1__0__0.html#addf1abd38120e3fad7190988b7b6d60c">process_save</a>( $Options , $Str , $Changed );
<a name="l00639"></a>00639                         
<a name="l00640"></a>00640                         list( $Str , $Changed ) = $this-&gt;<a class="code" href="classcommon__buttons__1__0__0.html#a67805b18d8ba954a6ae5ff3f6ca34bf2">process_copy</a>( $Options , $Str , $Changed );
<a name="l00641"></a>00641 
<a name="l00642"></a>00642                         list( $Str , $Changed ) = $this-&gt;<a class="code" href="classcommon__buttons__1__0__0.html#a7ecaa5cc8960c8ebfaba1075ba20d2ae">process_cancel</a>( $Options , $Str , $Changed );
<a name="l00643"></a>00643 
<a name="l00644"></a>00644                         <span class="keywordflow">return</span>( array( $Str , $Changed ) );
<a name="l00645"></a>00645                   }
<a name="l00646"></a>00646                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00647"></a>00647                   {
<a name="l00648"></a>00648                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00649"></a>00649                   }
<a name="l00650"></a>00650             }
<a name="l00651"></a>00651             
<a name="l00682"></a><a class="code" href="classcommon__buttons__1__0__0.html#add9ca49f0a984ec662bab621146e76d9">00682</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#add9ca49f0a984ec662bab621146e76d9">process_search_button_creation</a>( <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> , $Options , $ControlCode )
<a name="l00683"></a>00683             {
<a name="l00684"></a>00684                   <span class="keywordflow">try</span>
<a name="l00685"></a>00685                   {
<a name="l00686"></a>00686                         $CommonButtonConfig = $this-&gt;ContextSetUtilities-&gt;load_common_state_config( 
<a name="l00687"></a>00687                               <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> , 
<a name="l00688"></a>00688                               <span class="stringliteral">&#39;common_state_config_search_form&#39;</span> , 
<a name="l00689"></a>00689                               <span class="stringliteral">&#39;cfcxs_search_form&#39;</span> , 
<a name="l00690"></a>00690                               $Options-&gt;get_setting( <span class="stringliteral">&#39;file_path&#39;</span> )
<a name="l00691"></a>00691                         );
<a name="l00692"></a>00692                         
<a name="l00693"></a>00693                         $ControlCode = str_replace( 
<a name="l00694"></a>00694                               <span class="stringliteral">&#39;{search_button}&#39;</span> , 
<a name="l00695"></a>00695                               $this-&gt;<a class="code" href="classcommon__buttons__1__0__0.html#a8ff06b4580675c8767c142b8f01a8b79">get_common_search_button_content</a>( $CommonButtonConfig ) , 
<a name="l00696"></a>00696                               $ControlCode 
<a name="l00697"></a>00697                         );
<a name="l00698"></a>00698                         
<a name="l00699"></a>00699                         <span class="keywordflow">return</span>( $ControlCode );
<a name="l00700"></a>00700                   }
<a name="l00701"></a>00701                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00702"></a>00702                   {
<a name="l00703"></a>00703                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00704"></a>00704                   }
<a name="l00705"></a>00705             }
<a name="l00706"></a>00706             
<a name="l00737"></a><a class="code" href="classcommon__buttons__1__0__0.html#a4a07fa9c82c0e718de2e9a6369687881">00737</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a4a07fa9c82c0e718de2e9a6369687881">process_create_button_creation</a>( <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> , $Options , $ControlCode )
<a name="l00738"></a>00738             {
<a name="l00739"></a>00739                   <span class="keywordflow">try</span>
<a name="l00740"></a>00740                   {
<a name="l00741"></a>00741                         $CommonButtonConfig = $this-&gt;ContextSetUtilities-&gt;load_common_state_config( 
<a name="l00742"></a>00742                               <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> , 
<a name="l00743"></a>00743                               <span class="stringliteral">&#39;common_state_config_create_form&#39;</span> , 
<a name="l00744"></a>00744                               <span class="stringliteral">&#39;cfcxs_create_form&#39;</span> , 
<a name="l00745"></a>00745                               $Options-&gt;get_setting( <span class="stringliteral">&#39;file_path&#39;</span> )
<a name="l00746"></a>00746                         );
<a name="l00747"></a>00747                         
<a name="l00748"></a>00748                         <span class="keywordflow">if</span>( strpos( $ControlCode , <span class="stringliteral">&#39;{create_button}&#39;</span> ) !== false )
<a name="l00749"></a>00749                         {
<a name="l00750"></a>00750                               $ControlCode = str_replace( <span class="stringliteral">&#39;{create_button}&#39;</span> , <span class="stringliteral">&#39;{create_button:p=1}&#39;</span> , $ControlCode );
<a name="l00751"></a>00751                         }
<a name="l00752"></a>00752                         
<a name="l00753"></a>00753                         <span class="keywordflow">for</span>( ; $MacroParameters = $this-&gt;String-&gt;get_macro_parameters( $ControlCode , <span class="stringliteral">&#39;create_button&#39;</span> ) ; )
<a name="l00754"></a>00754                         {
<a name="l00755"></a>00755                               $this-&gt;MacroSettings-&gt;load_settings( $MacroParameters );
<a name="l00756"></a>00756                               $ButtonCode = $this-&gt;<a class="code" href="classcommon__buttons__1__0__0.html#ae5dde8e1cb18fb6241887abc2b3c77e2">get_common_create_button_content</a>( $CommonButtonConfig , $this-&gt;MacroSettings );
<a name="l00757"></a>00757                               $ControlCode = str_replace( <span class="stringliteral">&quot;{create_button:$MacroParameters}&quot;</span> , $ButtonCode , $ControlCode );
<a name="l00758"></a>00758                         }
<a name="l00759"></a>00759                         
<a name="l00760"></a>00760                         <span class="keywordflow">return</span>( $ControlCode );
<a name="l00761"></a>00761                   }
<a name="l00762"></a>00762                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00763"></a>00763                   {
<a name="l00764"></a>00764                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00765"></a>00765                   }
<a name="l00766"></a>00766             }
<a name="l00767"></a>00767             
<a name="l00798"></a><a class="code" href="classcommon__buttons__1__0__0.html#a3030b194e3ed2b7dd45544bd496d7f93">00798</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a3030b194e3ed2b7dd45544bd496d7f93">process_update_button_creation</a>( <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> , $Options , $ControlCode )
<a name="l00799"></a>00799             {
<a name="l00800"></a>00800                   <span class="keywordflow">try</span>
<a name="l00801"></a>00801                   {
<a name="l00802"></a>00802                         $CommonButtonConfig = $this-&gt;ContextSetUtilities-&gt;load_common_state_config( 
<a name="l00803"></a>00803                               <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> , 
<a name="l00804"></a>00804                               <span class="stringliteral">&#39;common_state_config_update_form&#39;</span> , 
<a name="l00805"></a>00805                               <span class="stringliteral">&#39;cfcxs_update_form&#39;</span> , 
<a name="l00806"></a>00806                               $Options-&gt;get_setting( <span class="stringliteral">&#39;file_path&#39;</span> )
<a name="l00807"></a>00807                         );
<a name="l00808"></a>00808                         
<a name="l00809"></a>00809                         <span class="keywordflow">if</span>( strpos( $ControlCode , <span class="stringliteral">&#39;{update_button}&#39;</span> ) !== false )
<a name="l00810"></a>00810                         {
<a name="l00811"></a>00811                               $ControlCode = str_replace( <span class="stringliteral">&#39;{update_button}&#39;</span> , <span class="stringliteral">&#39;{update_button:p=1}&#39;</span> , $ControlCode );
<a name="l00812"></a>00812                         }
<a name="l00813"></a>00813                         
<a name="l00814"></a>00814                         <span class="keywordflow">for</span>( ; $MacroParameters = $this-&gt;String-&gt;get_macro_parameters( $ControlCode , <span class="stringliteral">&#39;update_button&#39;</span> ) ; )
<a name="l00815"></a>00815                         {
<a name="l00816"></a>00816                               $this-&gt;MacroSettings-&gt;load_settings( $MacroParameters );
<a name="l00817"></a>00817                               $ButtonCode = $this-&gt;<a class="code" href="classcommon__buttons__1__0__0.html#aa484dcb1a936cafdc9786e9646f6b341">get_common_update_button_content</a>( $CommonButtonConfig );
<a name="l00818"></a>00818                               $ControlCode = str_replace( <span class="stringliteral">&quot;{update_button:$MacroParameters}&quot;</span> , $ButtonCode , $ControlCode );
<a name="l00819"></a>00819                         }
<a name="l00820"></a>00820                         
<a name="l00821"></a>00821                         <span class="keywordflow">return</span>( $ControlCode );
<a name="l00822"></a>00822                   }
<a name="l00823"></a>00823                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00824"></a>00824                   {
<a name="l00825"></a>00825                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00826"></a>00826                   }
<a name="l00827"></a>00827             }
<a name="l00828"></a>00828             
<a name="l00859"></a><a class="code" href="classcommon__buttons__1__0__0.html#a22d5fbdd4f672291dd5ffa3833dcc52d">00859</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a22d5fbdd4f672291dd5ffa3833dcc52d">process_copy_button_creation</a>( <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> , $Options , $ControlCode )
<a name="l00860"></a>00860             {
<a name="l00861"></a>00861                   <span class="keywordflow">try</span>
<a name="l00862"></a>00862                   {
<a name="l00863"></a>00863                         $CommonButtonConfig = $this-&gt;ContextSetUtilities-&gt;load_common_state_config( 
<a name="l00864"></a>00864                               <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> , 
<a name="l00865"></a>00865                               <span class="stringliteral">&#39;common_state_config_copy_form&#39;</span> , 
<a name="l00866"></a>00866                               <span class="stringliteral">&#39;cfcxs_copy_form&#39;</span> , 
<a name="l00867"></a>00867                               $Options-&gt;get_setting( <span class="stringliteral">&#39;file_path&#39;</span> )
<a name="l00868"></a>00868                         );
<a name="l00869"></a>00869                         
<a name="l00870"></a>00870                         <span class="keywordflow">if</span>( strpos( $ControlCode , <span class="stringliteral">&#39;{copy_button}&#39;</span> ) !== false )
<a name="l00871"></a>00871                         {
<a name="l00872"></a>00872                               $ControlCode = str_replace( <span class="stringliteral">&#39;{copy_button}&#39;</span> , <span class="stringliteral">&#39;{copy_button:p=1}&#39;</span> , $ControlCode );
<a name="l00873"></a>00873                         }
<a name="l00874"></a>00874                         
<a name="l00875"></a>00875                         <span class="keywordflow">for</span>( ; $MacroParameters = $this-&gt;String-&gt;get_macro_parameters( $ControlCode , <span class="stringliteral">&#39;copy_button&#39;</span> ) ; )
<a name="l00876"></a>00876                         {
<a name="l00877"></a>00877                               $this-&gt;MacroSettings-&gt;load_settings( $MacroParameters );
<a name="l00878"></a>00878                               $ButtonCode = $this-&gt;<a class="code" href="classcommon__buttons__1__0__0.html#acd0a035b97a10699d8a5785c9af9706d">get_common_copy_button_content</a>( $CommonButtonConfig );
<a name="l00879"></a>00879                               $ControlCode = str_replace( <span class="stringliteral">&quot;{copy_button:$MacroParameters}&quot;</span> , $ButtonCode , $ControlCode );
<a name="l00880"></a>00880                         }
<a name="l00881"></a>00881                         
<a name="l00882"></a>00882                         <span class="keywordflow">return</span>( $ControlCode );
<a name="l00883"></a>00883                   }
<a name="l00884"></a>00884                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00885"></a>00885                   {
<a name="l00886"></a>00886                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00887"></a>00887                   }
<a name="l00888"></a>00888             }
<a name="l00889"></a>00889             
<a name="l00920"></a><a class="code" href="classcommon__buttons__1__0__0.html#a6e45de83779f4be17eeed856afb259d2">00920</a>             function                <a class="code" href="classcommon__buttons__1__0__0.html#a6e45de83779f4be17eeed856afb259d2">process_delete_button_creation</a>( <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> , $Options , $ControlCode )
<a name="l00921"></a>00921             {
<a name="l00922"></a>00922                   <span class="keywordflow">try</span>
<a name="l00923"></a>00923                   {
<a name="l00924"></a>00924                         $CommonButtonConfig = $this-&gt;ContextSetUtilities-&gt;load_common_state_config( 
<a name="l00925"></a>00925                               <a class="code" href="classcommon__buttons__1__0__0.html#a2c1da60c6cd872abbb042bcd58b7c10d">$Settings</a> , 
<a name="l00926"></a>00926                               <span class="stringliteral">&#39;common_state_config_delete_button&#39;</span> , 
<a name="l00927"></a>00927                               <span class="stringliteral">&#39;cfcxs_delete_button&#39;</span> , 
<a name="l00928"></a>00928                               $Options-&gt;get_setting( <span class="stringliteral">&#39;file_path&#39;</span> )
<a name="l00929"></a>00929                         );
<a name="l00930"></a>00930                         
<a name="l00931"></a>00931                         <span class="keywordflow">if</span>( strpos( $ControlCode , <span class="stringliteral">&#39;{delete_button}&#39;</span> ) !== false )
<a name="l00932"></a>00932                         {
<a name="l00933"></a>00933                               $ControlCode = str_replace( <span class="stringliteral">&#39;{delete_button}&#39;</span> , <span class="stringliteral">&#39;{delete_button:p=1}&#39;</span> , $ControlCode );
<a name="l00934"></a>00934                         }
<a name="l00935"></a>00935                         <span class="keywordflow">for</span>( ; $MacroParameters = $this-&gt;String-&gt;get_macro_parameters( $ControlCode , <span class="stringliteral">&#39;delete_button&#39;</span> ) ; )
<a name="l00936"></a>00936                         {
<a name="l00937"></a>00937                               $this-&gt;MacroSettings-&gt;load_settings( $MacroParameters );
<a name="l00938"></a>00938                               $ButtonCode = $this-&gt;<a class="code" href="classcommon__buttons__1__0__0.html#a8b21dc8125623548be9b68a1562111e6">get_common_delete_button_content</a>($CommonButtonConfig , $this-&gt;MacroSettings );
<a name="l00939"></a>00939                               $ControlCode = str_replace( <span class="stringliteral">&quot;{delete_button:$MacroParameters}&quot;</span> , $ButtonCode , $ControlCode );
<a name="l00940"></a>00940                         }
<a name="l00941"></a>00941                         
<a name="l00942"></a>00942                         <span class="keywordflow">return</span>( $ControlCode );
<a name="l00943"></a>00943                   }
<a name="l00944"></a>00944                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00945"></a>00945                   {
<a name="l00946"></a>00946                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00947"></a>00947                   }
<a name="l00948"></a>00948             }
<a name="l00949"></a>00949       }
<a name="l00950"></a>00950 ?&gt;
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 3 2011 14:49:49 for ultimix by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
