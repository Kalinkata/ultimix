<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ultimix: G:/projects/webdev/wwwroot/ultimix/packages/category/packages/category_algorithms/category_algorithms.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>G:/projects/webdev/wwwroot/ultimix/packages/category/packages/category_algorithms/category_algorithms.php</h1>  </div>
</div>
<div class="contents">
<a href="category__algorithms_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 
<a name="l00003"></a>00003       <span class="comment">/*</span>
<a name="l00004"></a>00004 <span class="comment">      *     This source code is a part of the Ultimix Project. </span>
<a name="l00005"></a>00005 <span class="comment">      *     It is distributed under BSD license. All other third side source code (like tinyMCE) is distributed under </span>
<a name="l00006"></a>00006 <span class="comment">      *     it&#39;s own license wich could be found from the corresponding files or sources. </span>
<a name="l00007"></a>00007 <span class="comment">      *     This source code is provided &quot;as is&quot; without any warranties or garanties.</span>
<a name="l00008"></a>00008 <span class="comment">      *</span>
<a name="l00009"></a>00009 <span class="comment">      *     Have a nice day!</span>
<a name="l00010"></a>00010 <span class="comment">      *</span>
<a name="l00011"></a>00011 <span class="comment">      *     @url http://ultimix.sorceforge.net</span>
<a name="l00012"></a>00012 <span class="comment">      *</span>
<a name="l00013"></a>00013 <span class="comment">      *     @author Alexey &quot;gdever&quot; Dodonov</span>
<a name="l00014"></a>00014 <span class="comment">      */</span>
<a name="l00015"></a>00015 
<a name="l00026"></a><a class="code" href="classcategory__algorithms__1__0__0.html">00026</a>       <span class="keyword">class </span><a class="code" href="classcategory__algorithms__1__0__0.html">category_algorithms_1_0_0</a>{
<a name="l00027"></a>00027       
<a name="l00038"></a><a class="code" href="classcategory__algorithms__1__0__0.html#a1c7520329d8a550e04d39a14534d5882">00038</a>             var                           <a class="code" href="classcategory__algorithms__1__0__0.html#a1c7520329d8a550e04d39a14534d5882">$CategoryAccess</a> = <span class="keyword">false</span>;
<a name="l00039"></a><a class="code" href="classcategory__algorithms__1__0__0.html#aeabe0ef548439095080c9a173b3a609d">00039</a>             var                           <a class="code" href="classcategory__algorithms__1__0__0.html#aeabe0ef548439095080c9a173b3a609d">$Link</a> = <span class="keyword">false</span>;
<a name="l00040"></a><a class="code" href="classcategory__algorithms__1__0__0.html#aaae5f70ebc2b60f22e8159944cd2d518">00040</a>             var                           <a class="code" href="classcategory__algorithms__1__0__0.html#aaae5f70ebc2b60f22e8159944cd2d518">$Security</a> = <span class="keyword">false</span>;
<a name="l00041"></a>00041       
<a name="l00052"></a><a class="code" href="classcategory__algorithms__1__0__0.html#a095c5d389db211932136b53f25f39685">00052</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#a095c5d389db211932136b53f25f39685">__construct</a>()
<a name="l00053"></a>00053             {
<a name="l00054"></a>00054                   <span class="keywordflow">try</span>
<a name="l00055"></a>00055                   {
<a name="l00056"></a>00056                         $this-&gt;CategoryAccess = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;category::category_access&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
<a name="l00057"></a>00057                         $this-&gt;Link = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;link&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
<a name="l00058"></a>00058                         $this-&gt;Security = <a class="code" href="core__public__api_8php.html#a3ba50cf690fa88e981b38b4779f18759">get_package</a>( <span class="stringliteral">&#39;security&#39;</span> , <span class="stringliteral">&#39;last&#39;</span> , __FILE__ );
<a name="l00059"></a>00059                   }
<a name="l00060"></a>00060                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00061"></a>00061                   {
<a name="l00062"></a>00062                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00063"></a>00063                   }
<a name="l00064"></a>00064             }
<a name="l00065"></a>00065       
<a name="l00092"></a><a class="code" href="classcategory__algorithms__1__0__0.html#acda4894d0e7e2e71a801bce037a19ce9">00092</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#acda4894d0e7e2e71a801bce037a19ce9">get_children</a>( $RootId , &amp;$AllItems )
<a name="l00093"></a>00093             {
<a name="l00094"></a>00094                   <span class="keywordflow">try</span>
<a name="l00095"></a>00095                   {
<a name="l00096"></a>00096                         $ReturnItems = array();
<a name="l00097"></a>00097                         
<a name="l00098"></a>00098                         <span class="keywordflow">foreach</span>( $AllItems as $k =&gt; $v )
<a name="l00099"></a>00099                         {
<a name="l00100"></a>00100                               <span class="keywordflow">if</span>( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $v , <span class="stringliteral">&#39;root_id&#39;</span> ) == $RootId )
<a name="l00101"></a>00101                               {
<a name="l00102"></a>00102                                     $ReturnItems [] = $v;
<a name="l00103"></a>00103                               }
<a name="l00104"></a>00104                         }
<a name="l00105"></a>00105                         
<a name="l00106"></a>00106                         <span class="keywordflow">return</span>( $ReturnItems );
<a name="l00107"></a>00107                   }
<a name="l00108"></a>00108                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00109"></a>00109                   {
<a name="l00110"></a>00110                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00111"></a>00111                   }
<a name="l00112"></a>00112             }
<a name="l00113"></a>00113             
<a name="l00140"></a><a class="code" href="classcategory__algorithms__1__0__0.html#a0c3e2912d73bc782200e7c199c081efb">00140</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#a0c3e2912d73bc782200e7c199c081efb">get_siblings</a>( $RootId , &amp;$AllItems )
<a name="l00141"></a>00141             {
<a name="l00142"></a>00142                   <span class="keywordflow">try</span>
<a name="l00143"></a>00143                   {
<a name="l00144"></a>00144                         $ReturnItems = array();
<a name="l00145"></a>00145                         $Ids = array( $RootId );
<a name="l00146"></a>00146                         $c = count( $AllItems );
<a name="l00147"></a>00147                         
<a name="l00148"></a>00148                         <span class="keywordflow">for</span>( $i = 0 ; $i &lt; $c ; $i++ )
<a name="l00149"></a>00149                         {
<a name="l00150"></a>00150                               <span class="keywordflow">if</span>( array_search( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $AllItems[ $i ] , <span class="stringliteral">&#39;root_id&#39;</span> ) , $Ids ) !== <span class="keyword">false</span> &amp;&amp; 
<a name="l00151"></a>00151                                   array_search( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $AllItems[ $i ] , <span class="stringliteral">&#39;id&#39;</span> ) , $Ids ) === <span class="keyword">false</span> )
<a name="l00152"></a>00152                               {
<a name="l00153"></a>00153                                     <span class="comment">/* типа предка уже выбрали а сам элемент ещё нет */</span>
<a name="l00154"></a>00154                                     $Ids [] = <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $AllItems[ $i ] , <span class="stringliteral">&#39;id&#39;</span> );
<a name="l00155"></a>00155                                     $ReturnItems [] = $AllItems[ $i ];
<a name="l00156"></a>00156                                     $i = -1;
<a name="l00157"></a>00157                               }
<a name="l00158"></a>00158                         }
<a name="l00159"></a>00159 
<a name="l00160"></a>00160                         <span class="keywordflow">return</span>( $ReturnItems );
<a name="l00161"></a>00161                   }
<a name="l00162"></a>00162                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00163"></a>00163                   {
<a name="l00164"></a>00164                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00165"></a>00165                   }
<a name="l00166"></a>00166             }
<a name="l00167"></a>00167             
<a name="l00194"></a><a class="code" href="classcategory__algorithms__1__0__0.html#a1dea4034faae9f2123cac0a646f51de7">00194</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#a1dea4034faae9f2123cac0a646f51de7">get_previous_items</a>( $AllItems , $LeafId )
<a name="l00195"></a>00195             {
<a name="l00196"></a>00196                   <span class="keywordflow">try</span>
<a name="l00197"></a>00197                   {
<a name="l00198"></a>00198                         $ReturnItems = array();
<a name="l00199"></a>00199                         $CurrentId = $LeafId;                     
<a name="l00200"></a>00200                         $ItemFound = <span class="keyword">false</span>;
<a name="l00201"></a>00201                         
<a name="l00202"></a>00202                         <span class="keywordflow">do</span>
<a name="l00203"></a>00203                         {
<a name="l00204"></a>00204                               $ItemFound = <span class="keyword">false</span>;
<a name="l00205"></a>00205                               <span class="keywordflow">foreach</span>( $AllItems as $k =&gt; $v )
<a name="l00206"></a>00206                               {
<a name="l00207"></a>00207                                     <span class="keywordflow">if</span>( $v-&gt;id == $CurrentId )
<a name="l00208"></a>00208                                     {
<a name="l00209"></a>00209                                           $ReturnItems [] = $v;
<a name="l00210"></a>00210                                           $CurrentId = $v-&gt;root_id;
<a name="l00211"></a>00211                                           $ItemFound = <span class="keyword">true</span>;
<a name="l00212"></a>00212                                           <span class="keywordflow">break</span>;
<a name="l00213"></a>00213                                     }
<a name="l00214"></a>00214                               }
<a name="l00215"></a>00215                         }
<a name="l00216"></a>00216                         <span class="keywordflow">while</span>( $ItemFound );
<a name="l00217"></a>00217                         
<a name="l00218"></a>00218                         <span class="keywordflow">return</span>( array_reverse( isset( $ReturnItems[ 1 ] ) ? $ReturnItems : array() ) );
<a name="l00219"></a>00219                   }
<a name="l00220"></a>00220                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00221"></a>00221                   {
<a name="l00222"></a>00222                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00223"></a>00223                   }
<a name="l00224"></a>00224             }
<a name="l00225"></a>00225             
<a name="l00252"></a><a class="code" href="classcategory__algorithms__1__0__0.html#a9b3543f75f8e53f86dc3d94dd9a738b0">00252</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#a9b3543f75f8e53f86dc3d94dd9a738b0">get_object_categories</a>( $MasterId , $MasterType )
<a name="l00253"></a>00253             {
<a name="l00254"></a>00254                   <span class="keywordflow">try</span>
<a name="l00255"></a>00255                   {
<a name="l00256"></a>00256                         $Links = $this-&gt;Link-&gt;get_links( $MasterId , <span class="keyword">false</span> , $MasterType , <span class="stringliteral">&#39;category&#39;</span> );
<a name="l00257"></a>00257                         
<a name="l00258"></a>00258                         $CategoryIds = <a class="code" href="functional__programming_8php.html#a9c56c5cb857578644fdd5deaba4cd63f">get_field_ex</a>( $Links , <span class="stringliteral">&#39;object2_id&#39;</span> );
<a name="l00259"></a>00259                         
<a name="l00260"></a>00260                         <span class="keywordflow">if</span>( isset( $CategoryIds[ 0 ] ) )
<a name="l00261"></a>00261                         {
<a name="l00262"></a>00262                               $CategoryIds = implode( <span class="charliteral">&#39;,&#39;</span> , $CategoryIds );
<a name="l00263"></a>00263                               
<a name="l00264"></a>00264                               <span class="keywordflow">return</span>( $this-&gt;CategoryAccess-&gt;unsafe_select( <span class="stringliteral">&quot;id IN ( $CategoryIds )&quot;</span> ) );
<a name="l00265"></a>00265                         }
<a name="l00266"></a>00266                         <span class="keywordflow">else</span>
<a name="l00267"></a>00267                         {
<a name="l00268"></a>00268                               <span class="keywordflow">return</span>( array() );
<a name="l00269"></a>00269                         }
<a name="l00270"></a>00270                   }
<a name="l00271"></a>00271                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00272"></a>00272                   {
<a name="l00273"></a>00273                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00274"></a>00274                   }
<a name="l00275"></a>00275             }
<a name="l00276"></a>00276             
<a name="l00299"></a><a class="code" href="classcategory__algorithms__1__0__0.html#a06640780405f27a83a4fa46cf80f8b02">00299</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#a06640780405f27a83a4fa46cf80f8b02">get_by_id</a>( $id )
<a name="l00300"></a>00300             {
<a name="l00301"></a>00301                   <span class="keywordflow">try</span>
<a name="l00302"></a>00302                   {
<a name="l00303"></a>00303                         $id = $this-&gt;Security-&gt;get( $id , <span class="stringliteral">&#39;integer&#39;</span> );
<a name="l00304"></a>00304                         
<a name="l00305"></a>00305                         $Users = $this-&gt;CategoryAccess-&gt;unsafe_select( $this-&gt;CategoryAccess-&gt;NativeTable.<span class="stringliteral">&quot;.id = $id&quot;</span> );
<a name="l00306"></a>00306 
<a name="l00307"></a>00307                         <span class="keywordflow">if</span>( count( $Users ) === 0 || count( $Users ) &gt; 1 )
<a name="l00308"></a>00308                         {
<a name="l00309"></a>00309                               <span class="keywordflow">throw</span>( <span class="keyword">new</span> Exception( <span class="stringliteral">&#39;Category with id &#39;</span>.$id.<span class="stringliteral">&#39; was not found&#39;</span> ) );
<a name="l00310"></a>00310                         }
<a name="l00311"></a>00311                         <span class="keywordflow">else</span>
<a name="l00312"></a>00312                         {
<a name="l00313"></a>00313                               <span class="keywordflow">return</span>( $Users[ 0 ] );
<a name="l00314"></a>00314                         }
<a name="l00315"></a>00315                   }
<a name="l00316"></a>00316                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00317"></a>00317                   {
<a name="l00318"></a>00318                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00319"></a>00319                   }
<a name="l00320"></a>00320             }
<a name="l00321"></a>00321             
<a name="l00344"></a><a class="code" href="classcategory__algorithms__1__0__0.html#a953c925b21bbc0977f8bfbd81c35cc48">00344</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#a953c925b21bbc0977f8bfbd81c35cc48">object_exists</a>( $id )
<a name="l00345"></a>00345             {
<a name="l00346"></a>00346                   <span class="keywordflow">try</span>
<a name="l00347"></a>00347                   {
<a name="l00348"></a>00348                         $id = $this-&gt;Security-&gt;get( $id , <span class="stringliteral">&#39;integer&#39;</span> );
<a name="l00349"></a>00349                         
<a name="l00350"></a>00350                         $Records = $this-&gt;CategoryAccess-&gt;unsafe_select( $this-&gt;CategoryAccess-&gt;NativeTable.<span class="stringliteral">&quot;.id = $id&quot;</span> );
<a name="l00351"></a>00351                         
<a name="l00352"></a>00352                         <span class="keywordflow">return</span>( count( $Records ) === 1 );
<a name="l00353"></a>00353                   }
<a name="l00354"></a>00354                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00355"></a>00355                   {
<a name="l00356"></a>00356                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00357"></a>00357                   }
<a name="l00358"></a>00358             }
<a name="l00359"></a>00359             
<a name="l00382"></a><a class="code" href="classcategory__algorithms__1__0__0.html#ac1cabbba085c14178e840bf25a574163">00382</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#ac1cabbba085c14178e840bf25a574163">create</a>( $Record )
<a name="l00383"></a>00383             {
<a name="l00384"></a>00384                   <span class="keywordflow">try</span>
<a name="l00385"></a>00385                   {
<a name="l00386"></a>00386                         $id = $this-&gt;CategoryAccess-&gt;create( $Record );
<a name="l00387"></a>00387                         
<a name="l00388"></a>00388                         <span class="keywordflow">if</span>( <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Record , <span class="stringliteral">&#39;direct_category&#39;</span> , <span class="keyword">false</span> ) === <span class="keyword">false</span> )
<a name="l00389"></a>00389                         {
<a name="l00390"></a>00390                               <span class="comment">/* если при создании не была указана direct_category то она наследуется у предка */</span>
<a name="l00391"></a>00391                               $RootId = <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $Record , <span class="stringliteral">&#39;root_id&#39;</span> );
<a name="l00392"></a>00392                               
<a name="l00393"></a>00393                               <span class="keywordflow">if</span>( $this-&gt;<a class="code" href="classcategory__algorithms__1__0__0.html#a953c925b21bbc0977f8bfbd81c35cc48">object_exists</a>( $RootId ) )
<a name="l00394"></a>00394                               {
<a name="l00395"></a>00395                                     $RootCategory = $this-&gt;<a class="code" href="classcategory__algorithms__1__0__0.html#a06640780405f27a83a4fa46cf80f8b02">get_by_id</a>( $RootId );
<a name="l00396"></a>00396                                     $DirectCategory = <a class="code" href="functional__programming_8php.html#a113f39218a0e805d475fbc5ab87a16ab">get_field</a>( $RootCategory , <span class="stringliteral">&#39;direct_category&#39;</span> );
<a name="l00397"></a>00397                                     $this-&gt;CategoryAccess-&gt;update( $id , array( <span class="stringliteral">&#39;direct_category&#39;</span> =&gt; $DirectCategory ) );
<a name="l00398"></a>00398                               }
<a name="l00399"></a>00399                         }
<a name="l00400"></a>00400                         
<a name="l00401"></a>00401                         <span class="keywordflow">return</span>( $id );
<a name="l00402"></a>00402                   }
<a name="l00403"></a>00403                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00404"></a>00404                   {
<a name="l00405"></a>00405                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00406"></a>00406                   }
<a name="l00407"></a>00407             }
<a name="l00408"></a>00408             
<a name="l00435"></a><a class="code" href="classcategory__algorithms__1__0__0.html#ac204b13d7825b9e0eacfe0d581ebbebd">00435</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#ac204b13d7825b9e0eacfe0d581ebbebd">update_category_title</a>( $cid , $Title )
<a name="l00436"></a>00436             {
<a name="l00437"></a>00437                   <span class="keywordflow">try</span>
<a name="l00438"></a>00438                   {
<a name="l00439"></a>00439                         $cid = $this-&gt;Security-&gt;get( $cid , <span class="stringliteral">&#39;integer&#39;</span> );
<a name="l00440"></a>00440                         $Title = $this-&gt;Security-&gt;get( $Title , <span class="stringliteral">&#39;string&#39;</span> );
<a name="l00441"></a>00441                         
<a name="l00442"></a>00442                         $this-&gt;CategoryAccess-&gt;update( $cid , array( <span class="stringliteral">&#39;title&#39;</span> =&gt; $Title ) );
<a name="l00443"></a>00443                   }
<a name="l00444"></a>00444                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00445"></a>00445                   {
<a name="l00446"></a>00446                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00447"></a>00447                   }
<a name="l00448"></a>00448             }
<a name="l00449"></a>00449             
<a name="l00472"></a><a class="code" href="classcategory__algorithms__1__0__0.html#af9c2d53924ca33bdfbb8a8eff04f154f">00472</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#af9c2d53924ca33bdfbb8a8eff04f154f">get_category_ids</a>( $Names )
<a name="l00473"></a>00473             {
<a name="l00474"></a>00474                   <span class="keywordflow">try</span>
<a name="l00475"></a>00475                   {
<a name="l00476"></a>00476                         <span class="keywordflow">if</span>( $Names == <span class="stringliteral">&#39;&#39;</span> )
<a name="l00477"></a>00477                         {
<a name="l00478"></a>00478                               <span class="keywordflow">return</span>( array() );
<a name="l00479"></a>00479                         }
<a name="l00480"></a>00480                         
<a name="l00481"></a>00481                         <span class="keywordflow">if</span>( is_string( $Names ) )
<a name="l00482"></a>00482                         {
<a name="l00483"></a>00483                               $Names = explode( <span class="charliteral">&#39;,&#39;</span> , $Names );
<a name="l00484"></a>00484                         }
<a name="l00485"></a>00485                         
<a name="l00486"></a>00486                         $Ids = array();
<a name="l00487"></a>00487                         
<a name="l00488"></a>00488                         <span class="keywordflow">foreach</span>( $Names as $k =&gt; $v )
<a name="l00489"></a>00489                         {
<a name="l00490"></a>00490                               $Ids [] = $this-&gt;CategoryAccess-&gt;get_category_id( $v );
<a name="l00491"></a>00491                         }
<a name="l00492"></a>00492                         
<a name="l00493"></a>00493                         <span class="keywordflow">return</span>( $Ids );
<a name="l00494"></a>00494                   }
<a name="l00495"></a>00495                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00496"></a>00496                   {
<a name="l00497"></a>00497                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00498"></a>00498                   }
<a name="l00499"></a>00499             }
<a name="l00500"></a>00500             
<a name="l00523"></a><a class="code" href="classcategory__algorithms__1__0__0.html#a8fa16b9dcce77c0a20331435bc0352d3">00523</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#a8fa16b9dcce77c0a20331435bc0352d3">get_children_by_name</a>( $Name )
<a name="l00524"></a>00524             {
<a name="l00525"></a>00525                   <span class="keywordflow">try</span>
<a name="l00526"></a>00526                   {
<a name="l00527"></a>00527                         $id = $this-&gt;CategoryAccess-&gt;get_category_id( $Name );
<a name="l00528"></a>00528 
<a name="l00529"></a>00529                         <span class="keywordflow">return</span>( $this-&gt;CategoryAccess-&gt;get_children( $id ) );
<a name="l00530"></a>00530                   }
<a name="l00531"></a>00531                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00532"></a>00532                   {
<a name="l00533"></a>00533                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00534"></a>00534                   }
<a name="l00535"></a>00535             }
<a name="l00536"></a>00536             
<a name="l00559"></a><a class="code" href="classcategory__algorithms__1__0__0.html#ada0d7c4dc3c955a0d5830a2b767f870f">00559</a>             function                <a class="code" href="classcategory__algorithms__1__0__0.html#ada0d7c4dc3c955a0d5830a2b767f870f">select_categories_list_by_name</a>( $Name )
<a name="l00560"></a>00560             {
<a name="l00561"></a>00561                   <span class="keywordflow">try</span>
<a name="l00562"></a>00562                   {
<a name="l00563"></a>00563                         $id = $this-&gt;CategoryAccess-&gt;get_category_id( $Name );
<a name="l00564"></a>00564                         
<a name="l00565"></a>00565                         <span class="keywordflow">return</span>( $this-&gt;CategoryAccess-&gt;select_categories_list( $id ) );
<a name="l00566"></a>00566                   }
<a name="l00567"></a>00567                   <span class="keywordflow">catch</span>( Exception $e )
<a name="l00568"></a>00568                   {
<a name="l00569"></a>00569                         $a = func_get_args();<a class="code" href="core__utilities_8php.html#abfba210aa5ad8e9a273b3342263c2961">_throw_exception_object</a>( __METHOD__ , $a , $e );
<a name="l00570"></a>00570                   }
<a name="l00571"></a>00571             }
<a name="l00572"></a>00572       }
<a name="l00573"></a>00573       
<a name="l00574"></a>00574 ?&gt;
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 3 2011 14:49:45 for ultimix by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
